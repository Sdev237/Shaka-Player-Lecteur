{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jedeo\\\\Bureau\\\\lecteur player\\\\src\\\\components\\\\VideoPlayer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport shaka from \"shaka-player\";\nimport \"shaka-player/dist/controls.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = () => {\n  _s();\n  const videoRef = useRef(null);\n  const playerRef = useRef(null);\n  useEffect(() => {\n    // Initialiser Shaka Player\n    const initPlayer = async () => {\n      if (!videoRef.current) return;\n\n      // Créer une instance de Shaka Player\n      const player = new shaka.Player(videoRef.current);\n      playerRef.current = player;\n\n      // Configurer le DRM (exemple avec Widevine)\n      const drmConfig = {\n        servers: {\n          \"com.widevine.alpha\": \"https://license.widevine.com/getlicense\"\n        }\n      };\n      player.configure(\"drm\", drmConfig);\n\n      // Configurer la publicité (exemple avec IMA)\n      const adConfig = {\n        adTagUrl: \"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=\"\n      };\n      player.configure(\"ad\", adConfig);\n      try {\n        // Charger la vidéo (remplacer par ton URL)\n        await player.load(\"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd\");\n      } catch (error) {\n        console.error(\"Erreur lors du chargement de la vidéo:\", error);\n      }\n    };\n    initPlayer();\n\n    // Nettoyer à la destruction du composant\n    return () => {\n      if (playerRef.current) {\n        playerRef.current.destroy();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      controls: true,\n      style: {\n        width: \"100%\",\n        maxWidth: \"800px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"95m4jk0O8q9aoo9/P2/PEXhWklM=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","shaka","jsxDEV","_jsxDEV","VideoPlayer","_s","videoRef","playerRef","initPlayer","current","player","Player","drmConfig","servers","configure","adConfig","adTagUrl","load","error","console","destroy","children","ref","controls","style","width","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/jedeo/Bureau/lecteur player/src/components/VideoPlayer.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport shaka from \"shaka-player\";\r\nimport \"shaka-player/dist/controls.css\";\r\n\r\nconst VideoPlayer = () => {\r\n  const videoRef = useRef(null);\r\n  const playerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Initialiser Shaka Player\r\n    const initPlayer = async () => {\r\n      if (!videoRef.current) return;\r\n\r\n      // Créer une instance de Shaka Player\r\n      const player = new shaka.Player(videoRef.current);\r\n      playerRef.current = player;\r\n\r\n      // Configurer le DRM (exemple avec Widevine)\r\n      const drmConfig = {\r\n        servers: {\r\n          \"com.widevine.alpha\": \"https://license.widevine.com/getlicense\",\r\n        },\r\n      };\r\n      player.configure(\"drm\", drmConfig);\r\n\r\n      // Configurer la publicité (exemple avec IMA)\r\n      const adConfig = {\r\n        adTagUrl:\r\n          \"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=\",\r\n      };\r\n      player.configure(\"ad\", adConfig);\r\n\r\n      try {\r\n        // Charger la vidéo (remplacer par ton URL)\r\n        await player.load(\r\n          \"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd\"\r\n        );\r\n      } catch (error) {\r\n        console.error(\"Erreur lors du chargement de la vidéo:\", error);\r\n      }\r\n    };\r\n\r\n    initPlayer();\r\n\r\n    // Nettoyer à la destruction du composant\r\n    return () => {\r\n      if (playerRef.current) {\r\n        playerRef.current.destroy();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <video\r\n        ref={videoRef}\r\n        controls\r\n        style={{ width: \"100%\", maxWidth: \"800px\" }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,KAAK,MAAM,cAAc;AAChC,OAAO,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGN,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMO,SAAS,GAAGP,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd;IACA,MAAMS,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI,CAACF,QAAQ,CAACG,OAAO,EAAE;;MAEvB;MACA,MAAMC,MAAM,GAAG,IAAIT,KAAK,CAACU,MAAM,CAACL,QAAQ,CAACG,OAAO,CAAC;MACjDF,SAAS,CAACE,OAAO,GAAGC,MAAM;;MAE1B;MACA,MAAME,SAAS,GAAG;QAChBC,OAAO,EAAE;UACP,oBAAoB,EAAE;QACxB;MACF,CAAC;MACDH,MAAM,CAACI,SAAS,CAAC,KAAK,EAAEF,SAAS,CAAC;;MAElC;MACA,MAAMG,QAAQ,GAAG;QACfC,QAAQ,EACN;MACJ,CAAC;MACDN,MAAM,CAACI,SAAS,CAAC,IAAI,EAAEC,QAAQ,CAAC;MAEhC,IAAI;QACF;QACA,MAAML,MAAM,CAACO,IAAI,CACf,qEACF,CAAC;MACH,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAChE;IACF,CAAC;IAEDV,UAAU,CAAC,CAAC;;IAEZ;IACA,OAAO,MAAM;MACX,IAAID,SAAS,CAACE,OAAO,EAAE;QACrBF,SAAS,CAACE,OAAO,CAACW,OAAO,CAAC,CAAC;MAC7B;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEjB,OAAA;IAAAkB,QAAA,eACElB,OAAA;MACEmB,GAAG,EAAEhB,QAAS;MACdiB,QAAQ;MACRC,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,QAAQ,EAAE;MAAQ;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACzB,EAAA,CAzDID,WAAW;AAAA2B,EAAA,GAAX3B,WAAW;AA2DjB,eAAeA,WAAW;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}