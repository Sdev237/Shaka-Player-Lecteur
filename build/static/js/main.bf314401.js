/*! For license information please see main.bf314401.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,x=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:T.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,S(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),M(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",S(e))for(var l=0;l<e.length;l++){var c=a+C(s=e[l],l);u+=M(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=M(s=s.value,t,i,c=a+C(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};function _(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=_,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=_,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,p=3,h=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function S(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,R(x);else{var t=r(c);null!==t&&N(S,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(E),E=-1),h=!0;var a=p;try{for(w(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!M());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),w(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&N(S,d.startTime-n),u=!1}return u}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,k=!1,A=null,E=-1,I=5,C=-1;function M(){return!(t.unstable_now()-C<I)}function D(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?T():(k=!1,A=null)}}else k=!1}if("function"===typeof b)T=function(){b(D)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=D,T=function(){L.postMessage(null)}}else T=function(){v(D,0)};function R(e){A=e,k||(k=!0,T())}function N(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(E),E=-1):m=!0,N(S,a-o))):(e.sortIndex=s,n(l,e),g||h||(g=!0,R(x))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},552:(e,t,n)=>{!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var i in function(e,t,n){var r;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(e,t){if(t)e:{var n=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function l(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:a(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function d(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}u("Symbol",(function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=s[t[n]];"function"===typeof r&&"function"!=typeof r.prototype[e]&&o(r.prototype,e,{configurable:!0,writable:!0,value:function(){return l(a(this))}})}return e}));var f,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var h;e:{var g={};try{g.__proto__={a:!0},h=g.a;break e}catch(TT){}h=!1}f=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=f;function v(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Tk=t.prototype}function y(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function b(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}function w(e,t){e.i={Ng:t,Yg:!0},e.g=e.m||e.j}function S(e,t,n){return e.g=n,{value:t}}function x(e){e.g=0}function T(e,t,n){e.m=t,void 0!=n&&(e.j=n)}function k(e,t){e.m=0,e.j=t||0}function A(e,t,n){e.g=t,e.m=n||0}function E(e,t){return e.m=t||0,t=e.i.Ng,e.i=null,t}function I(e){e.A=[e.i],e.m=0,e.j=0}function C(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Yg?e.g=e.m||e.j:void 0!=n.s&&e.j<n.s?(e.g=n.s,e.i=null):e.g=e.j:e.g=t}function M(e){this.g=new y,this.h=e}function D(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(o){return e.g.l=null,w(e.g,o),P(e)}return e.g.l=null,r.call(e.g,a),P(e)}function P(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,w(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Yg)throw t.Ng;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function L(e){this.next=function(t){return b(e.g),e.g.l?t=D(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=P(e)),t},this.throw=function(t){return b(e.g),e.g.l?t=D(e,e.g.l.throw,t,e.g.u):(w(e.g,t),t=P(e)),t},this.return=function(t){return function(e,t){b(e.g);var n=e.g.l;return n?D(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),P(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function R(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new L(new M(e)))}function N(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function O(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function U(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Wg:i,v:a}}return{Wg:-1,v:void 0}}y.prototype.u=function(e){this.h=e},y.prototype.return=function(e){this.i={return:e},this.g=this.j},y.prototype.s=function(e){this.g=e},u("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(i){t.reject(i)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=s.setTimeout;n.prototype.i=function(e){a(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.l)}},t.prototype.F=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.m(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(i){return void this.l(i)}"function"==typeof t?this.I(t,e):this.m(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.m=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.A()},t.prototype.G=function(){var e=this;a((function(){if(e.B()){var t=s.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.H=function(e){var t=this.j();e.Td(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Td(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Td=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?o.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=c(e),a=i.next();!a.done;a=i.next())r(a.value).Td(t,n)}))},t.all=function(e){var n=c(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Td(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),u("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!_(e,s)){var t=new n;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!_(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return r(e)&&_(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return r(e)&&_(e,s)&&_(e[s],this.g)},t.prototype.delete=function(e){return!!(r(e)&&_(e,s)&&_(e[s],this.g))&&delete e[s][this.g]},t})),u("Map",(function(e){function t(){var e={};return e.Wb=e.next=e.head=e}function n(e,t){var n=e[1];return l((function(){if(n){for(;n.head!=e[1];)n=n.Wb;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e[0][n];if(r&&_(e[0],n))for(e=0;e<r.length;e++){var i=r[e];if(t!==t&&i.key!==i.key||t===i.key)return{id:n,list:r,index:e,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(e){if(this[0]={},this[1]=t(),this.size=0,e){e=c(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this[0][n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this[1],Wb:this[1].Wb,head:this[1],key:e,value:t},n.list.push(n.entry),this[1].Wb.next=n.entry,this[1].Wb=n.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this[0][e.id],e.entry.Wb.next=e.entry.next,e.entry.next.Wb=e.entry.Wb,e.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this[0]={},this[1]=this[1].Wb=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),u("Set",(function(e){function t(e){if(this.g=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)})),u("Array.prototype.values",(function(e){return e||function(){return j(this,(function(e,t){return t}))}})),u("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),u("Array.prototype.keys",(function(e){return e||function(){return j(this,(function(e){return e}))}})),u("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),u("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),u("String.prototype.includes",(function(e){return e||function(e,t){return-1!==O(this,e,"includes").indexOf(e,t||0)}})),u("String.fromCodePoint",(function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t}})),u("Array.prototype.findIndex",(function(e){return e||function(e,t){return U(this,e,t).Wg}})),u("WeakSet",(function(e){function t(e){if(this.g=new WeakMap,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}}return function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([t]);return!(!r.has(t)||r.has(n))&&(r.delete(t),r.add(n),!r.has(t)&&r.has(n))}catch(i){return!1}}()?e:(t.prototype.add=function(e){return this.g.set(e,!0),this},t.prototype.has=function(e){return this.g.has(e)},t.prototype.delete=function(e){return this.g.delete(e)},t)})),u("Array.prototype.find",(function(e){return e||function(e,t){return U(this,e,t).v}})),u("String.prototype.startsWith",(function(e){return e||function(e,t){var n=O(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),u("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)_(e,t)&&n.push([t,e[t]]);return n}}));var F="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)_(r,i)&&(e[i]=r[i])}return e};u("Object.assign",(function(e){return e||F})),u("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),u("Array.prototype.entries",(function(e){return e||function(){return j(this,(function(e,t){return[e,t]}))}})),u("Number.isNaN",(function(e){return e||function(e){return"number"===typeof e&&isNaN(e)}})),u("String.prototype.repeat",(function(e){return e||function(e){var t=O(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),u("Number.EPSILON",(function(){return Math.pow(2,-52)})),u("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),u("Number.isFinite",(function(e){return e||function(e){return"number"===typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}})),u("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)_(e,t)&&n.push(e[t]);return n}})),u("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),u("String.prototype.endsWith",(function(e){return e||function(e,t){var n=O(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}})),u("Math.trunc",(function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}}));var B=this||self;function V(e,t){e=e.split(".");var n,r=B;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function H(){}function z(){}function G(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function K(e){return e.h/(1-Math.pow(e.g,e.i))}function q(){this.h=new G(2),this.j=new G(5),this.g=0,this.i=128e3,this.l=16e3}function W(){}function X(){}function Y(){}function $(e){var t=N.apply(1,arguments);J.has(e)||(J.add(e),Y.apply(W,d(t)))}function Q(){}G.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},q.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},q.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},q.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(K(this.h),K(this.j))};var J=new Set;function Z(){this.g=new Map}function ee(){this.g=new Z}function te(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=ne;if(void 0==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(i){t=!1}ne=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.g)}e.console&&((new Map).set(1,(function(){return console.error.apply(console,d(N.apply(0,arguments)))})).set(2,(function(){return console.warn.apply(console,d(N.apply(0,arguments)))})).set(3,(function(){return console.info.apply(console,d(N.apply(0,arguments)))})).set(4,(function(){return console.log.apply(console,d(N.apply(0,arguments)))})).set(5,(function(){return console.debug.apply(console,d(N.apply(0,arguments)))})).set(6,(function(){return console.debug.apply(console,d(N.apply(0,arguments)))})),Y=function(){return console.warn.apply(console,d(N.apply(0,arguments)))},X=function(){console.error.apply(console,d(N.apply(0,arguments)))}),(r=Z.prototype).push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},r.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},r.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter((function(e){return e!=t}));this.g.set(e,n),n.length||this.g.delete(e)}},r.forEach=function(e){this.g.forEach((function(t,n){e(n,t)}))},r.size=function(){return this.g.size},r.keys=function(){return Array.from(this.g.keys())},(r=ee.prototype).release=function(){this.Pa(),this.g=null},r.D=function(e,t,n,r){this.g&&(e=new te(e,t,n,r),this.g.push(t,e))},r.qa=function(e,t,n,r){var i=this;this.D(e,t,(function r(a){i.Ia(e,t,r),n(a)}),r)},r.Ia=function(e,t,n){if(this.g)for(var r=this.g.get(t)||[],i=(r=c(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.Ia(),this.g.remove(t,i))},r.Pa=function(){if(this.g){for(var e=[],t=c(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,d(n.value));for(t=(e=c(e)).next();!t.done;t=e.next())t.value.Ia();this.g.g.clear()}},V("shaka.util.EventManager",ee),ee.prototype.removeAll=ee.prototype.Pa,ee.prototype.unlisten=ee.prototype.Ia,ee.prototype.listenOnce=ee.prototype.qa,ee.prototype.listen=ee.prototype.D,ee.prototype.release=ee.prototype.release,te.prototype.Ia=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var ne=void 0;function re(e,t){this.g=e,this.h=t}function ie(e,t){var n=new re(5,0),r=se,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function ae(e,t,n,r){Y([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function oe(e,t,n,r){X([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}V("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),re.prototype.toString=function(){return"v"+this.g+"."+this.h};var se=null,ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function le(e){var t;e instanceof le?(ce(this,e.Ib),this.Fc=e.Fc,de(this,e.lb),fe(this,e.Yc),this.Za=e.Za,pe(this,e.g.clone()),this.qc=e.qc):e&&(t=String(e).match(ue))?(ce(this,t[1]||"",!0),this.Fc=he(t[2]||""),de(this,t[3]||"",!0),fe(this,t[4]),this.Za=he(t[5]||"",!0),pe(this,t[6]||"",!0),this.qc=he(t[7]||"")):this.g=new xe(null)}function ce(e,t,n){e.Ib=n?he(t,!0):t,e.Ib&&(e.Ib=e.Ib.replace(/:$/,""))}function de(e,t,n){e.lb=n?he(t,!0):t}function fe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Yc=t}else e.Yc=null}function pe(e,t,n){t instanceof xe?e.g=t:(n||(t=ge(t,we)),e.g=new xe(t))}function he(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function ge(e,t,n){return null!=e?(e=encodeURI(e).replace(t,me),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function me(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=le.prototype).Ib="",r.Fc="",r.lb="",r.Yc=null,r.Za="",r.qc="",r.toString=function(){var e=[],t=this.Ib;if(t&&e.push(ge(t,ve,!0),":"),t=this.lb){e.push("//");var n=this.Fc;n&&e.push(ge(n,ve,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Yc)&&e.push(":",String(t))}return(t=this.Za)&&(this.lb&&"/"!=t.charAt(0)&&e.push("/"),e.push(ge(t,"/"==t.charAt(0)?be:ye,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.qc)&&e.push("#",ge(t,Se)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.Ib&&(t=new le);var n=!!e.Ib;n?ce(t,e.Ib):n=!!e.Fc,n?t.Fc=e.Fc:n=!!e.lb,n?de(t,e.lb):n=null!=e.Yc;var r=e.Za;if(n)fe(t,e.Yc);else if(n=!!e.Za){if("/"!=r.charAt(0))if(this.lb&&!this.Za)r="/"+r;else{var i=t.Za.lastIndexOf("/");-1!=i&&(r=t.Za.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.Za=r:n=""!==e.g.toString(),n?pe(t,e.g.clone()):n=!!e.qc,n&&(t.qc=e.qc),t},r.clone=function(){return new le(this)};var ve=/[#\/\?@]/g,ye=/[#\?:]/g,be=/[#\?]/g,we=/[#\?@]/g,Se=/#/g;function xe(e){this.g=e||null}function Te(e){if(!e.Sa&&(e.Sa=new Map,e.hd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}function ke(e){return Te(e),e.hd}function Ae(){}function Ee(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Ce(e);t=Ce(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function Ie(e){return ArrayBuffer.isView(e)?0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function Ce(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function Me(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint16Array)}function De(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function Pe(e,t,n,r){var i=ArrayBuffer.isView(e)?e.buffer:e,a=1;"BYTES_PER_ELEMENT"in r&&(a=r.BYTES_PER_ELEMENT);var o=((e.byteOffset||0)+e.byteLength)/a;return new r(i,e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/a,o))),Math.floor(Math.min(e+Math.max(n,0),o))-e)}function Le(e,t,n){var r=N.apply(3,arguments);if(this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,Re)try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}(r=xe.prototype).Sa=null,r.hd=null,r.add=function(e,t){Te(this),this.g=null;var n=this.Sa.has(e)?this.Sa.get(e):null;return n||this.Sa.set(e,n=[]),n.push(t),this.hd++,this},r.set=function(e,t){return Te(this),this.g=null,this.Sa.has(e)?this.Sa.set(e,[t]):this.add(e,t),this},r.get=function(e){return Te(this),this.Sa.get(e)||[]},r.toString=function(){if(this.g)return this.g;if(!this.Sa||!this.Sa.size)return"";for(var e=[],t=c(this.Sa.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=encodeURIComponent(r),r=this.Sa.get(r);for(var i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),e.push(a)}}return this.g=e.join("&")},r.clone=function(){var e=new xe;if(e.g=this.g,this.Sa){for(var t=new Map,n=c(this.Sa),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,t.set(r,i.concat())}e.Sa=t,e.hd=this.hd}return e},V("shaka.util.BufferUtils",Ae),Ae.toDataView=De,Ae.toUint16=Me,Ae.toUint8=Ce,Ae.toArrayBuffer=Ie,Ae.equal=Ee,Le.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},V("shaka.util.Error",Le);var Re=!0;function Ne(e){this.h=e,this.g=void 0}function _e(e,t){return!e.length||!t.length||e===t||0<je(e,t).length}function je(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=(e=c(e)).next();!r.done;r=e.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.keySystem==a.keySystem){i=new Map;for(var o=c((r.initData||[]).concat(a.initData||[])),s=o.next();!s.done;s=o.next())s=s.value,i.set(s.keyId,s);i=Array.from(i.values()),o=r.keyIds&&a.keyIds?new Set([].concat(d(r.keyIds),d(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i,keyIds:o});break}}return n}function Oe(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function Ue(e){return!!e&&!!e.match(/^com\.apple\.fps/)}Le.Severity={RECOVERABLE:1,CRITICAL:2},Le.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Le.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,CANNOT_ADD_EXTERNAL_CHAPTERS_TO_LIVE_STREAM:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007},Ne.prototype.value=function(){return void 0===this.g&&(this.g=this.h()),this.g};var Fe=new Ne((function(){return Ie(new Uint8Array([0]))})),Be=new Map;function Ve(e){this.h=e,this.g=null}function He(e){this.h=e,this.g=null}function ze(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.isTypeSupported)}function Ge(e){return""!=dt().canPlayType(e)}function Ke(){return!!navigator.userAgent.match(/Edge?\//)}function qe(){return lt("Xbox One")}function We(){return lt("Tizen")}function Xe(){return lt("Tizen 3")}function Ye(){return lt("Web0S")}function $e(){return Ye()&&38===Je()}function Qe(){return lt("CrKey")&&!rt()}function Je(){if(!lt("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function Ze(){return ct()&&((navigator.userAgentData&&navigator.userAgentData.platform?"macos"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("mac"))||!!/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||ct()&&1<navigator.maxTouchPoints)}function et(){return lt("PlayStation 5")}function tt(){return lt("PlayStation 4")}function nt(){return lt("Hisense")||lt("VIDAA")}function rt(){return lt("VIZIO SmartCast")}function it(){if(!Ze()&&(!ct()||Ze()))return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function at(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("win32")}function ot(){return navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase():lt("Android")}function st(){return navigator.userAgentData&&navigator.userAgentData.platform?"fuchsia"==navigator.userAgentData.platform.toLowerCase():lt("Fuchsia")}function ut(){return!!(We()||Ye()||qe()||tt()||et()||Qe()||nt()||rt()||ct()&&!Ze())}function lt(e){return(navigator.userAgent||"").includes(e)}function ct(){return(navigator.vendor||"").includes("Apple")}function dt(){return mt||(gt||(gt=new He((function(){mt=null}))),(mt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(mt=document.createElement("video")),gt.da(1),mt)}function ft(){if(Xe()||lt("Tizen 2")||$e()||tt()||et())return!1;var e=it();return!(ct()&&!Ze()&&null!=e&&15>e)}function pt(){var t,n,r,i,a,o,s,u,l,c,d,f,p,h,g;return R((function(m){switch(m.g){case 1:if(t={width:1/0,height:1/0},Qe()){if(p=e.cast&&cast.__platform__&&cast.__platform__.canDisplayType,t.width=1280,t.height=720,T(m,14),!(h=p)){m.s(16);break}return S(m,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(We()){n=e.devicePixelRatio,t.width=1920<e.screen.width*n?3840:1920,t.height=1080<e.screen.height*n?2160:1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(r=webapis.systeminfo.getMaxVideoResolution(),t.width=r.width,t.height=r.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(t.width=7680,t.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(t.width=3840,t.height=2160)}catch(v){Y("Tizen: Error detecting screen size, default screen size 1920x1080.")}m.s(3);break}if(Ye()){try{i=JSON.parse(e.PalmSystem.deviceInfo),t.width=Math.max(1920,i.screenWidth),t.height=Math.max(1080,i.screenHeight)}catch(v){Y("WebOS: Error detecting screen size, default screen size 1920x1080."),t.width=1920,t.height=1080}m.s(3);break}if(nt()){if(a=null,e.Hisense_Get4KSupportState)try{a=e.Hisense_Get4KSupportState()}catch(v){}null==a&&(a=lt("UHD")),a?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),m.s(3);break}if(!tt()&&!et()){o=void 0;try{o="undefined"!==typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows}catch(v){}if(o){t.width=1920,t.height=1080;try{s=new o.Media.Protection.ProtectionCapabilities,u=o.Media.Protection.ProtectionCapabilityResult,l=null;do{l=s.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(l===u.maybe);l===u.probably&&(t.width=3840,t.height=2160)}catch(v){Y("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else qe()&&(t.width=1920,t.height=1080,Y("Xbox: Error detecting screen size, default screen size 1920x1080."));m.s(3);break}return c=!1,T(m,8),S(m,e.msdk.device.getDisplayInfo(),10);case 10:d=m.h,c="4K"===d.resolution,A(m,9);break;case 8:return E(m),T(m,11),S(m,e.msdk.device.getDisplayInfoImmediate(),13);case 13:f=m.h,c="4K"===f.resolution,A(m,9);break;case 11:Y("PlayStation: Failed to get the display info:",E(m));case 9:c?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),m.s(3);break;case 17:h=m.h;case 16:if(h){t.width=3840,t.height=2160,m.s(18);break}if(!(g=p)){m.s(19);break}return S(m,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:g=m.h;case 19:g&&(t.width=1920,t.height=1080);case 18:A(m,3);break;case 14:X("Failed to check canDisplayType:",E(m));case 3:return m.return(t)}}))}function ht(t){return void 0!==e.matchMedia&&e.matchMedia("(color-gamut: p3)").matches?t?"HLG":"PQ":"SDR"}Ve.prototype.da=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.h()}),1e3*t),this},Ve.prototype.stop=function(){this.g&&(this.g(),this.g=null)},He.prototype.qb=function(){return this.stop(),this.h(),this},He.prototype.da=function(e){var t=this;return this.stop(),this.g=new Ve((function(){t.h()})).da(e),this},He.prototype.ua=function(e){var t=this;return this.stop(),this.g=new Ve((function(){t.g.da(e),t.h()})).da(e),this},He.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},V("shaka.util.Timer",He),He.prototype.stop=He.prototype.stop,He.prototype.tickEvery=He.prototype.ua,He.prototype.tickAfter=He.prototype.da,He.prototype.tickNow=He.prototype.qb;var gt=null,mt=null;function vt(){}function yt(t){if(!t)return"";if(239==(t=Ce(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!tt())return(t=(new TextDecoder).decode(t)).includes("\ufffd")&&X('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(0==(128&t[r])?i=t[r]:t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3),65535>=i)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function bt(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new Le(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=De(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return Tt(r)}function wt(e){function t(e){return n.byteLength<=e||9<=n[e]&&126>=n[e]}if(!e)return"";var n=Ce(e);if(239==n[0]&&187==n[1]&&191==n[2])return yt(n);if(254==n[0]&&255==n[1])return bt(n.subarray(2),!1);if(255==n[0]&&254==n[1])return bt(n.subarray(2),!0);if(0==n[0]&&0==n[2])return bt(e,!1);if(0==n[1]&&0==n[3])return bt(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return yt(e);throw new Le(2,2,2003)}function St(t){if(e.TextEncoder&&!tt()){var n=new TextEncoder;return Ie(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return Ie(n)}function xt(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function Tt(e){return At.value()(e)}function kt(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":"\xa0","&lrm;":"\u200e","&rlm;":"\u200f"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return"#"==e[1]?0<=(e="x"==e[2]||"X"==e[2]?parseInt(e.substring(3),16):parseInt(e.substring(2),10))&&1114111>=e?String.fromCodePoint(e):"":t[e]||"'"})):e||""}V("shaka.util.StringUtils",vt),vt.resetFromCharCode=function(){At.g=void 0},vt.toUTF16=xt,vt.toUTF8=St,vt.fromBytesAutoDetect=wt,vt.fromUTF16=bt,vt.fromUTF8=yt;var At=new Ne((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(n){return!1}}for(var t={jc:65536};0<t.jc;(t={jc:t.jc}).jc/=2)if(e(t.jc))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.jc)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.jc));return n}}(t);return null}));function Et(){}function It(e){return e=Tt(Ce(e)),btoa(e)}function Ct(e,t){return t=void 0==t||t,e=It(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function Mt(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function Dt(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function Pt(e){var t=Ce(e);e="";for(var n=(t=c(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Lt(){for(var e=N.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];ArrayBuffer.isView(i)&&1===i.BYTES_PER_ELEMENT?t.set(i,n):t.set(Ce(i),n),n+=i.byteLength}return t}function Rt(e,t,n){if(n=void 0===n?"":n,0==t.length)return e;if(1==e.length&&1==t.length){var r=new le(e[0]);return t=new le(t[0]),t=r.resolve(t),n&&pe(t,n),[t.toString()]}t=t.map((function(e){return new le(e)})),r=[];for(var i=(e=c(e)).next();!i.done;i=e.next()){i=new le(i.value);for(var a=c(t),o=a.next();!o.done;o=a.next())o=i.resolve(o.value),n&&pe(o,n),r.push(o.toString())}return r}function Nt(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function _t(t,n){n=void 0===n?"cenc":n;var r=[],i=[],a=[];t.forEach((function(e,t){var n=t;22!=n.length&&(n=Ct(Dt(t),!1));var o=e;22!=o.length&&(o=Ct(Dt(e),!1)),e={kty:"oct",kid:n,k:o},r.push(e),i.push(e.kid),a.push(t)})),t=JSON.stringify({keys:r});var o=JSON.stringify({kids:i});return o=[{initData:Ce(St(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:n,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(a)}}function jt(e,t){if(1==t.length)return t[0];if(null!=(e=Ot(e,t)))return e;throw new Le(2,4,4025,t)}function Ot(e,t){for(var n=Ht.get(e),r=(n=c(n)).next();!r.done;r=n.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==Ft?"":null}function Ut(e,t){for(var n=[],r=(e=c(e=Ht.get(e))).next();!r.done;r=e.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())a=a.value,r.test(a.trim())&&n.push(a.trim())}return n}V("shaka.util.Uint8ArrayUtils",Et),Et.concat=Lt,Et.toHex=Pt,Et.fromHex=Dt,Et.fromBase64=Mt,Et.toBase64=Ct,Et.toStandardBase64=It;var Ft="text",Bt={la:"video",V:"audio",va:Ft,$e:"image",Mj:"application"},Vt=1/15,Ht=(new Map).set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function zt(e,t,n,r){this.g=null,this.l=e,this.i=t,this.m=n,this.o=r,this.j=!1;e:{if("undefined"===typeof libDPIModule&&Y("Could not find LCEVC Library dependencies on this page"),"undefined"!==typeof LCEVCdec)this.h=LCEVCdec;else{if("undefined"===typeof LcevcDil){Y("Could not find LCEVC Library on this page"),e=!1;break e}this.h=LcevcDil,this.j=!0,ie("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead")}"undefined"===typeof this.h.SupportObject?(Y("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||Y(this.h.SupportObject.SupportError),e="undefined"!==typeof this.h&&"undefined"!==typeof libDPIModule&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Gt(e,t,n,r){"video"!==r.type||e.o&&!r.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",r.id,-n,!e.o)}function Kt(e){e.g&&e.i.classList.add("shaka-hidden")}function qt(e){return!(!e||"undefined"===typeof LCEVCdec)&&"lvc1"==e.codecs}function Wt(t){if($t.has(t))return $t.get(t);var n=e.ManagedMediaSource||e.MediaSource;return!!n&&(n=n.isTypeSupported(t),$t.set(t,n),n)}function Xt(){var t=e.ManagedSourceBuffer||e.SourceBuffer;return!!t&&!!t.prototype&&!!t.prototype.changeType}function Yt(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.prototype)&&(!!t.prototype.setLiveSeekableRange&&!!t.prototype.clearLiveSeekableRange)}zt.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},V("shaka.lcevc.Dec",zt),zt.prototype.release=zt.prototype.release;var $t=new Map;function Qt(){}function Jt(){}function Zt(){}function en(e){this.l=new Jt,(e=nn(e.toLowerCase()))&&(this.l=e()),this.h=new Qt,(e=an)&&(this.h=e())}function tn(e,t){rn.set(e,t)}function nn(e){return rn.get(e)}Qt.prototype.extract=function(){},Qt.prototype.decode=function(){return[]},Qt.prototype.clear=function(){},Qt.prototype.getStreams=function(){return[]},Jt.prototype.init=function(){},Jt.prototype.parse=function(){return[]},Zt.prototype.init=function(){},Zt.prototype.i=function(){},Zt.prototype.g=function(){},Zt.prototype.j=function(){},V("shaka.media.IClosedCaptionParser",Zt),en.prototype.init=function(e,t){void 0!==t&&t||this.g(),this.l.init(e)},en.prototype.i=function(e){for(var t=(e=c(e=this.l.parse(e))).next();!t.done;t=e.next()){var n=Ce((t=t.value).packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},en.prototype.g=function(){this.h.clear()},en.prototype.j=function(){return this.h.getStreams()},V("shaka.media.ClosedCaptionParser",en),en.findDecoder=function(){return an},en.unregisterDecoder=function(){an=null},en.registerDecoder=function(e){an=e},en.findParser=nn,en.unregisterParser=function(e){rn.delete(e)},en.registerParser=tn;var rn=new Map,an=null;function on(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=sn,this.scroll=un}V("shaka.text.CueRegion",on);var sn=1;on.units={PX:0,PERCENTAGE:sn,LINES:2};var un="";function ln(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function cn(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function dn(e,t,n){if(n||(n=ln),e.length!=t.length)return!1;t=t.slice();for(var r=(e=c(e)).next(),i={};!r.done;i={$g:void 0},r=e.next()){if(i.$g=r.value,-1==(r=t.findIndex(function(e){return function(t){return n(e.$g,t)}}(i))))return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function fn(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=ln),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function pn(e){this.h=e||"",this.g=0}function hn(e){gn(e,/[ \t]+/gm)}function gn(e,t){return t.lastIndex=e.g,t=null==(t=t.exec(e.h))?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||null==t||t.position!=e.g?null:(e.g+=t.length,t.results)}function mn(e){return e.g==e.h.length?null:(e=gn(e,/[^ \t\n]*/gm))?e[0]:null}function vn(e){if(null==(e=gn(e,bn)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function yn(e){return e?vn(new pn(e)):null}on.scrollMode={NONE:un,UP:"up"};var bn=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function wn(e){var t=new WeakSet;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||ArrayBuffer.isView(n))return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function Sn(e){var t,n={};for(t in e)n[t]=e[t];return n}function xn(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=n.toString(),i=e[n];void 0!==i&&(i=xn(i))&&t.push(r+":"+i)}e="["+t.join(",")+"]"}else if("function"==typeof e)e="";else if(e instanceof Object){for((n=Object.keys(e)).sort(),t=[],r=(n=c(n)).next();!r.done;r=n.next())i=r.value,r=JSON.stringify(i),void 0!==(i=e[i])&&(i=xn(i))&&t.push(r+":"+i);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function Tn(e,t){var n=void 0!==n&&n;return kn(e=wt(e),t,n)}function kn(e,t,n){return e=function(e,t){function n(a,o){o=void 0!==o&&o;for(var s=[];e[i];)if(60==e.charCodeAt(i)){if(47===e.charCodeAt(i+1)){o=i+2,i=e.indexOf(">",i);var u=(o=e.substring(o,i)).indexOf(a);if(-1==u){var l=a.indexOf(".");0<l&&(u=o.indexOf(a.substring(0,l)))}if(-1==u)throw a=e.substring(0,i).split("\n"),Error("Unexpected close tag\nLine: "+(a.length-1)+"\nColumn: "+(a[a.length-1].length+1)+"\nChar: "+e[i]);i+1&&(i+=1);break}if(33===e.charCodeAt(i+1)){if(45==e.charCodeAt(i+2)){for(;-1!==i&&(62!==e.charCodeAt(i)||45!=e.charCodeAt(i-1)||45!=e.charCodeAt(i-2)||-1==i);)i=e.indexOf(">",i+1);-1===i&&(i=e.length)}else if(91===e.charCodeAt(i+2)&&91===e.charCodeAt(i+8)&&"cdata"===e.substr(i+3,5).toLowerCase()){-1==(u=e.indexOf("]]>",i))?(s.push(e.substr(i+9)),i=e.length):(s.push(e.substring(i+9,u)),i=u+3);continue}i++;continue}e:{l=o,i++;var c=r(),f={};for(u=[];62!==e.charCodeAt(i)&&e[i];){var p=e.charCodeAt(i);if(64<p&&91>p||96<p&&123>p){p=r();for(var h=e.charCodeAt(i);h&&39!==h&&34!==h&&!(64<h&&91>h||96<h&&123>h)&&62!==h;)i++,h=e.charCodeAt(i);var g=i+1;if(i=e.indexOf(e[i],g),g=e.slice(g,i),39===h||34===h){if(-1===i){if(l={tagName:c,attributes:f,children:u,parent:null},t)for(c=0;c<u.length;c++)"string"!==typeof u[c]&&(u[c].parent=l);u=l;break e}}else g=null,i--;if(p.startsWith("xmlns:")){h=g;var m=p.split(":")[1];Zn.set(h,m),er.set(m,h)}"tt"===c&&"xml:space"===p&&"preserve"===g&&(l=!0),f[p]=g}i++}for(47!==e.charCodeAt(i-1)?(i++,u=n(c,l)):i++,l={tagName:c,attributes:f,children:u,parent:null},c=u.length,f=0;f<c;f++)"string"!==typeof(p=u[f])?t&&(p.parent=l):f==c-1&&"\n"==p&&u.pop();u=l}if(s.push(u),"string"===typeof u)break;"?"===u.tagName[0]&&u.children&&(s.push.apply(s,d(u.children)),u.children=[])}else u=i,-2===(i=e.indexOf("<",i)-1)&&(i=e.length),u=e.slice(u,i+1),o?0<u.length&&s.push(u):(s.length&&1==u.length&&"\n"==u[0]||0<u.trim().length)&&s.push(u),i++;return s}function r(){for(var t=i;-1==="\r\n\t>/= ".indexOf(e[i])&&e[i];)i++;return e.slice(t,i)}var i=0;return n("")}(e,void 0!==n&&n),!t&&e.length?e[0]:(e=e.find((function(e){return t.split(",").includes(e.tagName)})))?e:null}function An(e){return Zn.has(e)?Zn.get(e):""}function En(e){return"string"===typeof e}function In(e){var t=[];if(!e.children)return[];for(var n=(e=c(e.children)).next();!n.done;n=e.next())"string"!==typeof(n=n.value)&&t.push(n);return t}function Cn(e,t){var n=[];if(!e.children)return[];for(var r=(e=c(e.children)).next();!r.done;r=e.next())(r=r.value).tagName===t&&n.push(r);return n}function Mn(e){return"string"===typeof e?kt(e):""===(e=e.children.reduce((function(e,t){return"string"===typeof t?e+t:e}),""))?null:kt(e)}function Dn(e){return Array.from(e.children).every((function(e){return"string"===typeof e}))?((e=Mn(e))&&(e=e.trim()),e):null}function Pn(e,t,n){if(n=void 0===n?[]:n,e.tagName===t&&n.push(e),e.children)for(var r=(e=c(e.children)).next();!r.done;r=e.next())Pn(r.value,t,n);return n}function Ln(e,t){return 1!=(e=Cn(e,t)).length?null:e[0]}function Rn(e,t,n){return 1!=(e=jn(e,t,n)).length?null:e[0]}function Nn(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.attributes[t])&&(i=n(e)),null==i?r:i}function _n(e,t,n){return t=An(t),e.attributes[t+":"+n]||null}function jn(e,t,n){var r=An(t);if(t=[],e.children)for(n=r?r+":"+n:n,r=(e=c(e.children)).next();!r.done;r=e.next())(r=r.value)&&r.tagName===n&&t.push(r);return t}function On(e,t,n){for(var r=(t=c(t)).next();!r.done;r=t.next())if(r=_n(e,r.value,n))return r;return null}function Un(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Fn(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function Bn(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Vn(e){return 0===(e=Number(e))%1?e:null}function Hn(e){return 0===(e=Number(e))%1&&0<e?e:null}function zn(e){return 0===(e=Number(e))%1&&0<=e?e:null}function Gn(e){return e=Number(e),isNaN(e)?null:e}function Kn(e){return!!e&&"true"===e.toLowerCase()}function qn(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Wn(e){for(var t=[],n=(e=c(e=kt(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next();!n.done;n=e.next()){var r=(n=n.value).match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),o=n.match(/(@n='(\d+)')/),s=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:s?Number(s[1])-1:null,Zb:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].Zb=n.slice(1))}return t}function Xn(e,t){var n=Wn(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;null==(n=r.position)&&(null!==r.t&&(n=Yn(e,"t",r.t)),null!==r.n&&(n=Yn(e,"n",r.n))),null===n?n="prepend"===i?0:e.length:"prepend"===i?--n:"after"===i&&++n,i=t.tagName,(r=r.Zb)&&e[n]?$n(e[n],i,r,Dn(t)||""):("remove"!==i&&"replace"!==i||e.splice(n,1),"add"!==i&&"replace"!==i||e.splice.apply(e,[n,0].concat(d(t.children))))}}function Yn(e,t,n){for(var r=0,i=(e=c(e)).next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function $n(e,t,n,r){"remove"===t?delete e.attributes[n]:"add"!==t&&"replace"!==t||(e.attributes[n]=r)}function Qn(e){var t="",n=e.tagName.split(":");for(var r in 0<n.length&&(t=n[0],t=er.has(t)?er.get(t):""),t=document.createElementNS(t,e.tagName),e.attributes)t.setAttribute(r,e.attributes[r]);for(r=(e=c(e.children)).next();!r.done;r=e.next())n=void 0,n="string"==typeof(r=r.value)?new Text(r):Qn(r),t.appendChild(n);return t}function Jn(e){if(!e)return null;for(var t={tagName:e.tagName,attributes:Sn(e.attributes),children:[],parent:null},n=(e=c(e.children)).next();!n.done;n=e.next())"string"===typeof(n=n.value)||((n=Jn(n)).parent=t),t.children.push(n);return t}var Zn=new Map,er=new Map;function tr(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new on,this.position=null,this.positionAlign=ur,this.size=0,this.textAlign=lr,this.direction=pr,this.writingMode=hr,this.lineInterpretation=gr,this.line=null,this.lineHeight="",this.lineAlign=mr,this.displayAlign=dr,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=wr,this.fontStyle=xr,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={oc:32,rows:15}}function nr(e,t){return(e=new tr(e,t,"")).lineBreak=!0,e}function rr(e,t){if(e.payload!=t.payload||!(.001>Math.abs(e.startTime-t.startTime)&&.001>Math.abs(e.endTime-t.endTime)))return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!fn(e.nestedCues,t.nestedCues,rr))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!fn(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function ir(e,t){t=void 0===t?new Map:t;var n=e.payload;if(n.includes("<")){0===t.size&&ar(t);var r=n;n=[];for(var i=-1,a=0;a<r.length;a++)"<"===r[a]?i=a+1:">"===r[a]&&0<i&&((i=r.substr(i,a-i)).match(Er)&&n.push(i),i=-1);for(a=(n=c(n)).next();!a.done;a=n.next())a=a.value,r=r.replace("<"+a+">",'<div time="'+a+'">'),r+="</div>";e:{a=r,i=[];var o=-1;n="",r=!1;for(var s=0;s<a.length;s++)if("/"===a[s]){var u=a.indexOf(">",s);if(-1===u){n=a;break e}if((u=a.substring(s+1,u))&&"v"==u){r=!0;var l=null;if(i.length&&(l=i[i.length-1]),l){if(l===u)n+="/"+u+">";else{if(!l.startsWith("v")){n+=a[s];continue}n+="/"+l+">"}s+=u.length+1}else n+=a[s]}else n+=a[s]}else"<"===a[s]?"v"!=a[o=s+1]&&(o=-1):">"===a[s]&&0<o&&(i.push(a.substr(o,s-o)),o=-1),n+=a[s];for(i=(a=c(i)).next();!i.done;i=a.next())o=(i=i.value).replace(" ",".voice-"),n=(n=n.replace("<"+i+">","<"+o+">")).replace("</"+i+">","</"+o+">"),r||(n+="</"+o+">")}n=function(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return t[e]||""})):e||""}(n),e.payload="";try{var d=kn("<span>"+n+"</span>","span")}catch(f){}if(d)if(1!=(d=d.children).length||d[0].tagName)for(n=(d=c(d)).next();!n.done;n=d.next())or(n.value,e,t);else e.payload=kt(n);else e.payload=kt(n)}else e.payload=kt(n)}function ar(e){for(var t=c(Object.entries(yr)),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value;var i=new tr(0,0,"");i.color=r,e.set("."+n,i)}for(n=(t=c(Object.entries(br))).next();!n.done;n=t.next())n=(r=c(n.value)).next().value,r=r.next().value,(i=new tr(0,0,"")).backgroundColor=r,e.set("."+n,i)}function or(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new on,r.position=null,r.size=0,r.textAlign=lr,e.tagName)for(var i=c(e.tagName.split(/(?=[ .])+/g)),a=i.next();!a.done;a=i.next()){var o=a=a.value;if(o.startsWith(".voice-")){var s=o.split("-").pop();o='v[voice="'+s+'"]',n.has(o)||(o="v[voice="+s+"]")}switch(n.has(o)&&(s=r,o=n.get(o))&&(s.backgroundColor=sr(o.backgroundColor,s.backgroundColor),s.color=sr(o.color,s.color),s.fontFamily=sr(o.fontFamily,s.fontFamily),s.fontSize=sr(o.fontSize,s.fontSize),s.textShadow=sr(o.textShadow,s.textShadow),s.fontWeight=o.fontWeight,s.fontStyle=o.fontStyle,s.opacity=o.opacity,s.rubyTag=o.rubyTag,s.textCombineUpright=o.textCombineUpright,s.wrapLine=o.wrapLine),a){case"br":return r=nr(r.startTime,r.endTime),void t.nestedCues.push(r);case"b":r.fontWeight=Sr;break;case"i":r.fontStyle=Tr;break;case"u":r.textDecoration.push(Ar);break;case"font":(a=e.attributes.color)&&(r.color=a);break;case"div":if(!(a=e.attributes.time))break;(a=yn(a))&&(r.startTime=a);break;case"ruby":case"rp":case"rt":r.rubyTag=a}}if(i=e.children,En(e)||1==i.length&&En(i[0]))for(n=Mn(e).split("\n"),e=!0,i=(n=c(n)).next();!i.done;i=n.next())i=i.value,e||(e=nr(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&((e=r.clone()).payload=kt(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),e=(t=c(i)).next();!e.done;e=t.next())or(e.value,r,n)}function sr(e,t){return e&&0<e.length?e:t}tr.prototype.clone=function(){var e,t=new tr(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},V("shaka.text.Cue",tr),tr.parseCuePayload=ir,tr.equal=rr,tr.prototype.clone=tr.prototype.clone;var ur="auto";tr.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ur};var lr="center",cr={LEFT:"left",RIGHT:"right",CENTER:lr,START:"start",END:"end"};tr.textAlign=cr;var dr="after",fr={BEFORE:"before",CENTER:"center",AFTER:dr};tr.displayAlign=fr;var pr="ltr";tr.direction={HORIZONTAL_LEFT_TO_RIGHT:pr,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var hr="horizontal-tb";tr.writingMode={HORIZONTAL_TOP_TO_BOTTOM:hr,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var gr=0;tr.lineInterpretation={LINE_NUMBER:gr,PERCENTAGE:1};var mr="start",vr={CENTER:"center",START:mr,END:"end"};tr.lineAlign=vr;var yr={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};tr.defaultTextColor=yr;var br={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};tr.defaultTextBackgroundColor=br;var wr=400,Sr=700;tr.fontWeight={NORMAL:wr,BOLD:Sr};var xr="normal",Tr="italic",kr={NORMAL:xr,ITALIC:Tr,OBLIQUE:"oblique"};tr.fontStyle=kr;var Ar="underline";tr.textDecoration={UNDERLINE:Ar,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var Er=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Ir(){}function Cr(e,t,n){Dr.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,ue:t})}function Mr(e,t){for(var n=e.toLowerCase().split(";")[0],r=c([Nr,Rr,Lr,Pr]),i=r.next();!i.done;i=r.next())if(i=Dr.get(n+"-"+i.value)){var a=i.ue(),o=a.isSupported(e,t);if(a.destroy(),o)return i.ue}return null}Ir.prototype.destroy=function(){},V("shaka.transmuxer.TransmuxerEngine",Ir),Ir.findTransmuxer=Mr,Ir.unregisterTransmuxer=function(e,t){Dr.delete(e.toLowerCase().split(";")[0]+"-"+t)},Ir.registerTransmuxer=Cr,Ir.prototype.destroy=Ir.prototype.destroy;var Dr=new Map,Pr=1,Lr=2,Rr=3,Nr=4;function _r(){}function jr(e,t){var n=e;return t&&!Xr.includes(e)&&(n+='; codecs="'+t+'"'),n}function Or(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Ur(e,t,n){var r=jr(e,t);return Mr(t=Or(e,t))?(e=Mr(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?r.replace("video","audio"):r,n}function Fr(e,t,n){var r=[t];return Wr.forEach((function(t,i){var a=e[i];"codecs"==i?Xr.includes(e.mimeType)||r.push('codecs="'+n+'"'):a&&r.push(t+'="'+a+'"')})),"PQ"==e.hdr&&r.push('eotf="smpte2084"'),r.join(";")}function Br(e){return e.split(";")[0].split("/")[1]}function Vr(e){var t=qr(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:case"ac3"===e:case"ac-3"===e:return"ac-3";case"mp4a"===e&&"a6"===t:case"eac3"===e:case"ec-3"===e:return"ec-3";case"ac-4"===e:return"ac-4";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"vp09"===e:case"vp9"===e:return"vp9";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"vvc1"===e:case"vvi1"===e:return"vvc";case"dvh1"===e:case"dvhe"===e:return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case"dvav"===e:case"dva1"===e:return"dovi-avc";case"dav1"===e:return"dovi-av1";case"dvc1"===e:case"dvi1"===e:return"dovi-vvc"}return e}function Hr(e){for(var t=[],n=(e=c(e.split(","))).next();!n.done;n=e.next())n=qr(n.value),t.push(n[0]);return t.sort().join(",")}function zr(e){return e.split(";")[0]}function Gr(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}function Kr(e){return"application/x-mpegurl"===e||"application/vnd.apple.mpegurl"===e}function qr(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}Ir.PluginPriority={FALLBACK:Pr,PREFERRED_SECONDARY:Lr,PREFERRED:Rr,APPLICATION:Nr},V("shaka.util.MimeUtils",_r),_r.getFullTypeWithAllCodecs=Or,_r.getFullType=jr;var Wr=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Xr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Yr(e){this.i=null,this.j=e,this.B=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function $r(e,t){ti.set(e,t)}function Qr(e){return ti.get(e)}function Jr(e){return!!ti.has(e)||("application/cea-608"==e||"application/cea-708"==e)&&!!an}function Zr(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=c(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.j.append(i)}function ei(e,t,n){t.startTime+=n,t.endTime+=n;for(var r=(t=c(t.nestedCues)).next();!r.done;r=t.next())ei(e,r.value,n)}Yr.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},Yr.prototype.remove=function(e,t){var n=this;return R((function(r){if(1==r.g)return S(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),x(r)}))},V("shaka.text.TextEngine",Yr),Yr.prototype.destroy=Yr.prototype.destroy,Yr.findParser=Qr,Yr.unregisterParser=function(e){ti.delete(e)},Yr.registerParser=$r;var ti=new Map;function ni(e,t){return e.concat(t)}function ri(){}function ii(e){return null!=e}function ai(e,t){return Promise.race([t,new Promise((function(t,n){new He(n).da(e)}))])}function oi(){}function si(e,t){return e=ci(e),t=ci(t),e.split("-")[0]==t.split("-")[0]}function ui(e,t){return e=ci(e),t=ci(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function li(e,t){return e=ci(e),t=ci(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function ci(e){var t=(e=c(e.split("-x-"))).next().value;t=void 0===t?"":t,e=void 0===(e=e.next().value)?"":e;var n=c(t.split("-"));return t=void 0===(t=n.next().value)?"":t,n=void 0===(n=n.next().value)?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=gi.get(t)||t,((n=n.toUpperCase())?t+"-"+n:t)+(e?"-"+e:"")}function di(e,t){return e=ci(e),(t=ci(t))==e?4:ui(t,e)?3:li(t,e)?2:ui(e,t)?1:0}function fi(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),gi.get(e)||e}function pi(e){return e.language?ci(e.language):e.audio&&e.audio.language?ci(e.audio.language):e.video&&e.video.language?ci(e.video.language):"und"}function hi(e,t){e=ci(e);for(var n=new Set,r=(t=c(t)).next();!r.done;r=t.next())n.add(ci(r.value));for(r=(t=c(n)).next();!r.done;r=t.next())if((r=r.value)==e)return r;for(r=(t=c(n)).next();!r.done;r=t.next())if(ui(r=r.value,e))return r;for(r=(t=c(n)).next();!r.done;r=t.next())if(li(r=r.value,e))return r;for(t=(n=c(n)).next();!t.done;t=n.next())if(ui(e,t=t.value))return t;return null}V("shaka.util.LanguageUtils",oi),oi.findClosestLocale=hi,oi.getLocaleForVariant=pi,oi.getLocaleForText=function(e){return ci(e.language||"und")},oi.getBase=fi,oi.relatedness=di,oi.areSiblings=function(e,t){var n=fi(e),r=fi(t);return e!=n&&t!=r&&n==r},oi.normalize=ci,oi.isSiblingOf=li,oi.isParentOf=ui,oi.areLanguageCompatible=si,oi.areLocaleCompatible=function(e,t){return(e=ci(e))==(t=ci(t))};var gi=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function mi(){}function vi(e,t,n,r,i){function a(e){var t=String(e.width||"")+String(e.height||"")+String(Math.round(e.frameRate||0))+(e.hdr||"")+e.fastSwitching;return e.dependencyStream&&(t+=e.dependencyStream.baseOriginalId||""),t}function o(e){var t=e.language+(e.channelsCount||0)+(e.audioSamplingRate||0)+e.roles.join(",")+e.label+e.groupId+e.fastSwitching;return e.dependencyStream&&(t+=e.dependencyStream.baseOriginalId||""),t}if(i.length){for(var s=e.textStreams,u=(i=c(i)).next(),l={};!u.done;l={sg:void 0},u=i.next())if(l.sg=u.value,(u=s.filter(function(e){return function(t){return!(!t.codecs.startsWith(e.sg)&&!t.mimeType.startsWith(e.sg))}}(l))).length){s=u;break}e.textStreams=s}if(s=e.variants,(t.length||n.length)&&(s=function(e,t,n){for(var r=(t=c(t)).next(),i={};!r.done;i={Kh:void 0},r=t.next())if(i.Kh=r.value,r=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.Kh)}}(i)),r.length){e=r;break}for(n=c(n),t=n.next(),r={};!t.done;r={Cg:void 0},t=n.next())if(r.Cg=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.Cg)}}(r)),t.length){e=t;break}return e}(s,t,n)),r.length){for(t=new Z,s=(n=c(s)).next();!s.done;s=n.next())s=s.value,t.push(String(s.video.width||0),s);var f=[];t.forEach((function(e,t){e=0;for(var n=[],i=(t=c(t)).next(),a={};!i.done;a={Qe:void 0},i=t.next())a.Qe=i.value,(i=r.filter(function(e){return function(t){return e.Qe.decodingInfos[0][t]}}(a)).length)>e?(e=i,n=[a.Qe]):i==e&&n.push(a.Qe);f.push.apply(f,d(n))})),s=f}for(n=new Set,t=new Set,i=(s=c(s)).next();!i.done;i=s.next())(i=i.value).audio&&n.add(i.audio),i.video&&t.add(i.video);s=Array.from(n).sort((function(e,t){return e.bandwidth-t.bandwidth}));var p=[];for(n=new Map,i=(s=c(s)).next();!i.done;i=s.next()){if(u=o(i=i.value),(l=n.get(u)||[]).length){var h=l[l.length-1],g=Vr(h.codecs),m=Vr(i.codecs);g!=m||i.bandwidth&&h.bandwidth&&!(i.bandwidth>h.bandwidth)||(l.push(i),p.push(i.id))}else l.push(i),p.push(i.id);n.set(u,l)}var v={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};s=Array.from(t).sort((function(e,t){if(!e.bandwidth||!t.bandwidth||e.bandwidth==t.bandwidth){if(e.codecs&&t.codecs&&e.codecs!=t.codecs&&e.width==t.width){var n=Vr(e.codecs),r=Vr(t.codecs);if(n!=r)return(v[n]||1)-(v[r]||1)}return e.width-t.width}return e.bandwidth-t.bandwidth})),t=Xt();var y=[];for(n=new Map,i=(s=c(s)).next();!i.done;i=s.next()){if(u=a(i=i.value),(l=n.get(u)||[]).length){if(h=l[l.length-1],!t&&(g=Vr(h.codecs))!==(m=Vr(i.codecs)))continue;(g=Vr(h.codecs))!=(m=Vr(i.codecs))||i.bandwidth&&h.bandwidth&&!(i.bandwidth>h.bandwidth)||(l.push(i),y.push(i.id))}else l.push(i),y.push(i.id);n.set(u,l)}e.variants=e.variants.filter((function(e){var t=e.audio;return e=e.video,!(t&&!p.includes(t.id)||e&&!y.includes(e.id))}))}function yi(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;if(i&&i.width&&i.height){var a=i.width,o=i.height;if(o>a&&(a=(o=c([o,a])).next().value,o=o.next().value),!r(a,t.minWidth,Math.min(t.maxWidth,n.width))||!r(o,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function bi(e,t,n,r){return n=void 0===n?[]:n,r=void 0===r?{}:r,R((function(i){return 1==i.g?S(i,wi(e,t,0<t.offlineSessionIds.length,n,r),2):(function(e){e.textStreams=e.textStreams.filter((function(e){return Jr(e=jr(e.mimeType,e.codecs))}))}(t),S(i,function(e){var t,n,r,i,a,o,s;return R((function(u){switch(u.g){case 1:t=[],n=c(e.imageStreams),r=n.next();case 2:if(r.done){u.s(4);break}if(i=r.value,"application/mp4"==(a=i.mimeType)&&"mjpg"==i.codecs&&(a="image/jpg"),Hi.has(a)){u.s(5);break}if(!(o=zi.get(a))){Hi.set(a,!1),u.s(5);break}return S(u,function(e){return new Promise((function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then((function(){t(!0)})).catch((function(){t(!1)})):n.onload=n.onerror=function(){t(2===n.height)}}))}(o),7);case 7:s=u.h,Hi.set(a,s);case 5:Hi.get(a)&&t.push(i),r=n.next(),u.s(2);break;case 4:e.imageStreams=t,x(u)}}))}(t),0))}))}function wi(e,t,n,r,i){var a,o;return R((function(s){if(1==s.g)return qe()&&function(e){for(var t=(new Map).set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set,r=(e=c(e)).next();!r.done;r=e.next())(r=r.value).video&&n.add(r.video);for(n=c(n),e=n.next();!e.done;e=n.next()){e=e.value;for(var i=(r=c(t)).next();!i.done;i=r.next()){var a=c(i.value);if(i=a.next().value,a=a.next().value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,a);break}}}}(t.variants),S(s,Ti(t.variants,n,!1,r),2);a=null,e&&(o=e.h)&&(a=o.keySystem),t.variants=t.variants.filter((function(e){var t=function(e,t,n){if(!e.decodingInfos.some((function(e){return!(!e.supported||t&&(e=e.keySystemAccess)&&(n[e.keySystem]||e.keySystem)!=t)})))return!1;var r=qe(),i=lt("Firefox")&&ot(),a=e.video,o=a&&a.width||0,s=a&&a.height||0;return!(r&&a&&(1920<o||1080<s)&&(a.codecs.includes("avc1.")||a.codecs.includes("avc3."))||(r=a&&a.dependencyStream)&&!qt(r))&&(e=e.audio,!(i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}(e,a,i);if(!t){var n=[];e.audio&&n.push(Ui(e.audio)),e.video&&n.push(Ui(e.video))}return t})),x(s)}))}function Si(e,t){var n,r,i,a,o,s,u;return R((function(l){if(1==l.g){for(n=function(e,t){if(e){var n=Sn(e);return n.supported=e.supported&&t.supported,n.powerEfficient=e.powerEfficient&&t.powerEfficient,n.smooth=e.smooth&&t.smooth,t.keySystemAccess&&!n.keySystemAccess&&(n.keySystemAccess=t.keySystemAccess),n}return t},r=null,i=[],a=c(t),o=a.next(),s={};!o.done;s={cache:void 0,Sd:void 0},o=a.next())u=o.value,s.Sd=xn(u),s.cache=Bi,s.cache.has(s.Sd)?r=n(r,s.cache.get(s.Sd)):i.push(xi(u).then(function(e){return function(t){for(var i=null,a=(t=c(t||[])).next();!a.done;a=t.next())i=n(i,a.value);i&&(e.cache.set(e.Sd,i),r=n(r,i))}}(s)));return S(l,Promise.all(i),2)}r&&e.decodingInfos.push(r),x(l)}))}function xi(e){var t=[""];e.video&&(t=Gr(e.video.contentType).split(","));var n=[""];e.audio&&(n=Gr(e.audio.contentType).split(","));for(var r=[],i=(t=c(t)).next();!i.done;i=t.next()){i=i.value;for(var a=c(n),o=a.next(),s={};!o.done;s={pc:void 0},o=a.next())o=o.value,s.pc=wn(e),e.video&&(s.pc.video.contentType=jr(zr(s.pc.video.contentType),i)),e.audio&&(s.pc.audio.contentType=jr(zr(s.pc.audio.contentType),o)),r.push(new Promise(function(e){return function(t,n){(ot()?ai(5,navigator.mediaCapabilities.decodingInfo(e.pc)):navigator.mediaCapabilities.decodingInfo(e.pc)).then((function(e){t(e)})).catch(n)}}(s)))}return Promise.all(r).catch((function(){return JSON.stringify(e),null}))}function Ti(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x,T;return R((function(k){switch(k.g){case 1:if(e.some((function(e){return e.decodingInfos.length})))return k.return();i=c(r),a=i.next(),o={};case 2:if(a.done){k.s(4);break}o.lh=a.value,s=!1,u=c(e),l=u.next();case 5:if(l.done){k.s(7);break}d=l.value,f=ki(d,t,n).filter((A=o,function(e){return((e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)===A.lh})),p=c(f),h=p.next();case 8:if(h.done){k.s(10);break}return g=h.value,S(k,Si(d,g),9);case 9:h=p.next(),k.s(8);break;case 10:d.decodingInfos.length&&(s=!0),l=u.next(),k.s(5);break;case 7:if(s)return k.return();o={lh:void 0},a=i.next(),k.s(2);break;case 4:m=c(e),v=m.next();case 12:if(v.done){k.s(0);break}y=v.value,b=ki(y,t,n).filter((function(e){return!(e=(e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!r.includes(e)})),w=c(b),x=w.next();case 15:if(x.done){v=m.next(),k.s(12);break}return T=x.value,S(k,Si(y,T),16);case 16:x=w.next(),k.s(15)}var A}))}function ki(e,t,n){var r=e.audio,i=e.video,a=[],o=[];if(i)for(var s=c(i.fullMimeTypes),u=s.next();!u.done;u=s.next()){var l=Gr(u=u.value);if(l.includes(",")&&!r){var d=l.split(","),f=zr(u);l=jt("video",d),f=Ur(f,d=Ai(d=jt("audio",d),f),"audio"),o.push({contentType:f,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=Ei(l),u={contentType:Ur(zr(u),l,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":u.transferFunction="srgb";break;case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}i.colorGamut&&(u.colorGamut=i.colorGamut),a.push(u)}if(r)for(u=(s=c(r.fullMimeTypes)).next();!u.done;u=s.next())u=Ur(u=zr(l=u.value),l=Ai(Gr(l),u),"audio"),o.push({contentType:u,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(s=[],0==a.length&&a.push(null),0==o.length&&o.push(null),u=(a=c(a)).next();!u.done;u=a.next())for(u=u.value,f=(l=c(o)).next();!f.done;f=l.next())f=f.value,d={type:n?"file":"media-source"},u&&(d.video=u),f&&(d.audio=f),s.push(d);if(!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[s];for(e=[],n=new Map,a=(o=c(o)).next();!a.done;a=o.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(o=t?"required":"optional",t=t?["persistent-license"]:["temporary"],u=(a=c(n.keys())).next();!u.done;u=a.next()){for(u=u.value,f=n.get(u),l=new Map,d=(f=c(f)).next();!d.done;d=f.next()){var p=(d=d.value).videoRobustness+","+d.audioRobustness;l.get(p)||l.set(p,[]),l.get(p).push(d)}for(f=(l=c(l.values())).next();!f.done;f=l.next()){f=f.value,d=[];for(var h=(p=c(s)).next();!h.done;h=p.next()){h=Object.assign({},h.value);for(var g={keySystem:u,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},m=c(f),v=m.next();!v.done;v=m.next()){if((v=v.value).initData&&v.initData.length){for(var y=new Set,b=c(v.initData),w=b.next();!w.done;w=b.next())y.add(w.value.initDataType);g.initDataType=v.initData[0].initDataType}v.distinctiveIdentifierRequired&&(g.distinctiveIdentifier="required"),v.persistentStateRequired&&(g.persistentState="required"),v.sessionType&&(g.sessionTypes=[v.sessionType]),r&&(g.audio?(v.encryptionScheme&&(g.audio.encryptionScheme=g.audio.encryptionScheme||v.encryptionScheme),g.audio.robustness=g.audio.robustness||v.audioRobustness):(g.audio={robustness:v.audioRobustness},v.encryptionScheme&&(g.audio.encryptionScheme=v.encryptionScheme)),""==g.audio.robustness&&delete g.audio.robustness),i&&(g.video?(v.encryptionScheme&&(g.video.encryptionScheme=g.video.encryptionScheme||v.encryptionScheme),g.video.robustness=g.video.robustness||v.videoRobustness):(g.video={robustness:v.videoRobustness},v.encryptionScheme&&(g.video.encryptionScheme=v.encryptionScheme)),""==g.video.robustness&&delete g.video.robustness)}h.keySystemConfiguration=g,d.push(h)}e.push(d)}}return e}function Ai(e,t){return"flac"==e.toLowerCase()?Ze()?"fLaC":"flac":"opus"===e.toLowerCase()?Ze()&&"mp4"==Br(t)?"Opus":"opus":"ac-3"==e.toLowerCase()&&Xe()?"ec-3":e}function Ei(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function Ii(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=t?t.groupId:null,u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var d=new Set;if(t)for(var f=c(t.roles),p=f.next();!p.done;p=f.next())d.add(p.value);if(n)for(p=(f=c(n.roles)).next();!p.done;p=f.next())d.add(p.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:"",audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(d),audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,(r=n.dependencyStream)&&(e.width=r.width||e.width,e.height=r.height||e.height,e.videoCodec=r.codecs||e.videoCodec),o.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=i,n=o.split(",");try{e.videoCodec=jt("video",n),e.audioCodec=jt("audio",n)}catch(h){}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,t=t.dependencyStream)&&(e.audioCodec=t.codecs||e.audioCodec),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function Ci(e){return{id:e.id,active:!1,type:Ft,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function Mi(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=qu(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function Di(e){return e.__shaka_id||(e.__shaka_id=Vi++),e.__shaka_id}function Pi(e){var t=Li(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Li(e){var t=e.language;return{id:Di(e),active:!1,type:"",bandwidth:0,language:ci(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Ri(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function Ni(e){return e.filter((function(e){return Ri(e)}))}function _i(e,t,n,r){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=hi(ci(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return ci(e.language)==s})))}if(i=i.filter((function(e){return e.forced==r})),n){if((e=ji(i,n)).length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce(ni,[]),e.length?ji(i,e[0]):i}function ji(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function Oi(e,t){t.length&&(t=t.filter((function(t){return Vr(e.codecs)==Vr(t.codecs)})).sort((function(e,t){return e.bandwidth&&t.bandwidth&&e.bandwidth!=t.bandwidth?e.bandwidth-t.bandwidth:(e.width||0)-(t.width||0)})),e.trickModeVideo=t[0],1<t.length&&(t=t.find((function(t){return e.width==t.width&&e.height==t.height}))))&&(e.trickModeVideo=t)}function Ui(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function Fi(e,t,n){if(0==n.autoShowText)return!1;if(1==n.autoShowText)return!0;var r=ci(n.preferredTextLanguage);return t=ci(t.language),2==n.autoShowText?si(t,r):3==n.autoShowText?!!e&&(e=ci(e.language),si(t,r)&&!si(e,t)):(Y("Invalid autoShowText setting!"),!1)}V("shaka.util.StreamUtils",mi),mi.meetsRestrictions=yi;var Bi=new Map,Vi=0,Hi=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),zi=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Gi(){var t=this;this.G=null,this.o=!1,this.m=new q,this.j=new ee,navigator.connection&&navigator.connection.addEventListener&&this.j.D(navigator.connection,"change",(function(){if(t.o&&t.g.useNetworkInformation){t.m=new q,t.g&&t.m.configure(t.g.advanced);var e=t.chooseVariant();e&&navigator.onLine&&t.G(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}})),this.F=[],this.H=1,this.I=!1,this.h=this.l=this.g=this.u=null,this.A=new He((function(){if(t.o&&(t.g.restrictToElementSize||t.g.restrictToScreenSize)){var e=t.chooseVariant();e&&t.G(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}})),this.B=e,"documentPictureInPicture"in e&&this.j.D(e.documentPictureInPicture,"enter",(function(){t.B=e.documentPictureInPicture.window,t.A&&t.A.qb(),t.j.qa(t.B,"pagehide",(function(){t.B=e,t.A&&t.A.qb()}))})),this.C=this.i=null}function Ki(e){if(!e.I){var t=e.m;if(!(t.g>=t.i))return;e.I=!0,e.u-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.u<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function qi(e,t,n,r,i){if(e.C){var a=e.C.Tg();a&&(n=n.filter((function(e){return!e.bandwidth||!a||e.bandwidth<=a})))}return t&&(n=n.filter((function(e){return yi(e,t,{width:i,height:r})}))),n.sort((function(e,t){return e.bandwidth-t.bandwidth}))}(r=Gi.prototype).stop=function(){this.G=null,this.o=!1,this.F=[],this.H=1,this.l=this.u=null,this.h&&(this.h.disconnect(),this.h=null),this.A.stop(),this.C=this.i=null},r.release=function(){this.j.release(),this.A=null},r.init=function(e){this.G=e},r.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;e=this.B.screen.height*n,t=this.B.screen.width*n}if(this.h&&this.g.restrictToElementSize){n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;var r=this.l.clientHeight,i=this.l.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.l&&(r=this.i.height,i=this.i.width),e=Math.min(e,r*n),t=Math.min(t,i*n)}if((n=this.F.filter((function(e){return e&&!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))).length||(n=this.F),r=n,n.length!=this.F.length&&(r=this.F.filter((function(e){return e&&!!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))),n=qi(this,this.g.restrictions,r,1/0,1/0),1/0!=e||1/0!=t){for(n=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort((function(e,t){return e.width-t.width}))}(n),i=(n=c(n)).next();!i.done;i=n.next())if((i=i.value).height>=e&&i.width>=t){e=i.height,t=i.width;break}n=qi(this,this.g.restrictions,r,e,t)}for(e=this.getBandwidthEstimate(),r.length&&!n.length&&(n=[(n=qi(this,null,r,1/0,1/0))[0]]),t=n[0]||null,r=0;r<n.length;r++){i=n[r];for(var a=isNaN(this.H)?1:Math.abs(this.H),o=a*i.bandwidth/this.g.bandwidthDowngradeTarget,s={bandwidth:1/0},u=r+1;u<n.length;u++)if(i.bandwidth!=n[u].bandwidth){s=n[u];break}a=a*s.bandwidth/this.g.bandwidthUpgradeTarget,e>=o&&e<=a&&(t.bandwidth!=i.bandwidth||t.bandwidth==i.bandwidth&&t.video&&i.video&&(t.video.width<i.video.width||t.video.height<i.video.height))&&(t=i)}return this.u=Date.now(),t},r.enable=function(){this.o=!0},r.disable=function(){this.o=!1},r.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.m.sample(e,t),n&&null!=this.u&&this.o&&Ki(this))},r.trySuggestStreams=function(){null!=this.u&&this.o&&Ki(this)},r.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.m.getBandwidthEstimate(e),this.C?this.C.getBandwidthEstimate(e):e)},r.setVariants=function(e){this.F=e},r.playbackRateChanged=function(e){this.H=e},r.setMediaElement=function(t){function n(){r.A.da(Wi)}var r=this;this.l=t,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in e&&(this.h=new ResizeObserver(n),this.h.observe(this.l)),this.j.D(t,"enterpictureinpicture",(function(e){e.pictureInPictureWindow&&(r.i=e.pictureInPictureWindow,r.j.D(r.i,"resize",n))})),this.j.D(t,"leavepictureinpicture",(function(){r.i&&r.j.Ia(r.i,"resize",n),r.i=null}))},r.setCmsdManager=function(e){this.C=e},r.configure=function(e){this.g=e,this.m&&this.g&&this.m.configure(this.g.advanced)},V("shaka.abr.SimpleAbrManager",Gi),Gi.prototype.configure=Gi.prototype.configure,Gi.prototype.setCmsdManager=Gi.prototype.setCmsdManager,Gi.prototype.setMediaElement=Gi.prototype.setMediaElement,Gi.prototype.playbackRateChanged=Gi.prototype.playbackRateChanged,Gi.prototype.setVariants=Gi.prototype.setVariants,Gi.prototype.getBandwidthEstimate=Gi.prototype.getBandwidthEstimate,Gi.prototype.trySuggestStreams=Gi.prototype.trySuggestStreams,Gi.prototype.segmentDownloaded=Gi.prototype.segmentDownloaded,Gi.prototype.disable=Gi.prototype.disable,Gi.prototype.enable=Gi.prototype.enable,Gi.prototype.chooseVariant=Gi.prototype.chooseVariant,Gi.prototype.init=Gi.prototype.init,Gi.prototype.release=Gi.prototype.release,Gi.prototype.stop=Gi.prototype.stop;var Wi=1;function Xi(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.o=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function Yi(e){var t,n;return R((function(r){if(1==r.g){if(e.g>=e.l){if(!e.i)throw new Le(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),S(r,new Promise((function(e){new He(e).da(n/1e3)})),2))}e.h*=e.m,x(r)}))}function $i(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Qi(e,t){this.promise=e,this.i=t,this.g=null}function Ji(e){return new Qi(Promise.reject(e),(function(){return Promise.resolve()}))}function Zi(){var e=Promise.reject(new Le(2,7,7001));return e.catch((function(){})),new Qi(e,(function(){return Promise.resolve()}))}function ea(e){return new Qi(Promise.resolve(e),(function(){return Promise.resolve()}))}function ta(e){return new Qi(e,(function(){return e.catch((function(){}))}))}function na(e){return new Qi(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function ra(t,n){if(n)if(n instanceof Map)for(var r=c(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function ia(e){var t,n=new ra(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}V("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"}),$i.prototype.resolve=function(){},$i.prototype.reject=function(){},Qi.prototype.abort=function(){return this.g||(this.g=this.i()),this.g},Qi.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},Qi.prototype.Ga=function(e,t){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var u=n?e:t;u?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new $i;a.catch((function(){}));var o=new Le(2,7,7001);return this.promise.then(n(!0),n(!1)),new Qi(a,(function(){return r()}))},s.Object.defineProperties(Qi.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return null!==this.g}}}),V("shaka.util.AbortableOperation",Qi),Qi.prototype.chain=Qi.prototype.Ga,Qi.prototype.finally=Qi.prototype.finally,Qi.all=na,Qi.prototype.abort=Qi.prototype.abort,Qi.notAbortable=ta,Qi.completed=ea,Qi.aborted=Zi,Qi.failed=Ji,ra.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ra.prototype.stopImmediatePropagation=function(){this.g=!0},ra.prototype.stopPropagation=function(){},V("shaka.util.FakeEvent",ra);var aa={Oj:"abrstatuschanged",Pj:"adaptation",Qj:"audiotrackchanged",Rj:"audiotrackschanged",Sj:"boundarycrossed",Tj:"buffering",Uj:"complete",Vj:"downloadcompleted",Wj:"downloadfailed",Xj:"downloadheadersreceived",Yj:"drmsessionupdate",$j:"emsg",uk:"prft",Error:"error",ak:"expirationupdated",bk:"firstquartile",ck:"gapjumped",fk:"keystatuschanged",jk:"loaded",kk:"loading",mk:"manifestparsed",nk:"manifestupdated",pk:"mediaqualitychanged",qk:"mediasourcerecovered",Metadata:"metadata",rk:"midpoint",sk:"nospatialvideoinfo",tk:"onstatechange",vk:"ratechange",xk:"segmentappended",yk:"sessiondata",zk:"spatialvideoinfo",Ak:"stalldetected",Bk:"started",Ck:"statechanged",Dk:"streaming",Ek:"textchanged",Fk:"texttrackvisibility",Gk:"thirdquartile",Hk:"timelineregionadded",Ik:"timelineregionenter",Jk:"timelineregionexit",Kk:"trackschanged",Mk:"unloading",Ok:"variantchanged"};function oa(){this.Da=new Z,this.Re=this}function sa(){this.g=[]}function ua(e,t){e.g.push(t.finally((function(){cn(e.g,t)})))}function la(e,t,n,r,i,a,o){oa.call(this),this.i=!1,this.u=new sa,this.g=new Set,this.h=new Set,this.m=e||null,this.l=t||null,this.C=n||null,this.F=r||null,this.G=i||null,this.I=a||null,this.H=o||null,this.A=this.B=!1,this.o=16e3,this.j=new Map}function ca(e,t,n,r){r=void 0!==r&&r,n=n||ya;var i=ba.get(e);(!i||n>=i.priority)&&ba.set(e,{priority:n,ue:t,ij:r})}function da(e,t){for(var n=c(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(n=(e=c(e.h)).next();!n.done;n=e.next())t.h.add(n.value)}function fa(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function pa(e,t,n,r,i,a,o,s){e.B&&(n.uris[a]=n.uris[a].replace("https://","http://")),e.A&&(n.uris[a]=n.uris[a].replace("http://","https://")),0<a&&e.I&&e.I(t,r,n.uris[a],n.uris[a-1]);var u=new le(n.uris[a]),l=u.Ib,c=!1;l||(ce(u,l=(l=location.protocol).slice(0,-1)),n.uris[a]=u.toString()),l=l.toLowerCase();var d=(l=ba.get(l))?l.ue:null;if(!d)return Ji(new Le(2,1,1e3,u));var f=l.ij;(u=e.j.get(u.lb))&&(n.headers["common-access-token"]=u);var p,h=null,g=null,m=!1,v=!1;return ta(Yi(i)).Ga((function(){if(e.i)return Zi();p=Date.now();var i=0;n.requestStartTime=Date.now();var o=d(n.uris[a],n,t,(function(a,o,u){h&&h.stop(),g&&g.da(l/1e3),e.m&&t==va&&(i++,n.packetNumber=i,e.m(a,o,ha(r),n),c=!0,s.g=u)}),(function(r){v=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.l&&e.l(r,n,t)}),{minBytesForProgressEvents:e.o});if(!f)return o;var u=n.retryParameters.connectionTimeout;u&&(h=new He((function(){m=!0,o.abort()}))).da(u/1e3);var l=n.retryParameters.stallTimeout;return l&&(g=new He((function(){m=!0,o.abort()}))),o})).Ga((function(r){h&&h.stop(),g&&g.stop(),void 0==r.timeMs&&(r.timeMs=Date.now()-p);var i=r.headers["common-access-token"];if(i){var a=new le(r.uri);e.j.set(a.lb,i)}return i={response:r,Oi:c},!v&&e.l&&e.l(r.headers,n,t),e.C&&e.C(n,r),i}),(function(u){if(h&&h.stop(),g&&g.stop(),e.F){var l=null,c=0;u instanceof Le&&(l=u,1001==u.code&&(c=u.data[1])),e.F(n,l,c,m)}if(e.i)return Zi();if(m&&(u=new Le(1,1,1003,n.uris[a],t)),u instanceof Le){if(7001==u.code)throw u;if(1010==u.code)throw o;if(1==u.severity){if((l=new ra("retry",l=(new Map).set("error",u))).cancelable=!0,e.dispatchEvent(l),l.defaultPrevented)throw u;return a=(a+1)%n.uris.length,pa(e,t,n,r,i,a,u,s)}}throw u}))}function ha(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}function ga(){this.g=0}function ma(e,t,n){Qi.call(this,e,t),this.h=n}oa.prototype.addEventListener=function(e,t){this.Da&&this.Da.push(e,t)},oa.prototype.removeEventListener=function(e,t){this.Da&&this.Da.remove(e,t)},oa.prototype.dispatchEvent=function(e){if(!this.Da)return!0;var t=this.Da.get(e.type)||[],n=this.Da.get("All");for(n&&(t=t.concat(n)),n=(t=c(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Re,e.currentTarget=this.Re;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(r){}if(e.g)break}return e.defaultPrevented},oa.prototype.release=function(){this.Da=null},sa.prototype.destroy=function(){for(var e=[],t=c(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.g=[],Promise.all(e)},v(la,oa),(r=la.prototype).kg=function(e){this.B=e},r.lg=function(e){this.A=e},r.lj=function(e){this.g.add(e)},r.Hj=function(e){this.g.delete(e)},r.Zh=function(){this.g.clear()},r.mj=function(e){this.h.add(e)},r.Ij=function(e){this.h.delete(e)},r.$h=function(){this.h.clear()},r.Hg=function(){this.j.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.j.clear(),oa.prototype.release.call(this),this.u.destroy()},r.request=function(e,t,n){var r=this,i=new ga;if(this.i){var a=Promise.reject(new Le(2,7,7001));return a.catch((function(){})),new ma(a,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?wn(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=wn(t.uris),a=function(e,t,n,r){function i(e){a=a.Ga((function(){return n.body&&(n.body=Ie(n.body)),e(t,n,r)}))}var a=ea(void 0);e.G&&i(e.G);for(var o=(e=c(e.g)).next();!o.done;o=e.next())i(o.value);return a.Ga(void 0,(function(e){if(e instanceof Le&&7001==e.code)throw e;throw new Le(2,1,1006,e)}))}(this,e,t,n);var o=a.Ga((function(){return pa(r,e,t,n,new Xi(t.retryParameters,!1),0,null,i)})),s=o.Ga((function(t){return function(e,t,n,r){for(var i=ea(void 0),a=(e=c(e.h)).next(),o={};!a.done;o={oh:void 0},a=e.next())o.oh=a.value,i=i.Ga(function(e){return function(){var i=n.response;return i.data&&(i.data=Ie(i.data)),(0,e.oh)(t,i,r)}}(o));return i.Ga((function(){return n}),(function(e){var t=2;if(e instanceof Le){if(7001==e.code)throw e;t=e.severity}throw new Le(t,1,1007,e)}))}(r,e,t,n)})),u=Date.now(),l=0;a.promise.then((function(){l=Date.now()-u}),(function(){}));var d=0;o.promise.then((function(){d=Date.now()}),(function(){}));var f=s.Ga((function(i){var a=Date.now()-d,o=i.response;return o.timeMs+=l,o.timeMs+=a,i.Oi||!r.m||o.fromCache||"HEAD"==t.method||e!=va||r.m(o.timeMs,o.data.byteLength,ha(n)),r.H&&r.H(e,o,n),o}),(function(e){throw e&&(e.severity=2),e}));return a=new ma(f.promise,(function(){return f.abort()}),i),ua(this.u,a),a},V("shaka.net.NetworkingEngine",la),la.prototype.request=la.prototype.request,la.prototype.destroy=la.prototype.destroy,la.makeRequest=fa,la.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},la.prototype.clearCommonAccessTokenMap=la.prototype.Hg,la.prototype.clearAllResponseFilters=la.prototype.$h,la.prototype.unregisterResponseFilter=la.prototype.Ij,la.prototype.registerResponseFilter=la.prototype.mj,la.prototype.clearAllRequestFilters=la.prototype.Zh,la.prototype.unregisterRequestFilter=la.prototype.Hj,la.prototype.registerRequestFilter=la.prototype.lj,la.unregisterScheme=function(e){ba.delete(e)},la.registerScheme=ca,la.prototype.setForceHTTPS=la.prototype.lg,la.prototype.setForceHTTP=la.prototype.kg,la.NumBytesRemainingClass=ga,v(ma,Qi),la.PendingRequest=ma;var va=1;la.RequestType={MANIFEST:0,SEGMENT:va,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},la.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var ya=3;la.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:ya};var ba=new Map;function wa(e){this.g=!1,this.h=new $i,this.i=e}function Sa(e,t){if(e.g){if(t instanceof Le&&7003==t.code)throw t;throw new Le(2,7,7003,t)}}function xa(e,t){for(var n=[],r=(e=c(e)).next();!r.done;r=e.next())n.push(t(r.value));return n}function Ta(e){for(var t=new Map,n=c(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function ka(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Aa(e,t){this.h=De(e),this.i=t==Ia,this.g=0}function Ea(){return new Le(2,3,3e3)}wa.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},(r=Aa.prototype).ta=function(){return this.g<this.h.byteLength},r.Aa=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.X=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(t){throw Ea()}},r.ma=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(t){throw Ea()}},r.S=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(t){throw Ea()}},r.$f=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(t){throw Ea()}},r.Zc=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(n){throw Ea()}if(2097151<t)throw new Le(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},r.Cb=function(e){if(this.g+e>this.h.byteLength)throw Ea();var t=Ce(this.h,this.g,e);return this.g+=e,t},r.skip=function(e){if(this.g+e>this.h.byteLength)throw Ea();this.g+=e},r.ph=function(e){if(this.g<e)throw Ea();this.g-=e},r.seek=function(e){if(0>e||e>this.h.byteLength)throw Ea();this.g=e},r.Ac=function(){for(var e=this.g;this.ta()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=Ce(this.h,e,this.g-e),this.g+=1,yt(e)},V("shaka.util.DataViewReader",Aa),Aa.prototype.readTerminatedString=Aa.prototype.Ac,Aa.prototype.seek=Aa.prototype.seek,Aa.prototype.rewind=Aa.prototype.ph,Aa.prototype.skip=Aa.prototype.skip,Aa.prototype.readBytes=Aa.prototype.Cb,Aa.prototype.readUint64=Aa.prototype.Zc,Aa.prototype.readInt32=Aa.prototype.$f,Aa.prototype.readUint32=Aa.prototype.S,Aa.prototype.readUint16=Aa.prototype.ma,Aa.prototype.readUint8=Aa.prototype.X,Aa.prototype.getLength=Aa.prototype.getLength,Aa.prototype.getPosition=Aa.prototype.Aa,Aa.prototype.hasMoreData=Aa.prototype.ta;var Ia=1;function Ca(){this.i=new Map,this.h=new Map,this.g=!1}function Ma(e){for(var t=ja(e);e.reader.ta()&&!e.parser.g;)e.parser.Wc(e.start+t,e.reader,e.partialOkay)}function Da(e){for(var t=ja(e),n=e.reader.S(),r=0;r<n&&(e.parser.Wc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function Pa(e){var t=ja(e);for(e.reader.skip(78);e.reader.ta()&&!e.parser.g;)e.parser.Wc(e.start+t,e.reader,e.partialOkay)}function La(e){var t=ja(e);e.reader.skip(8);var n=e.reader.ma();for(e.reader.skip(6),2==n?e.reader.skip(48):e.reader.skip(12),1==n&&e.reader.skip(16);e.reader.ta()&&!e.parser.g;)e.parser.Wc(e.start+t,e.reader,e.partialOkay)}function Ra(e){return function(t){e(t.reader.Cb(t.reader.getLength()-t.reader.Aa()))}}function Na(e){for(var t=0,n=(e=c(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function _a(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function ja(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}Aa.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Ia},(r=Ca.prototype).box=function(e,t){return e=Na(e),this.i.set(e,Oa),this.h.set(e,t),this},r.R=function(e,t){return e=Na(e),this.i.set(e,Ua),this.h.set(e,t),this},r.stop=function(){this.g=!0},r.parse=function(e,t,n){for(e=new Aa(e,0),this.g=!1;e.ta()&&!this.g;)this.Wc(0,e,t,n)},r.Wc=function(e,t,n,r){var i=t.Aa();if(r&&i+8>t.getLength())this.g=!0;else{var a=t.S(),o=t.S(),s=_a(o),u=!1;switch(a){case 0:a=t.getLength()-i;break;case 1:if(r&&t.Aa()+8>t.getLength())return void(this.g=!0);a=t.Zc(),u=!0}var l=this.h.get(o);if(l){var c=null,d=null;if(this.i.get(o)==Ua){if(r&&t.Aa()+4>t.getLength())return void(this.g=!0);c=(d=t.S())>>>24,d&=16777215}o=i+a,n&&o>t.getLength()&&(o=t.getLength()),r&&o>t.getLength()?this.g=!0:(r=o-t.Aa(),l({name:s,parser:this,partialOkay:n||!1,version:c,flags:d,reader:t=new Aa(t=0<r?t.Cb(r):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:u}))}else t.skip(Math.min(i+a-t.Aa(),t.getLength()-t.Aa()))}},V("shaka.util.Mp4Parser",Ca),Ca.headerSize=ja,Ca.typeToString=_a,Ca.allData=Ra,Ca.audioSampleEntry=La,Ca.visualSampleEntry=Pa,Ca.sampleDescription=Da,Ca.children=Ma,Ca.prototype.parseNext=Ca.prototype.Wc,Ca.prototype.parse=Ca.prototype.parse,Ca.prototype.stop=Ca.prototype.stop,Ca.prototype.fullBox=Ca.prototype.R,Ca.prototype.box=Ca.prototype.box;var Oa=0,Ua=1;function Fa(e){var t=this;this.g=[],this.h=[],this.data=[],(new Ca).box("moov",Ma).box("moof",Ma).R("pssh",(function(e){if(!(1<e.version)){var n=Ce(e.reader.h,-12,e.size);if(t.data.push(n),t.g.push(Pt(e.reader.Cb(16))),0<e.version){n=e.reader.S();for(var r=0;r<n;r++){var i=Pt(e.reader.Cb(16));t.h.push(i)}}}})).parse(e)}function Ba(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var o=new Uint8Array(a),s=De(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(t,u),u+=t.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(t=c(n)).next();!n.done;n=t.next())n=Dt(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,i),o.set(e,u+4),o}function Va(e){var t=this;this.C=e,this.j=this.A=null,this.ka=this.ea=!1,this.H=0,this.h=null,this.o=new ee,this.i=new Map,this.T=[],this.B=new Map,this.K=!1,this.m=new $i,this.g=null,this.u=function(n){2==n.severity&&t.m.reject(n),e.onError(n)},this.Z=new Map,this.fa=new Map,this.L=new He((function(){return function(e){var t=e.Z,n=e.fa;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.u(new Le(2,6,6014)),e.C.re(ka(n))}(t)})),this.O=!1,this.M=[],this.W=!1,this.I=new He((function(){!function(e){e.i.forEach((function(t,n){var r=t.Vf,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Vf=i)}))}(t)})),this.m.catch((function(){})),this.l=new wa((function(){return function(e){return R((function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.L.stop(),e.L=null,S(t,to(e),2);case 2:if(!e.j){t.s(3);break}return T(t,4),S(t,e.j.setMediaKeys(null),6);case 6:A(t,5);break;case 4:E(t);case 5:e.j=null;case 3:e.h=null,e.A=null,e.B=new Map,e.g=null,e.u=function(){},e.C=null,e.$=!1,e.G=null,x(t)}}))}(t)})),this.$=!1,this.F=this.G=null,this.P=function(){return!1}}function Ha(e,t,n,r){r=void 0===r||r,e.B=new Map;for(var i=(n=c(n)).next();!i.done;i=n.next())e.B.set(i.value,{initData:null,initDataType:null});for(i=(n=c(e.g.persistentSessionsMetadata)).next();!i.done;i=n.next())i=i.value,e.B.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.O=0<e.B.size,za(e,t,r)}function za(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x;return R((function(T){if(1==T.g){for(oo(e.g.clearKeys,t),!(r=t.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))&&n&&(i=Ta(e.g.servers),function(e,t){var n=[];for(t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),e=c(e),t=e.next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(t,i)),a=new Set,o=c(t),s=o.next();!s.done;s=o.next())for(u=s.value,l=no(u),d=c(l),f=d.next();!f.done;f=d.next())p=f.value,a.add(p);for(h=c(a),g=h.next();!g.done;g=h.next())ao(g.value,Ta(e.g.servers),Ta(e.g.advanced||{}),e.g.keySystemsMapping);for(m=function(t,n){for(var r=[],i=(t=c(t)).next();!i.done;i=t.next()){var a,o=(i=i.value)[n]||e.g.advanced&&e.g.advanced[i.keySystem]&&e.g.advanced[i.keySystem][n]||"";if((a=""==o)&&(a=!!(a=i.keySystem)&&!!a.match(/^com\.widevine\.alpha/)),a&&("audioRobustness"==n?o=[e.g.defaultAudioRobustnessForWidevine]:"videoRobustness"==n&&(o=[e.g.defaultVideoRobustnessForWidevine])),"string"===typeof o)r.push(i);else if(Array.isArray(o))for(0===o.length&&(o=[""]),a=(o=c(o)).next();!a.done;a=o.next()){var s={};r.push(Object.assign({},i,(s[n]=a.value,s)))}}return r},v=new Set,y=c(t),b=y.next();!b.done;b=y.next())(w=b.value).video&&!v.has(w.video)&&(w.video.drmInfos=m(w.video.drmInfos,"videoRobustness"),w.video.drmInfos=m(w.video.drmInfos,"audioRobustness"),v.add(w.video)),w.audio&&!v.has(w.audio)&&(w.audio.drmInfos=m(w.audio.drmInfos,"videoRobustness"),w.audio.drmInfos=m(w.audio.drmInfos,"audioRobustness"),v.add(w.audio));return v.clear(),S(T,Ti(t,e.O,e.$,e.g.preferredKeySystems),2)}return Sa(e.l),r||Object.keys(e.g.servers).length?(x=Xa(e,void 0,t),T.return(r?x:x.catch((function(){})))):(e.ea=!0,T.return(Promise.resolve()))}))}function Ga(e){var t;return R((function(n){switch(n.g){case 1:if(e.j.mediaKeys)return n.return();if(!e.G){n.s(2);break}return S(n,e.G,3);case 3:return Sa(e.l),n.return();case 2:return T(n,4),e.G=e.j.setMediaKeys(e.A),S(n,e.G,6);case 6:A(n,5);break;case 4:t=E(n),e.u(new Le(2,6,6003,t.message));case 5:Sa(e.l),x(n)}}))}function Ka(e){var t,n,r,i;return R((function(a){if(1==a.g)return e.B.size?(e.B.forEach((function(t,n){Qa(e,n,t)})),S(a,e.m,3)):a.s(2);if(2!=a.g){if(0<(e.h&&e.h.keyIds||new Set([])).size&&function(e){for(var t=c(e.h&&e.h.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.Z.get(n.value))return!1;return!0}(e))return a.return(e.m);e.K=!1,e.m=new $i,e.m.catch((function(){}))}for(t=(e.h?e.h.initData:[])||[],n=c(t),r=n.next();!r.done;r=n.next())i=r.value,qa(e,i.initDataType,i.initData);return ro(e)&&e.m.resolve(),a.return(e.m)}))}function qa(e,t,n){if(n.length){if(e.g.ignoreDuplicateInitData){for(var r=e.i.values(),i=(r=c(r)).next();!i.done;i=r.next())if(Ee(n,i.value.initData))return;var a=!1;if(e.B.forEach((function(e){!a&&Ee(n,e.initData)&&(a=!0)})),a)return}e.K=!0,0<e.i.size&&ro(e)&&(e.m.resolve(),e.K=!1,e.m=new $i,e.m.catch((function(){}))),function(e,t,n,r){try{var i=e.A.createSession(r)}catch(a){return void e.u(new Le(2,6,6005,a.message))}e.o.D(i,"message",(function(t){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):Ja(e,t)})),e.o.D(i,"keystatuseschange",(function(t){return Za(e,t)})),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Vf:1/0,rb:null,type:r});try{n=e.g.initDataTransform(n,t,e.h)}catch(a){return t=a,a instanceof Le||(t=new Le(2,6,6016,a)),void e.u(t)}e.g.logLicenseExchange&&Ct(n),i.generateRequest(t,n).catch((function(t){if(!e.l.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.u(new Le(2,6,6006,t.message,t,r))}}))}(e,t,n,e.h.sessionType)}}function Wa(e){return e=xa(e=e.i.keys(),(function(e){return e.sessionId})),Array.from(e)}function Xa(e,t,n){var r,i,a,o,s,u,l;return R((function(d){switch(d.g){case 1:if(r=new Map,n.length){i=function(e,t,n){for(var r=c(t),i=r.next();!i.done;i=r.next())for(var a=(i=c(no(i.value))).next();!a.done;a=i.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);if(1==n.size&&n.has(""))throw new Le(2,6,6e3);r=e.g.preferredKeySystems,r.length||(i=Ta(e.g.servers),1==i.size&&(r=Array.from(i.keys()))),i=c(r);var o=i.next();for(a={};!o.done;a={mh:void 0},o=i.next()){a.mh=o.value;for(var s=(o=c(t)).next();!s.done;s=o.next())if(s=s.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.mh}}(a)))return s.keySystemAccess}for(i=c([!0,!1]),a=i.next();!a.done;a=i.next())for(a=a.value,o=c(t),s=o.next();!s.done;s=o.next())for(var u=(s=c(s.value.decodingInfos)).next();!u.done;u=s.next())if((u=u.value).supported&&u.keySystemAccess){var l=u.keySystemAccess.keySystem;if(!r.includes(l)){var d=n.get(l);for(!d&&e.g.keySystemsMapping[l]&&(d=n.get(e.g.keySystemsMapping[l])),d=(l=c(d)).next();!d.done;d=l.next())if(!!d.value.licenseServerUri==a)return u.keySystemAccess}}return null}(e,n,r),d.s(2);break}return S(d,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y;return R((function(b){switch(b.g){case 1:if(1==t.size&&t.has(""))throw new Le(2,6,6e3);for(r=c(t.values()),i=r.next();!i.done;i=r.next())0==(a=i.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;o=c(e.g.preferredKeySystems),s=o.next();case 2:if(s.done){b.s(4);break}if(u=s.value,!t.has(u)){b.s(3);break}return l=t.get(u),T(b,6),S(b,navigator.requestMediaKeySystemAccess(u,[l]),8);case 8:return n=b.h,b.return(n);case 6:E(b);case 7:Sa(e.l);case 3:s=o.next(),b.s(2);break;case 4:d=c([!0,!1]),f=d.next();case 9:if(f.done){b.s(11);break}p=f.value,h=c(t.keys()),g=h.next();case 12:if(g.done){f=d.next(),b.s(9);break}if(m=g.value,v=t.get(m),y=v.drmInfos.some((function(e){return!!e.licenseServerUri})),y!=p){b.s(13);break}return T(b,15),S(b,navigator.requestMediaKeySystemAccess(m,[v]),17);case 17:return n=b.h,b.return(n);case 15:E(b);case 16:Sa(e.l);case 13:g=h.next(),b.s(12);break;case 11:return b.return(n)}}))}(e,t),3);case 3:i=d.h;case 2:if(!(a=i)){if(!navigator.requestMediaKeySystemAccess)throw new Le(2,6,6020);throw new Le(2,6,6001)}if(Sa(e.l),T(d,4),a.getConfiguration(),o=e.g.keySystemsMapping[a.keySystem]||a.keySystem,n.length){var f=o,p=r.get(o),h=[],g=[],m=[],v=[],y=[],b=new Set,w=new Set;io(p,h,g,v,m,y,b,w);var x=e.O?"persistent-license":"temporary";for(f={keySystem:f,encryptionScheme:h[0],licenseServerUri:g[0],distinctiveIdentifierRequired:p[0].distinctiveIdentifierRequired,persistentStateRequired:p[0].persistentStateRequired,sessionType:p[0].sessionType||x,audioRobustness:p[0].audioRobustness||"",videoRobustness:p[0].videoRobustness||"",serverCertificate:v[0],serverCertificateUri:m[0],initData:y,keyIds:b},0<w.size&&(f.keySystemUris=w),w=(p=c(p)).next();!w.done;w=p.next())(w=w.value).distinctiveIdentifierRequired&&(f.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(f.persistentStateRequired=w.persistentStateRequired);p=f}else p=o,w=t.get(o),f=[],h=[],g=[],m=[],v=[],y=new Set,io(w.drmInfos,f,h,m,g,v,y),p={keySystem:p,encryptionScheme:f[0],licenseServerUri:h[0],distinctiveIdentifierRequired:"required"==w.distinctiveIdentifier,persistentStateRequired:"required"==w.persistentState,sessionType:w.sessionTypes[0]||"temporary",audioRobustness:(w.audioCapabilities?w.audioCapabilities[0].robustness:"")||"",videoRobustness:(w.videoCapabilities?w.videoCapabilities[0].robustness:"")||"",serverCertificate:m[0],serverCertificateUri:g[0],initData:v,keyIds:y};if(e.h=p,!e.h.licenseServerUri)throw new Le(2,6,6012,e.h.keySystem);return S(d,a.createMediaKeys(),6);case 6:if(s=d.h,Sa(e.l),e.A=s,""==e.g.minHdcpVersion||!("getStatusForPolicy"in e.A)){d.s(7);break}return T(d,8),S(d,e.A.getStatusForPolicy({minHdcpVersion:e.g.minHdcpVersion}),10);case 10:if("usable"!=d.h)throw new Le(2,6,6018);Sa(e.l),A(d,7,4);break;case 8:if((u=E(d,4))instanceof Le)throw u;throw new Le(2,6,6019,u.message);case 7:return e.ea=!0,S(d,function(e){var t,n;return R((function(r){switch(r.g){case 1:if(!e.A||!e.h)return r.return();if(!e.h.serverCertificateUri||e.h.serverCertificate&&e.h.serverCertificate.length){r.s(2);break}return t=fa([e.h.serverCertificateUri],e.g.retryParameters),T(r,3),S(r,e.C.Vb.request(5,t,{isPreload:e.P()}).promise,5);case 5:n=r.h,e.h.serverCertificate=Ce(n.data),A(r,4);break;case 3:throw new Le(2,6,6017,E(r));case 4:if(e.l.g)return r.return();case 2:return e.h.serverCertificate&&e.h.serverCertificate.length?(T(r,6),S(r,e.A.setServerCertificate(e.h.serverCertificate),8)):r.return();case 8:A(r,0);break;case 6:throw new Le(2,6,6004,E(r).message)}}))}(e),11);case 11:Sa(e.l),A(d,0);break;case 4:if(l=E(d),Sa(e.l,l),e.h=null,l instanceof Le)throw l;throw new Le(2,6,6002,l.message)}}))}function Ya(e){ro(e)&&e.m.resolve()}function $a(e,t){new He((function(){t.loaded=!0,Ya(e)})).da(uo)}function Qa(e,t,n){var r,i,a,o,s,u,l;return R((function(c){switch(c.g){case 1:try{r=e.A.createSession("persistent-license")}catch(d){return i=new Le(2,6,6005,d.message),e.u(i),c.return(Promise.reject(i))}return e.o.D(r,"message",(function(t){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):Ja(e,t)})),e.o.D(r,"keystatuseschange",(function(t){return Za(e,t)})),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Vf:1/0,rb:null,type:"persistent-license"},e.i.set(r,a),T(c,2),S(c,r.load(t),4);case 4:return o=c.h,Sa(e.l),o||(e.i.delete(r),s=e.g.persistentSessionOnlinePlayback?1:2,e.u(new Le(s,6,6013)),a.loaded=!0),$a(e,a),Ya(e),c.return(r);case 2:u=E(c),Sa(e.l,u),e.i.delete(r),l=e.g.persistentSessionOnlinePlayback?1:2,e.u(new Le(l,6,6005,u.message)),a.loaded=!0,Ya(e);case 3:return c.return(Promise.resolve())}}))}function Ja(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m;R((function(v){switch(v.g){case 1:if(n=t.target,e.g.logLicenseExchange&&Ct(t.message),r=e.i.get(n),i=e.h.licenseServerUri,a=e.g.advanced[e.h.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=fa([i],e.g.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.h,r&&(o.initData=r.initData,o.initDataType=r.initDataType),a&&a.headers)for(s in a.headers)o.headers[s]=a.headers[s];if("org.w3.clearkey"===e.h.keySystem){var y=o,b=e.h;try{var w=wt(y.body);if(w){var k=JSON.parse(w);k.type||(k.type=b.sessionType,y.body=St(JSON.stringify(k)))}}catch(I){}}if(Oe(e.h.keySystem))if((y=bt(o.body,!0,!0)).includes("PlayReadyKeyMessage")){for(w=(b=c(b=Pn(y=kn(y,"PlayReadyKeyMessage"),"HttpHeader"))).next();!w.done;w=b.next())w=Pn(k=w.value,"name")[0],k=Pn(k,"value")[0],o.headers[Mn(w)]=Mn(k);y=Pn(y,"Challenge")[0],o.body=Mt(Mn(y))}else o.headers["Content-Type"]="text/xml; charset=utf-8";return u=Date.now(),T(v,2),d=e.C.Vb.request(2,o,{isPreload:e.P()}),e.T.push(d),S(v,d.promise,4);case 4:l=v.h,cn(e.T,d),A(v,3);break;case 2:return f=E(v),e.l.g?v.return():(p=new Le(2,6,6007,f),1==e.i.size?(e.u(p),r&&r.rb&&r.rb.reject(p)):(r&&r.rb&&r.rb.reject(p),e.i.delete(n),ro(e)&&(e.m.resolve(),e.L.da(.1))),v.return());case 3:return e.l.g?v.return():(e.H+=(Date.now()-u)/1e3,e.g.logLicenseExchange&&Ct(l.data),T(v,5),S(v,n.update(l.data),7));case 7:A(v,6);break;case 5:return h=E(v),g=new Le(2,6,6008,h.message),e.u(g),r&&r.rb&&r.rb.reject(g),v.return();case 6:if(e.l.g)return v.return();m=new ra("drmsessionupdate"),e.C.onEvent(m),r&&(r.rb&&r.rb.resolve(),$a(e,r)),x(v)}}))}function Za(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach((function(t,i){if("string"==typeof i){var a=i;i=t,t=a}if(Oe(e.h.keySystem)&&16==i.byteLength&&(Ke()||tt()||lt("sony.hbbtv.tv.G5"))){var o=(a=De(i)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=Pt(i).slice(0,32),e.Z.set(i,t)}));var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.rb&&(e.i.delete(t),eo(t)),ro(e)&&(e.m.resolve(),e.L.da(lo))}function eo(e){return R((function(t){return 1==t.g?(T(t,2),S(t,ai(so,Promise.all([e.close().catch((function(){})),e.closed])),4)):2!=t.g?A(t,0):(E(t),void x(t))}))}function to(e){var t;return R((function(n){return t=Array.from(e.i.entries()),e.i.clear(),S(n,Promise.all(t.map((function(t){var n=(t=c(t)).next().value,r=t.next().value;return R((function(t){return 1==t.g?(T(t,2),e.ka||e.B.has(n.sessionId)||"persistent-license"!==r.type||e.g.persistentSessionOnlinePlayback?S(t,eo(n),5):S(t,n.remove(),5)):2!=t.g?A(t,0):(E(t),void x(t))}))}))),0)}))}function no(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function ro(e){return function(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),(function(e){return e.loaded}))}function io(t,n,r,i,a,o,s,u){for(var l=[],f=(t=c(t)).next(),p={};!f.done;p={wa:void 0},f=t.next()){if(p.wa=f.value,n.includes(p.wa.encryptionScheme)||n.push(p.wa.encryptionScheme),"org.w3.clearkey"==p.wa.keySystem&&p.wa.licenseServerUri.startsWith("data:application/json;base64,")?l.includes(p.wa.licenseServerUri)||l.push(p.wa.licenseServerUri):r.includes(p.wa.licenseServerUri)||r.push(p.wa.licenseServerUri),a.includes(p.wa.serverCertificateUri)||a.push(p.wa.serverCertificateUri),p.wa.serverCertificate&&(i.some(function(e){return function(t){return Ee(t,e.wa.serverCertificate)}}(p))||i.push(p.wa.serverCertificate)),p.wa.initData)for(var h=(f=c(p.wa.initData)).next(),g={};!h.done;g={Mf:void 0},h=f.next())g.Mf=h.value,o.some(function(e){return function(t){var n=e.Mf;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Ee(t.initData,n.initData)}}(g))||o.push(g.Mf);if(p.wa.keyIds)for(h=(f=c(p.wa.keyIds)).next();!h.done;h=f.next())s.add(h.value);if(p.wa.keySystemUris&&u)for(f=(p=c(p.wa.keySystemUris)).next();!f.done;f=p.next())u.add(f.value)}if(1==l.length)r.push(l[0]);else if(0<l.length){for(n=[],i=(l=c(l)).next();!i.done;i=l.next())i=e.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),n.push.apply(n,d(i.keys));l=JSON.stringify({keys:n}),r.push("data:application/json;base64,"+e.btoa(l))}}function ao(t,n,r,i){var a=t.keySystem;!a||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&n.get(a)&&(n=n.get(a),t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[a]&&(t.keySystem=i[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}function oo(e,t){if(0!=(e=Ta(e)).size){e=_t(e);for(var n=(t=c(t)).next();!n.done;n=t.next())(n=n.value).video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}(r=Va.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e,t){this.g=e,t&&(this.P=t),this.I&&this.I.ua(this.g.updateExpirationTime)},r.Jb=function(e){var t,n=this;return R((function(r){if(1==r.g)return n.j===e?r.return():n.A?(n.j=e,n.o.qa(n.j,"play",(function(){for(var e=c(n.M),t=e.next();!t.done;t=e.next())Ja(n,t.value);n.W=!0,n.M=[]})),n.j.remote?(n.o.D(n.j.remote,"connect",(function(){return to(n)})),n.o.D(n.j.remote,"connecting",(function(){return to(n)})),n.o.D(n.j.remote,"disconnect",(function(){return to(n)}))):"webkitCurrentPlaybackTargetIsWireless"in n.j&&n.o.D(n.j,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return to(n)})),n.F=n.h&&n.h.initData.find((function(e){return 0<e.initData.length}))||null,t=n.h.keySystem,t.startsWith("com.microsoft.playready.recommendation")||"com.apple.fps"==t||!(n.F||n.B.size||n.g.parseInbandPsshEnabled)?(n.o.D(n.j,"encrypted",(function(e){return function(e,t){return R((function(n){if(1==n.g)return S(n,Ga(e),2);qa(e,t.initDataType,Ce(t.initData)),x(n)}))}(n,e)})),r.s(2)):S(r,Ga(n),2)):(n.o.qa(e,"encrypted",(function(){n.u(new Le(2,6,6010))})),r.return());Ka(n).catch((function(){})),x(r)}))},r.Gf=function(){var e=this,t=this.i.keys();return t=xa(t,(function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(t)},r.nd=function(){for(var e=1/0,t=this.i.keys(),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},r.$d=function(){return ka(this.fa)};var so=1,uo=5,lo=.5;function co(e,t,n){for(n=void 0===n||n,this.h=e,this.g=new Set([e]),t=(e=c(t=t||[])).next();!t.done;t=e.next())this.add(t.value,n)}function fo(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return Hr(e)})),t=t.codecs.split(",").map((function(e){return Hr(e)})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function po(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=c(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function ho(){}function go(){this.g=vo,this.i=(new Map).set(vo,2).set(mo,1),this.h=0}co.prototype.add=function(e,t){var n,r=this.h;if(t=void 0===t||t,!(n=!!r.audio!=!!e.audio||!!r.video!=!!e.video||r.language!=e.language)&&(n=r.audio&&e.audio)){n=r.audio;var i=e.audio;n=!(!((!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)&&n.channelsCount!=i.channelsCount||n.spatialAudio!==i.spatialAudio||t&&!fo(n,i))&&po(n.roles,i.roles)&&n.groupId===i.groupId)}return!n&&(n=r.video&&e.video)&&(r=r.video,n=e.video,n=!((!t||fo(r,n))&&po(r.roles,n.roles))),!n&&(this.g.add(e),!0)},co.prototype.values=function(){return this.g.values()},V("shaka.media.AdaptationSet",co),V("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"}),ho.prototype.create=function(){},ho.prototype.configure=function(){},V("shaka.media.AdaptationSetCriteria",ho);var mo=0,vo=1;function yo(e,t,n){this.g=e,this.i=t,this.h=n}function bo(e,t){return R((function(n){if(1==n.g)return S(n,bi(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||vi(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(Ri))throw new Le(2,4,4032);return n.return(So(e,t))}))}function wo(e,t){var n=e.g.restrictions;e=e.i;for(var r=!1,i=(t=c(t.variants)).next();!i.done;i=t.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=yi(i,n,e),a!=i.allowedByApplication&&(r=!0)}return r}function So(e,t){var n=wo(e,t);if(t){var r=e.h?e.h.h:null;if(r&&e.h.A){for(var i=new Set,a=c(t.variants),o=a.next();!o.done;o=a.next())(o=o.value).audio&&i.add(o.audio),o.video&&i.add(o.video);for(a=(i=c(i)).next();!a.done;a=i.next())xo(e,r.keySystem,a.value)}To(e,t)}return n}function xo(e,t,n){for(var r=(n=c(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t)for(var i=(r=c(r.initData||[])).next();!i.done;i=r.next())i=i.value,qa(e.h,i.initDataType,i.initData)}function To(e,t){e=e.h?e.h.$d():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var r=!1,i=!1,a=new Set,o=new Set,s=new Set,u=(t=c(t.variants)).next();!u.done;u=t.next())(u=u.value).audio&&s.add(u.audio),u.video&&s.add(u.video),u.allowedByApplication?u.allowedByKeySystem&&(r=!0):i=!0;for(t=(s=c(s)).next();!t.done;t=s.next())if((t=t.value).keyIds.size)for(u=(t=c(t.keyIds)).next();!u.done;u=t.next()){u=u.value;var l=e[n?"00":u];l?ko.includes(l)&&o.add(l):a.add(u)}if(!r)throw new Le(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}var ko=["output-restricted","internal-error"];function Ao(){}function Eo(e,t){Co.set(e,t)}function Io(e,t){if(t){var n=Co.get(t.toLowerCase());if(n)return n}throw new Le(2,4,4e3,e,t)}V("shaka.media.ManifestParser",Ao),Ao.unregisterParserByMime=function(e){Co.delete(e)},Ao.registerParserByMime=Eo,Ao.registerParserByExtension=function(){ie("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},Ao.AccessibilityPurpose={Nk:"visually impaired",dk:"hard of hearing"};var Co=new Map;function Mo(e,t){var n=null,r=null,i=null,a=null,o=e.S();return 1&t&&(i=e.Zc()),2&t&&(a=e.S()),8&t&&(n=e.S()),16&t&&(r=e.S()),{trackId:o,jd:n,kd:r,Vh:i,qh:a}}function Do(e,t){return 1==t?(t=e.S(),e=e.S(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.S()}}function Po(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.S(),e.skip(4),e=e.ma(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function Lo(e,t,n){var r=e.S(),i=[],a=null;1&n&&(a=e.$f()),4&n&&e.skip(4);for(var o=0;o<r;o++){var s={gg:null,sampleSize:null,ze:null};256&n&&(s.gg=e.S()),512&n&&(s.sampleSize=e.S()),1024&n&&e.skip(4),2048&n&&(s.ze=0==t?e.S():e.$f()),i.push(s)}return{Sk:r,fg:i,nf:a}}function Ro(e){e.skip(6),e.skip(2),e.skip(8);var t=e.ma();return e.skip(2),e.skip(2),e.skip(2),{channelCount:t,sampleRate:e=e.ma()+e.ma()/65536}}function No(e){return{codec:_a(e=e.S())}}function _o(e,t){return t=void 0!==t&&t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function jo(e){return(10>e?"0":"")+e}function Oo(e){if(!Yo){Yo=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);ss=Xo("ftyp",t,r,t,n),t=Xo("dref",us),ls=Xo("dinf",t)}this.g=e}function Uo(e){for(var t=[],n=c(e.g),r=n.next();!r.done;r=n.next()){var i=t,a=i.push,o=r.value;r=Xo;var s=o.id+1,u=o.stream.width||0,l=o.stream.height||0;"audio"==o.type&&(l=u=0);var f=o.duration*o.timescale,p=Math.floor(f/($o+1));switch(f=Math.floor(f%($o+1)),s=Xo("tkhd",s=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(d(Ko(s,4)),[0,0,0,0],d(Ko(p,4)),d(Ko(f,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],d(Ko(u,2)),[0,0],d(Ko(l,2)),[0,0]))),u=Xo,p=o.duration*o.timescale,l=Math.floor(p/($o+1)),p=Math.floor(p%($o+1)),f=(f=o.stream.language).charCodeAt(0)-96<<10|f.charCodeAt(1)-96<<5|f.charCodeAt(2)-96,l=Xo("mdhd",l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(d(Ko(o.timescale,4)),d(Ko(l,4)),d(Ko(p,4)),d(Ko(f,2)),[0,0]))),p=o,f=new Uint8Array([]),p.type){case"video":f=Jo;break;case"audio":f=Zo}p=Xo("hdlr",f);e:{switch(o.type){case"video":o=Xo("minf",Xo("vmhd",is),ls,Fo(o));break e;case"audio":o=Xo("minf",Xo("smhd",as),ls,Fo(o));break e}o=new Uint8Array([])}r=r("trak",s,o=u("mdia",l,p,o)),a.call(i,r)}for(t=Lt.apply(Et,d(t)),n=Xo,r=(a=e.g[0]).duration*a.timescale,i=Math.floor(r/($o+1)),r=Math.floor(r%($o+1)),i=Xo("mvhd",i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(d(Ko(a.timescale,4)),d(Ko(i,4)),d(Ko(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),r=[],u=(e=c(e.g)).next();!u.done;u=e.next())s=(o=r).push,u=Xo("trex",u=new Uint8Array([0,0,0,0].concat(d(Ko(u.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),s.call(o,u);if(e=Xo("mvex",e=Lt.apply(Et,d(r))),r=[],a.encrypted){for(o=(a=c(a.stream.drmInfos)).next();!o.done;o=a.next())if((o=o.value).initData)for(s=(o=c(o.initData)).next();!s.done;s=o.next())r.push(s.value.initData);a=Lt.apply(Et,d(r))}else a=new Uint8Array([]);return e=n("moov",i,t,e,a),(t=new Uint8Array(ss.byteLength+e.byteLength)).set(ss),t.set(e,ss.byteLength),t}function Fo(e){var t=Xo,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=Xe()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var r=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,r=e.stream.height||0,0<e.Ba.byteLength)var i=Xo("avcC",e.Ba);else{i=Xo;for(var a=7,o=[],s=[],u=0,l=0,c=0,f=0;f<e.jb.length;f++){var p=qo(e.jb[f]);switch(31&p[0]){case 7:o.push(p),a+=p.length+2;break;case 8:s.push(p),a+=p.length+2}}for(0<o.length&&(u=o[0][1],c=o[0][2],l=o[0][3]),f=0,(a=new Uint8Array(a))[f++]=1,a[f++]=u,a[f++]=c,a[f++]=l,a[f++]=255,a[f++]=224|o.length,u=0;u<o.length;u++)a[f++]=(65280&o[u].length)>>8,a[f++]=255&o[u].length,a.set(o[u],f),f+=o[u].length;for(a[f++]=s.length,o=0;o<s.length;o++)a[f++]=(65280&s[o].length)>>8,a[f++]=255&s[o].length,a.set(s[o],f),f+=s[o].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(d(Ko(n,2)),d(Ko(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=Bo(e),o=new Uint8Array([]),e.encrypted&&(o=Ho(0,e.stream,e.codecs),r="encv"),r=Xo(r,n,i,s,o)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.Ba.byteLength&&(n=Xo("hvcC",e.Ba)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(d(Ko(r,2)),d(Ko(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=Bo(e),o=new Uint8Array([]),e.encrypted&&(o=Ho(0,e.stream,e.codecs),i="encv"),r=Xo(i,r,n,s,o));break;case"audio":"mp3"==n?e=Xo(".mp3",Vo(e)):"ac-3"==n?(n=Xo("dac3",e.ra),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=Ho(0,e.stream,e.codecs),r="enca"),e=Xo(r,Vo(e),n,i)):"ec-3"==n?(n=Xo("dec3",e.ra),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=Ho(0,e.stream,e.codecs),r="enca"),e=Xo(r,Vo(e),n,i)):"opus"==n?(n=Xo("dOps",e.ra),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=Ho(0,e.stream,e.codecs),r="enca"),e=Xo(r,Vo(e),n,i)):(0<e.ra.byteLength?n=Xo("esds",e.ra):(n=Xo,r=e.id+1,i=e.stream.channelsCount||2,o=e.stream.audioSamplingRate||44100,u=jt("audio",e.codecs.split(",")),s=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[o],"mp4a.40.5"!==u&&"mp4a.40.29"!==u||(s=l[2*o]),o=parseInt(u.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(d(Ko(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,o<<3|s>>>1,s<<7|i<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=Ho(0,e.stream,e.codecs),r="enca"),e=Xo(r,Vo(e),n,i)),r=e}return t("stbl",e=Xo("stsd",os,r),Xo("stts",es),Xo("stsc",ts),Xo("stsz",rs),Xo("stco",ns))}function Bo(e){if(!e.Ha&&!e.Ja)return new Uint8Array([]);var t=e.Ja;return Xo("pasp",e=new Uint8Array([].concat(d(Ko(e.Ha,4)),d(Ko(t,4)))))}function Vo(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(d(Ko(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Ho(e,t,n){e=Xo,n=Xo("frma",n=new Uint8Array([].concat(d(Ko(Wo(n.split(".")[0]),4)))));var r="cenc",i=t.drmInfos[0];i&&i.encryptionScheme&&(r=i.encryptionScheme),r=Xo("schm",r=new Uint8Array([0,0,0,0].concat(d(Ko(Wo(r),4)),[0,1,0,0]))),i=Xo;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(t=c(t.drmInfos)).next();!o.done;o=t.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=c(o.keyIds)).next();!s.done;s=o.next())a=qo(s.value);return e("sinf",n,r,i("schi",t=Xo("tenc",t=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function zo(e){for(var t=[],n=(e=c(e.g)).next();!n.done;n=e.next()){n=n.value;var r,i=t.push,a=i.apply,o=Xo,s=new Uint8Array([0,0,0,0].concat(d(Ko(n.data?n.data.Db:0,4))));s=Xo("mfhd",s);var u=n.data?n.data.hb:[],l=new Uint8Array(4+u.length);for(r=0;r<u.length;r++){var f=u[r].flags;l[r+4]=f.Wa<<4|f.Ya<<2|f.Xa}var p=(u=Xo("sdtp",l)).length+92;l=Xo,r=Xo("tfhd",r=new Uint8Array([0,0,0,58].concat(d(Ko(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),f=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(f%($o+1));f=Xo("tfdt",f=new Uint8Array([1,0,0,0].concat(d(Ko(Math.floor(f/($o+1)),4)),d(Ko(h,4)))));var g=p,m=12+16*(h=(p=n.data?n.data.hb:[]).length),v=new Uint8Array(m);for(g+=8+m,v.set(["video"===n.type?1:0,0,15,1].concat(d(Ko(h,4)),d(Ko(g,4))),0),g=0;g<h;g++){var y=p[g];m=Ko(y.duration,4);var b=Ko(y.size,4),w=y.flags;y=Ko(y.bb,4),v.set([].concat(d(m),d(b),[w.fb<<2|w.Wa,w.Ya<<6|w.Xa<<4|w.gb,61440&w.Va,15&w.Va],d(y)),12+16*g)}o=o("moof",s,u=l("traf",r,f,p=Xo("trun",v),u)),a.call(i,t,[o,Go(n)])}return Lt.apply(Et,d(t))}function Go(e){return e=(e.data?e.data.hb:[]).map((function(e){return e.data})),Xo("mdat",e=Lt.apply(Et,d(e)))}function Ko(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function qo(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function Wo(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<8*(e.length-n-1);return t}function Xo(e){var t=N.apply(1,arguments),n=Qo.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Qo.set(e,n));for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var Yo=!1,$o=Math.pow(2,32)-1,Qo=new Map,Jo=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Zo=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),es=new Uint8Array([0,0,0,0,0,0,0,0]),ts=new Uint8Array([0,0,0,0,0,0,0,0]),ns=new Uint8Array([0,0,0,0,0,0,0,0]),rs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),is=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),as=new Uint8Array([0,0,0,0,0,0,0,0]),os=new Uint8Array([0,0,0,0,0,0,0,1]),ss=new Uint8Array([]),us=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ls=new Uint8Array([]);function cs(e){function t(e){o.push(e),Ma(e)}var n,r,i,a,o=[];if((new Ca).box("moof",t).box("traf",t).R("tfhd",(function(e){n=e,i=Mo(e.reader,e.flags)})).R("trun",(function(e){r=e,a=Lo(e.reader,e.version,e.flags)})).parse(e),i&&2!==i.qh){var s=n.start+ja(n)+4+(null!==i.Vh?8:0),u=De(e);if(null!==i.qh)u.setUint32(s,2);else{fs(e,n.start,n.size+4);var l=u.getUint32(n.start+8);u.setUint32(n.start+8,2|l),a&&null!==a.nf&&u.setInt32(r.start+ja(r)+4,a.nf+4),l=e.subarray(0,s),u=e.subarray(s),(e=new Uint8Array(e.byteLength+4)).set(l),l=[];for(var d=3;0<=d;d--)l.push(2>>8*d&255);for(e.set(new Uint8Array(l),s),e.set(u,s+4),u=(s=c(o)).next();!u.done;u=s.next())fs(e,(u=u.value).start,u.size+4)}}return e}function ds(e,t,n,r,i,a){var o=Ho(new Oo([]),e,r.name),s=t.subarray(r.start,r.start+r.size);for((e=new Uint8Array(r.size+o.byteLength)).set(s,0),De(e).setUint32(4,a),e.set(o,r.size),fs(e,0,e.byteLength),a=new Uint8Array(t.byteLength+e.byteLength),r=Ze()||qe()||Ke()?r.start:r.start+r.size,o=t.subarray(r),a.set(t.subarray(0,r)),a.set(e,r),a.set(o,r+e.byteLength),i=(t=c(i)).next();!i.done;i=t.next())fs(a,(i=i.value).start,i.size+e.byteLength);return e=De(a,n.start),n=ja(n),t=e.getUint32(n),e.setUint32(n,t+1),a}function fs(e,t,n){0!=(t=(e=De(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}function ps(e,t,n,r,i,a,o,s){this.N=e,this.startByte=t,this.endByte=n,this.Uc=void 0===r?null:r,this.timescale=void 0===i?null:i,this.h=void 0===a?null:a,this.aesKey=void 0===o?null:o,this.g=this.mimeType=this.codecs=null,this.encrypted=void 0!==s&&s}function hs(e,t){return e===t||(e&&t?e.cc()==t.cc()&&e.ac()==t.ac()&&fn(e.N().sort(),t.N().sort())&&Ee(e.Gb(),t.Gb()):e==t)}function gs(e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,m){for(l=void 0===l?[]:l,h=void 0===h?vs:h,this.startTime=e,this.j=this.endTime=t,this.C=n,this.startByte=r,this.endByte=i,this.Y=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=l,this.tilesLayout=void 0===d?"":d,this.B=void 0===f?null:f,this.h=void 0===p?null:p,this.status=h,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=void 0===g?null:g,this.thumbnailSprite=null,this.i=-1,this.A=void 0!==m&&m,this.F=this.o=!1,t=(e=c(this.g)).next();!t.done;t=e.next())t.value.eh();this.A&&this.g.length&&this.g[this.g.length-1].dh(),this.u=this.bandwidth=this.mimeType=this.codecs=null,this.G=!1}function ms(e,t){e.Y=t;for(var n=(e=c(e.g)).next();!n.done;n=e.next())ms(n.value,t)}ps.prototype.cc=function(){return this.startByte},ps.prototype.ac=function(){return this.endByte},ps.prototype.Jd=function(e){this.h=e},ps.prototype.Gb=function(){return this.h},V("shaka.media.InitSegmentReference",ps),ps.prototype.getEndByte=ps.prototype.ac,ps.prototype.getStartByte=ps.prototype.cc,(r=gs.prototype).N=function(){return this.C()},r.getStartTime=function(){return this.startTime},r.mi=function(){return this.endTime},r.cc=function(){return this.startByte},r.ac=function(){return this.endByte},r.Ji=function(){return this.tilesLayout},r.Ii=function(){return this.B},r.dc=function(){return this.status},r.aj=function(){this.status=ys},r.Sf=function(){this.preload=!0},r.isPreload=function(){return this.preload},r.Tc=function(){this.l=!1},r.Ti=function(){return this.l},r.eh=function(){this.o=!0},r.Vi=function(){return this.o},r.dh=function(){this.F=!0},r.Ui=function(){return this.F},r.bh=function(){this.m=!0},r.Pi=function(){return this.m},r.Ee=function(e){this.thumbnailSprite=e},r.Gi=function(){return this.thumbnailSprite},r.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=c(this.g),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.j+=e},r.qg=function(e){null==this.h?X("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},r.Jd=function(e,t){this.u=e,this.G=void 0!==t&&t},r.Gb=function(e){var t=this.u;return(void 0===e||e)&&this.G&&(this.u=null),t},V("shaka.media.SegmentReference",gs),gs.prototype.getSegmentData=gs.prototype.Gb,gs.prototype.setSegmentData=gs.prototype.Jd,gs.prototype.syncAgainst=gs.prototype.qg,gs.prototype.offset=gs.prototype.offset,gs.prototype.getThumbnailSprite=gs.prototype.Gi,gs.prototype.setThumbnailSprite=gs.prototype.Ee,gs.prototype.hasByterangeOptimization=gs.prototype.Pi,gs.prototype.markAsByterangeOptimization=gs.prototype.bh,gs.prototype.isLastPartial=gs.prototype.Ui,gs.prototype.markAsLastPartial=gs.prototype.dh,gs.prototype.isPartial=gs.prototype.Vi,gs.prototype.markAsPartial=gs.prototype.eh,gs.prototype.isIndependent=gs.prototype.Ti,gs.prototype.markAsNonIndependent=gs.prototype.Tc,gs.prototype.isPreload=gs.prototype.isPreload,gs.prototype.markAsPreload=gs.prototype.Sf,gs.prototype.markAsUnavailable=gs.prototype.aj,gs.prototype.getStatus=gs.prototype.dc,gs.prototype.getTileDuration=gs.prototype.Ii,gs.prototype.getTilesLayout=gs.prototype.Ji,gs.prototype.getEndByte=gs.prototype.ac,gs.prototype.getStartByte=gs.prototype.cc,gs.prototype.getEndTime=gs.prototype.mi,gs.prototype.getStartTime=gs.prototype.getStartTime,gs.prototype.getUris=gs.prototype.N;var vs=0,ys=1;function bs(e){return 1==e.length&&1e-4>e.end(0)-e.start(0)}function ws(e){return!e||bs(e)?null:e.length?e.end(e.length-1):null}function Ss(e,t){return!(!e||!e.length||bs(e)||t>e.end(e.length-1))&&t>=e.start(0)}function xs(e,t){if(!e||!e.length||bs(e))return 0;for(var n=0,r=(e=c(Ts(e))).next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function Ts(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function ks(){}function As(e,t){var n=document.createElement("source");return n.src=e,n.type=void 0===t?"":t,n}function Es(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Is(){}function Cs(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Ms(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Ds(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function Ps(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if("APIC"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=yt(Ce(e.data,1,n)),i=e.data[2+n],a=e.data.subarray(3+n).indexOf(0);if(-1===a)return null;var o,s=yt(Ce(e.data,3+n,a));return o="--\x3e"===r?yt(Ce(e.data,4+n+a)):Ie(e.data.subarray(4+n+a)),t.mimeType=r,t.pictureType=i,t.description=s,t.data=o,t}return"TXXX"===e.type||"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(r=e.data.subarray(1).indexOf(0))?null:(n=yt(Ce(e.data,1,r)),e=yt(Ce(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(n=e.data.indexOf(0))?null:(n=yt(Ce(e.data,0,n)),t.description=n,"com.apple.streaming.transportStreamTimestamp"==n?(n=e.data.subarray(n.length+1),e=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=47721858.84),t.data=n):(e=Ie(e.data.subarray(n.length+1)),t.data=e),t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(e=yt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=yt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Ie(e.data),t):null}function Ls(e){for(var t=0,n=[];Cs(e,t);){var r=Ds(e,t+6);for(e[t+5]>>6&1&&(t+=10),r=(t+=10)+r;t+10<r;){var i=e.subarray(t),a=Ds(i,4);(a=Ps(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),t+=i.size+10}Ms(e,t)&&(t+=10)}return n}function Rs(e,t){for(var n=t=void 0===t?0:t,r=0;Cs(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Ds(e,t+6),Ms(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}function Ns(e,t){if(this.j=e,void 0!==t&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&3==e[r]&&0==e[r-1]&&0==e[r-2]||(t[n]=e[r],n++);this.j=Ce(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function _s(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);0!==r&&(n.set(e.j.subarray(t,t+r)),e.h=new Aa(n,0).S(),e.g=8*r,e.i-=r)}function js(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,_s(e)}e.h<<=t,e.g-=t}function Os(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&_s(e),0<(n=t-n)?r<<n|Os(e,n):r}function Us(e){var t;for(t=0;t<e.g;++t)if(0!==(e.h&2147483648>>>t))return e.h<<=t,e.g-=t,t;return _s(e),t+Us(e)}function Fs(e){js(e,1+Us(e))}function Bs(e){return Os(e,Us(e)+1)-1}function Vs(e){return 1&(e=Bs(e))?1+e>>>1:-1*(e>>>1)}function Hs(e){return 1===Os(e,1)}function zs(e){return Os(e,8)}function Gs(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+(r=Vs(e))+256)%256),n=0===r?n:r}function Ks(e){return zs(e),Bs(e),Bs(e)}function qs(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.u=null}function Ws(e,t){if(1!==(t[0]<<16|t[1]<<8|t[2]))return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(192&r){var i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2;null==e.u&&(e.u=i),n.pts=Ys(i,e.u),e.u=n.pts,n.dts=n.pts,64&r&&(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,null==e.o&&(e.o=r),n.dts=Ys(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}function Xs(e){var t=e.uc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function Ys(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function $s(e){return!(0>Qs(e))}function Qs(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}gs.Status={Nj:vs,Lk:ys,lk:2},V("shaka.util.Dom",ks),ks.removeAllChildren=Es,V("shaka.util.Id3Utils",Is),Is.getID3Data=Rs,Is.getID3Frames=Ls,V("shaka.util.ExpGolomb",Ns),(r=qs.prototype).clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},r.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,Qs(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71==e[i]){var a=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s==i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=e[s]+1),this.G=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.G:a&&(s+=e[s]+1),o={audio:-1,video:-1,ee:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var l=(31&a[s+1])<<8|a[s+2],c=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(0<c)for(var d=s+5,f=c;2<f;){var p=a[d+1]+2;switch(a[d]){case 5:var h=Tt(a.subarray(d+2,d+p));-1==o.audio&&"Opus"===h?(o.audio=l,o.audioCodec="opus"):-1==o.video&&"AV01"===h&&(o.video=l,o.videoCodec="av1");break;case 106:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 122:-1==o.audio&&(o.audio=l,o.audioCodec="ec3");break;case 124:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 127:"opus"==o.audioCodec&&(h=null,128===a[d+2]&&(h=a[d+3]),null!=h&&(this.F={channelCount:0===(15&h)?2:15&h,Yh:h,sampleRate:48e3}))}d+=p,f-=p}break;case 15:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 17:-1==o.audio&&(o.audio=l,o.audioCodec="aac-loas");break;case 21:-1==o.ee&&(o.ee=l);break;case 27:-1==o.video&&(o.video=l,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=l,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=l,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=l,o.audioCodec="ec3")}s+=c+5}-1!=(a=o).video&&(this.I=a.video,this.m=a.videoCodec),-1!=a.audio&&(this.B=a.audio,this.A=a.audioCodec),-1!=a.ee&&(this.C=a.ee),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:s=e.subarray(s,i+188),a?this.j.push([s]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(s);break;case this.B:s=e.subarray(s,i+188),a?this.i.push([s]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(s);break;case this.C:s=e.subarray(s,i+188),a?this.l.push([s]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(s);break;default:r=!0}}return this},r.hj=function(e){return ie("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Xf(e,{Bd:null,state:null})},r.Xf=function(e,t){var n=e.pts?e.pts/9e4:null,r=(e=e.data).byteLength,i=1;"hvc"==this.m&&(i=2);var a=t.state||0,o=a,s=0,u=[],l=-1,c=0;for(-1==a&&(l=0,c="hvc"==this.m?e[0]>>1&63:31&e[0],a=0,s=1);s<r;){var d=e[s++];a?1===a?a=d?0:2:d?1==d?(d=s-a-1,0<=l?u.push({data:e.subarray(l+i,d),fullData:e.subarray(l,d),type:c,time:n,state:null}):(a=u.length?u[u.length-1]:t.Bd)&&(o&&s<=4-o&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-o),a.fullData=a.fullData.subarray(0,a.fullData.byteLength-o)),0<d&&(d=e.subarray(0,d),a.data=Lt(a.data,d),a.fullData=Lt(a.fullData,d),a.state=0)),s<r?(c="hvc"==this.m?e[s]>>1&63:31&e[s],l=s,a=0):a=-1):a=0:a=3:a=d?0:1}return 0<=l&&0<=a&&u.push({data:e.subarray(l+i,r),fullData:e.subarray(l,r),type:c,time:n,state:a}),!u.length&&t.Bd&&(n=u.length?u[u.length-1]:t.Bd)&&(n.data=Lt(n.data,e),n.fullData=Lt(n.fullData,e)),t.state=a,u},r.getMetadata=function(){for(var e=[],t=c(this.l),n=t.next();!n.done;n=t.next())(n=Ws(this,n=Lt.apply(Et,d(n.value))))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ls(n.data),dts:n.dts,pts:n.pts});return e},r.cb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=c(this.i),n=t.next();!n.done;n=t.next()){var r=Lt.apply(Et,d(n.value)),i=Ws(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&null!=i.pts&&null!=i.dts&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&((n=this.h.pop()).data=Lt(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return this.h},r.uc=function(e){if(e=void 0===e||e,this.j.length&&!this.g.length){for(var t=!1,n=c(this.j),r=n.next();!r.done;r=n.next()){var i=Lt.apply(Et,d(r.value)),a=Ws(this,i);r=this.g.length?this.g[this.g.length-1]:null,a&&null!=a.pts&&null!=a.dts&&(!r||r.pts!=a.pts&&r.dts!=a.dts)?(this.g.length&&a.dts<(r.dts||0)&&(t=!0),this.g.push(a)):this.g.length&&(i=a?a.data:i)&&((r=this.g.pop()).data=Lt(r.data,i),this.g.push(r))}if(e){for(n={Bd:null,state:null},r=[],a=(i=c(this.g)).next();!a.done;a=i.next())(a=a.value).nalus=this.Xf(a,n),a.nalus.length&&(r.push(a),n.Bd=a.nalus[a.nalus.length-1]);this.g=r}t&&(this.g=this.g.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return e?this.g:(e=this.g,this.g=[],e)},r.getStartTime=function(e){if("audio"==e){e=null;var t=this.cb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return"video"==e?(e=null,(t=this.uc(!1)).length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},r.md=function(){return{audio:this.A,video:this.m}},r.de=function(){for(var e=[],t=c(this.uc()),n=t.next();!n.done;n=t.next())e.push.apply(e,d(n.value.nalus));return e},r.Mi=function(){ie("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Kf();return{height:e.height,width:e.width}},r.Kf=function(){return"hvc"==this.m?function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.de();if(!n.length)return t;if(!(n=n.find((function(e){return 33==e.type}))))return t;var r=new Ns(n.fullData,!0);zs(r),zs(r),Os(r,4);var i=Os(r,3);Hs(r);var a=Os(r,2),o=Os(r,1),s=Os(r,5),u=Os(r,32);n=zs(r);for(var l=zs(r),c=zs(r),d=zs(r),f=zs(r),p=zs(r),h=zs(r),g=[],m=[],v=0;v<i;v++)g.push(Hs(r)),m.push(Hs(r));if(0<i)for(v=i;8>v;v++)Os(r,2);for(v=0;v<i;v++)g[v]&&Os(r,88),m[v]&&zs(r);Bs(r),3==(i=Bs(r))&&Os(r,1),g=Bs(r),m=Bs(r);var y=v=0,b=0,w=0;return Hs(r)&&(v+=Bs(r),y+=Bs(r),b+=Bs(r),w+=Bs(r)),t.width=String(g-(v+y)*(1===i||2===i?2:1)),t.height=String(m-(b+w)*(1===i?2:1)),r=function(e){for(var t=0,n=0;32>n;n++)t|=(e>>n&1)<<31-n;return t>>>0}(u),o=1==o?"H":"L",a="hvc1."+["","A","B","C"][a]+s,a+="."+r.toString(16).toUpperCase(),a+="."+o+h,p&&(a+="."+p.toString(16).toUpperCase()),f&&(a+="."+f.toString(16).toUpperCase()),d&&(a+="."+d.toString(16).toUpperCase()),c&&(a+="."+c.toString(16).toUpperCase()),l&&(a+="."+l.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),t.codec=a,t.frameRate=Xs(e),t}(this):function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.de();if(!n.length)return t;if(!(n=n.find((function(e){return 7==e.type}))))return t;var r=zs(n=new Ns(n.data)),i=zs(n),a=zs(n);if(Fs(n),Js.includes(r)){var o=Bs(n);if(3===o&&js(n,1),Fs(n),Fs(n),js(n,1),Hs(n)){o=3!==o?8:12;for(var s=0;s<o;s++)Hs(n)&&Gs(n,6>s?16:64)}}if(Fs(n),0===(o=Bs(n)))Bs(n);else if(1===o)for(js(n,1),Fs(n),Fs(n),o=Bs(n),s=0;s<o;s++)Fs(n);Fs(n),js(n,1),o=Bs(n),s=Bs(n);var u=Os(n,1);0===u&&js(n,1),js(n,1);var l=0,c=0,d=0,f=0;return Hs(n)&&(l=Bs(n),c=Bs(n),d=Bs(n),f=Bs(n)),t.height=String((2-u)*(s+1)*16-2*d-2*f),t.width=String(16*(o+1)-2*l-2*c),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),t.frameRate=Xs(e),t}(this)},V("shaka.util.TsParser",qs),qs.syncOffset=Qs,qs.probe=$s,qs.prototype.getVideoInfo=qs.prototype.Kf,qs.prototype.getVideoResolution=qs.prototype.Mi,qs.prototype.getVideoNalus=qs.prototype.de,qs.prototype.getCodecs=qs.prototype.md,qs.prototype.getStartTime=qs.prototype.getStartTime,qs.prototype.getVideoData=qs.prototype.uc,qs.prototype.getAudioData=qs.prototype.cb,qs.prototype.getMetadata=qs.prototype.getMetadata,qs.prototype.parseNalus=qs.prototype.Xf,qs.prototype.parseAvcNalus=qs.prototype.hj,qs.prototype.parse=qs.prototype.parse,qs.prototype.clearData=qs.prototype.clearData,qs.Timescale=9e4;var Js=[100,110,122,244,44,83,86,118,128,138,139,134];function Zs(e,t,n,r){var i=this;this.g=e,this.L=n,this.A=null,this.ea=t,this.l=new Map,this.B=new Map,this.za=new Map,this.h=null,this.Da=!1,this.K=r||null,this.o=new Map,this.u=new ee,this.j=new Map,this.O=null,this.I=new $i,this.Fa="",this.Ma=!1,this.sa=!0,this.M=!1,this.C=this.P=null,this.i=eu(this,this.I),this.ya=this.G=!1,this.H=new wa((function(){return function(e){var t,n,r,i,a,o,s,u,l,d,f,p,h;return R((function(g){if(1==g.g){for(t=[],n=c(e.o),r=n.next();!r.done;r=n.next())for(i=r.value,a=c(i),o=a.next().value,s=a.next().value,u=s[0],l=o,e.o.set(l,s.slice(0,1)),u&&t.push(u.p.catch(ri)),d=c(s.slice(1)),f=d.next();!f.done;f=d.next())f.value.p.reject(new Le(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),S(g,Promise.all(t),2)}for(p=c(e.j.values()),h=p.next();!h.done;h=p.next())h.value.destroy();e.u&&(e.u.release(),e.u=null),e.g&&e.C&&e.g.removeChild(e.C),e.g&&e.P&&(e.g.removeChild(e.P),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.P=null,e.C=null,e.A=null,e.i=null,e.h=null,e.ea=null,e.l.clear(),e.za.clear(),e.j.clear(),e.O=null,e.o.clear(),e.K=null,e.$.clear(),e.L=null,x(g)}))}(i)})),this.F=!1,this.T="UNKNOWN",this.Ka=this.La=!1,this.Ea=new $i,this.m=!1,this.oa=null,this.$=new Map,this.ka=this.W=this.na=this.Z=null,this.fa=new $i,this.g.remote&&(this.M="disconnected"!=this.g.remote.state,this.u.D(this.g.remote,"connect",(function(){i.M="disconnected"!=i.g.remote.state})),this.u.D(this.g.remote,"connecting",(function(){i.M="disconnected"!=i.g.remote.state})),this.u.D(this.g.remote,"disconnect",(function(){i.M="disconnected"!=i.g.remote.state})))}function eu(t,n){if(t.sa=!0,e.ManagedMediaSource){t.C||(t.g.disableRemotePlayback=!0);var r=new ManagedMediaSource;t.u.D(r,"startstreaming",(function(){t.sa=!0})),t.u.D(r,"endstreaming",(function(){t.sa=!1}))}else r=new MediaSource;return t.u.qa(r,"sourceopen",(function(){URL.revokeObjectURL(t.Fa),n.resolve()})),t.u.qa(t.g,"playing",(function(){t.Ma=!0})),t.Fa=Tu(r),t.g.removeAttribute("src"),t.P&&t.g.removeChild(t.P),t.C&&t.g.removeChild(t.C),t.P=As(t.Fa),t.g.appendChild(t.P),t.C&&t.g.appendChild(t.C),t.g.load(),r}function tu(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m;return R((function(v){switch(v.g){case 1:return i=Bt,a=H,o=z,S(v,function(e,t){var n,r,i,a,o,s,u,l,d,f;return R((function(p){if(1==p.g)return e.createSegmentIndex?S(p,e.createSegmentIndex(),2):p.s(2);if(!e.segmentIndex)return p.return(!1);if(0==e.segmentIndex.getNumReferences())return p.return(!0);for(n=Bt,r=new Set,i=c(e.segmentIndex),a=i.next();!a.done;a=i.next())if(o=a.value,s=o.mimeType||e.mimeType||"",u=o.codecs||e.codecs||"",(s!=e.mimeType||u!=e.codecs)&&(l=s+":"+u,!r.has(l)))if(r.add(l),t==n.va){if(!Jr(jr(s,u)))return p.return(!1)}else if(t==n.la?u=Ei(u):t==n.V&&(u=Ai(u,s)),d=Fr(e,s,u),f=Or(s,u),!Wt(d)&&!Mr(f))return p.return(!1);return p.return(!0)}))}(n,t),2);case 2:if(o.call(a,v.h,"Type negotiation should happen before MediaSourceEngine.init!"),t==i.V&&r&&(r=Ai(r,n.mimeType)),s=jr(n.mimeType,r),t==i.va){ru(e,s,e.F,n.external),v.s(0);break}if(u=e.A.forceTransmux,(!Wt(s)||!e.F&&Xr.includes(s))&&(u=!0),l=Or(n.mimeType,r),!u){v.s(4);break}if(d=Ot(i.V,(r||"").split(",")),f=Ot(i.la,(r||"").split(",")),!d||!f){v.s(5);break}return e.m=!0,S(v,tu(e,i.V,n,d),6);case 6:return S(v,tu(e,i.la,n,f),7);case 7:return v.return();case 5:(p=Mr(l))&&(h=p(),e.j.set(t,h),s=h.convertCodecs(t,l));case 4:g=s+e.A.addExtraFeaturesToSourceBuffer(s),Sa(e.H);try{m=e.i.addSourceBuffer(g)}catch(y){throw new Le(2,3,3015,y,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.F&&(m.mode=ku),e.u.D(m,"error",(function(){var n=e.o.get(t)[0];n.p.reject(new Le(2,3,3014,e.g.error?e.g.error.code:0,n.uri))})),e.u.D(m,"updateend",(function(){return mu(e,t)})),e.l.set(t,m),e.B.set(t,s),e.za.set(t,!!n.drmInfos.length),x(v)}}))}function nu(e){return e.sa&&!e.M&&!e.G}function ru(e,t,n,r){e.h||(e.h=new Yr(e.ea),e.h&&(e.h.A=e.A.modifyCueCallback));var i=e.h;r=r||e.Da,e=e.T,"application/cea-608"==t||"application/cea-708"==t?i.i=null:(i.i=ti.get(t)(),i.i.setSequenceMode?i.i.setSequenceMode(n):ie("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):ie("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function iu(e){return!e.G&&(!e.i||"ended"==e.i.readyState)}function au(e){return!e.G&&(!e.i||"closed"==e.i.readyState)}function ou(e,t){return e.l.size?t==Ft?e=e.h.g:e=!(e=uu(e,t))||bs(e)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null:e=null,e}function su(e,t){return e.l.size?t==Ft?e.h.h:ws(uu(e,t)):null}function uu(e,t){if(e.G||e.M)return null;try{return e.l.get(t).buffered}catch(n){return e.l.has(t),null}}function lu(e,t,n,r,i,a,o,s,u,l){var f,p,h,g,m,v,y,b,w,T,k,A,E,I,C,M;return o=void 0!==o&&o,s=void 0!==s&&s,u=void 0!==u&&u,l=void 0!==l&&l,R((function(D){switch(D.g){case 1:if(t!=(f=Bt).va){D.s(2);break}if("HLS"!=e.T){D.s(3);break}return S(D,e.Ea,4);case 4:p=D.h,e.h.u=p;case 3:return S(D,function(e,t,n,r,i){var a,o,s,u,l,d,f;return R((function(p){if(1==p.g)return S(p,Promise.resolve(),2);if(!e.i||!e.j)return p.return();if(null==n||null==r)return e.i.parseInit(Ce(t)),p.return();for(a=e.B?n:e.u,o={periodStart:e.u,segmentStart:n,segmentEnd:r,vttOffset:a},s=e.i.parseMedia(Ce(t),o,i,[]),u=c(s),l=u.next();!l.done;l=u.next())d=l.value,e.A(d,i||null,o);f=s.filter((function(t){return t.startTime>=e.l&&t.startTime<e.m})),e.j.append(f),null==e.g&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),x(p)}))}(e.h,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return D.return();case 2:if(l||!e.m){D.s(6);break}return S(D,lu(e,f.V,n,r,i,a,o,s,u,!0),7);case 7:return S(D,lu(e,f.la,n,r,i,a,o,s,u,!0),8);case 8:return D.return();case 6:if(!e.l.has(t))return D.return();if(h=e.l.get(t).timestampOffset,g=e.B.get(t),e.j.has(t)&&(g=e.j.get(t).getOriginalMimeType()),r&&(m=function(e,t,n,r,i,a){var o=null,s=[],u=Ce(n);if(Xr.includes(a))(t=Ls(u)).length&&r&&((n=t.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=Math.round(n.data)/1e3),e.L.onMetadata([{cueTime:r.startTime,data:u,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(a.includes("/mp4")&&r&&r.Y&&r.Y.timescale){var l=r.Y.timescale;if(!isNaN(l)){var c=null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes,d=0,f=!1;u=new Ca,c&&u.R("emsg",(function(t){var n=i.emsgSchemeIdUris;if(0===t.version)var a=t.reader.Ac(),o=t.reader.Ac(),s=t.reader.S(),u=t.reader.S(),l=t.reader.S(),c=t.reader.S(),d=r.startTime+u/s;else s=t.reader.S(),u=(d=t.reader.Zc()/s+r.timestampOffset)-r.startTime,l=t.reader.S(),c=t.reader.S(),a=t.reader.Ac(),o=t.reader.Ac();t=t.reader.Cb(t.reader.getLength()-t.reader.Aa()),(n&&n.includes(a)||e.A.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.L.gj():(s={startTime:d,endTime:n=d+l/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:l,id:c,messageData:t},new ra("emsg",c=(new Map).set("detail",s)).cancelable=!0,e.L.ej(s),("https://aomedia.org/emsg/ID3"==a||"https://developer.apple.com/streaming/emsg-id3"==a)&&(a=Ls(t)).length&&e.L.onMetadata([{cueTime:d,data:t,frames:a,dts:d,pts:d}],0,n)))})),u.R("prft",(function(t){var n=t.reader,r=t.version;n.S(),t=1e3*(t=n.S())+n.S()/Math.pow(2,32)*1e3,0===r?n=n.S():(r=n.S(),n=n.S(),n=r*Math.pow(2,32)+n),t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+t).getTime(),n=new ra("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/l*1e3)})),e.L.onEvent(n)})).box("moof",Ma).box("traf",Ma).R("tfdt",(function(e){f||(d=Do(e.reader,e.version).baseMediaDecodeTime/l,f=!0,c||e.parser.stop())})).parse(n,!0),f&&0==r.timestampOffset&&(o=d)}}else a.includes("/mp4")||a.includes("/webm")||!$s(u)||(e.$.has(t)?e.$.get(t).clearData():e.$.set(t,new qs),null!=(u=(s=e.$.get(t).parse(u)).getStartTime(t))&&(o=u),s=s.getMetadata());return{timestamp:o,metadata:s}}(e,t,n,r,i,g),v=m.timestamp,y=m.metadata,null!=v&&(null==e.Z&&t==f.la&&(e.Z=v,e.na=r.startTime,null!=e.W&&(b=0,e.na==e.ka&&(b=e.Z-e.W),e.fa.resolve(b))),null==e.W&&t==f.V&&(e.W=v,e.ka=r.startTime,null!=e.Z&&(w=0,e.na==e.ka&&(w=e.Z-e.W),e.fa.resolve(w))),T=v,k=Xr,!e.F&&k.includes(e.B.get(t))&&(T=0),A=r.startTime-T,(.001<=Math.abs(h-A)||o||s)&&(!u||0<A||!h)&&(h=A,e.Ka&&(vu(e,t,(function(){return hu(e,t)}),null),vu(e,t,(function(){return gu(e,t,h)}),null))),(t==f.la||!e.l.has(f.la))&&e.Ea.resolve(h)),y.length)&&e.L.onMetadata(y,h,r?r.endTime:null),a&&t==f.la&&(e.h||ru(e,"application/cea-608",e.F,!1),e.O||(E=g.split(";",1)[0],e.O=new en(E)),r?(I=e.O.i(n)).length&&function(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,u=u.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),ei(e,u,i),u.startTime>=e.l&&u.startTime<e.m&&(o.get(s).get(a).push(u),s==e.C&&e.j.append([u]))}for(a=(i=c(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.o.get(a).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}(e.h,I,r.startTime,r.endTime,h):e.O.init(n,s)),!e.j.has(t)){D.s(9);break}return S(D,e.j.get(t).transmux(n,i,r,e.i.duration,t),10);case 10:n=D.h;case 9:if(n=function(e,t,n,r,i){if("mp4"!=Br(e.B.get(i)))return n;var a=null===r,o=e.za.get(i),s=e.L.si(),u=!1;r&&r.Y&&(u=r.Y.encrypted),r=r?r.N()[0]:null,e.A.correctEc3Enca&&a&&"audio"===i&&(n=function(e){e=Ce(e);var t=null;return(new Ca).box("moov",Ma).box("trak",Ma).box("mdia",Ma).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("enca",(function(e){return t=e.reader.h,La(e)})).box("sinf",Ma).box("frma",(function(e){e.parser.stop(),"ec-3"===No(e.reader).codec&&t&&2!==t.getUint16(16)&&t.setUint16(16,2)})).parse(e),e}(n)),(e=e.A.insertFakeEncryptionInInit&&o)&&(s=Oe(s),e=Ze()&&"audio"===i||We()||qe()||lt("SOPOpenBrowser")||Ke()&&at()&&s);e&&(a?n=function(e,t,n){function r(e){f.push({box:e,gh:1701733217})}function i(e){f.push({box:e,gh:1701733238})}function a(e){l=!0,e.parser.stop()}function o(e){d.push(e),Ma(e)}var s,u=t=Ce(t),l=!1,d=[],f=[];if((new Ca).box("moov",o).box("trak",o).box("mdia",o).box("minf",o).box("stbl",o).R("stsd",(function(e){s=e,d.push(e),Da(e)})).R("encv",a).R("enca",a).R("dvav",i).R("dva1",i).R("dvh1",i).R("dvhe",i).R("dvc1",i).R("dvi1",i).R("hev1",i).R("hvc1",i).R("avc1",i).R("avc3",i).R("ac-3",r).R("ec-3",r).R("ac-4",r).R("Opus",r).R("fLaC",r).R("mp4a",r).parse(t),l)return t;if(0==f.length||!s)throw Pt(t),new Le(2,3,3019,n);f.reverse();for(var p=(n=c(f)).next();!p.done;p=n.next())p=p.value,u=ds(e,u,s,p.box,d,p.gh);return Ke()&&at()&&!qe()?((e=new Uint8Array(t.byteLength+u.byteLength)).set(u),e.set(t,u.byteLength),e):u}(t,n,r):((t=!u)&&(t=Ze()&&"audio"===i),t&&(n=function(e){e=Ce(e);var t=[];(new Ca).box("mdat",(function(e){t.push(e)})).parse(e);for(var n=[],r=0;r<t.length;r++){var i=t[r-1],a=t[r];n.push(cs(e.subarray(i?i.start+i.size:0,a.start+a.size)))}return Lt.apply(Et,d(n))}(n))));return a&&Xe()&&(n=function(e){function t(e){r.push({start:e.start,size:e.size}),Ma(e)}var n=Ce(e),r=[];return(new Ca).box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",(function(e){r.push({start:e.start,size:e.size});for(var t=De(n,e.start),i=0;i<e.size-3;i++){var a=t.getUint32(i);1633889587==a?t.setUint32(i,1700998451):1684103987==a&&t.setUint32(i,1684366131)}})).parse(n),n}(n)),n}(e,i,n,r,t),!r||!e.F||t==f.va){D.s(11);break}if(!o&&!s){D.s(11);break}if(C=r.startTime,"HLS"!=e.T||e.m||t!=f.V||!e.l.has(f.la)){D.s(13);break}return S(D,e.fa,14);case 14:M=D.h,.15<Math.abs(M)&&(C-=M);case 13:vu(e,t,(function(){return hu(e,t)}),null),vu(e,t,(function(){return gu(e,t,C)}),null);case 11:return S(D,vu(e,t,(function(){var r=n;e.K&&Gt(e.K,r,h,i),e.l.get(t).appendBuffer(r)}),r?r.N()[0]:null),15);case 15:x(D)}}))}function cu(e,t){var n;return R((function(r){return 1==r.g?t==(n=Bt).va?e.h?S(r,e.h.remove(0,1/0),0):r.return():S(r,vu(e,t,(function(){return pu(e,t,0,e.i.duration)}),null),4):e.m?S(r,vu(e,n.V,(function(){return pu(e,n.V,0,e.i.duration)}),null),0):r.s(0)}))}function du(e,t,n,r,i,a,o,s,u){var l,c;return R((function(d){return 1==d.g?t==(l=Bt).va?(a||(e.h.u=n),function(e,t,n){e.l=t,e.m=n}(e.h,r,i),d.return()):(c=[],S(d,function(e,t,n,r,i){var a,o,s,u,l,c,d,f,p,h,g,m,v,y;return R((function(b){return 1==b.g?t==(a=Bt).va?b.return(!1):(o=Vr(Gr(e.B.get(t))),s=zr(e.B.get(t)),u=xu(e,t,n,r),l=u.ug,c=u.Fj,d=u.Eg,f=u.codec,p=u.mimeType,h=!0,c&&e.B.has(a.V)&&(g=xu(e,a.V,n,r),m=Vr(Gr(e.B.get(a.V))),v=zr(e.B.get(a.V)),h=m==g.codec&&v==g.Eg,g.ug&&g.ug.destroy()),o===f&&s===d&&h?(e.j.has(t)&&!l?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&l?e.j.set(t,l):l&&(e.j.has(t)&&e.j.get(t).transmux!=l.transmux?(e.j.get(t).destroy(),e.j.delete(t),e.j.set(t,l)):l.destroy()),b.return(!1)):(y=!0,(e.m||c&&l&&!e.j.has(t))&&(y=!1),y&&"smooth"===e.A.codecSwitchingStrategy&&Xt()?S(b,function(e,t,n,r){return vu(e,t,(function(){if(t!==Ft){if(e.B.get(t),Xt()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),r&&e.j.set(t,r);var i=n+e.A.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(i),e.B.set(t,n)}mu(e,t)}}),null)}(e,t,p,l),3):(l&&l.destroy(),S(b,Su(e,i),3)))):b.return(!0)}))}(e,t,o,s,u),2)):(d.h||(c.push(vu(e,t,(function(){return hu(e,t)}),null)),e.m&&c.push(vu(e,l.V,(function(){return hu(e,l.V)}),null))),a||(c.push(vu(e,t,(function(){return gu(e,t,n)}),null)),e.m&&c.push(vu(e,l.V,(function(){return gu(e,l.V,n)}),null))),0==r&&1/0==i||(c.push(vu(e,t,(function(){var n=e.l.get(t);n.appendWindowStart=0,n.appendWindowEnd=i,n.appendWindowStart=r,mu(e,t)}),null)),e.m&&c.push(vu(e,l.V,(function(){var t=l.V,n=e.l.get(t);n.appendWindowStart=0,n.appendWindowEnd=i,n.appendWindowStart=r,mu(e,t)}),null))),c.length?S(d,Promise.all(c),0):d.s(0))}))}function fu(e){R((function(t){return e.H.g||e.g.error||e.M||e.G||iu(e)||au(e)?t.return():S(t,yu(e,(function(){iu(e)||au(e)||e.i.clearLiveSeekableRange()})),0)}))}function pu(e,t,n,r){r<=n?mu(e,t):e.l.get(t).remove(n,r)}function hu(e,t){var n=e.l.get(t),r=n.appendWindowStart,i=n.appendWindowEnd;n.abort(),n.appendWindowStart=r,n.appendWindowEnd=i,mu(e,t)}function gu(e,t,n){0>n&&(n+=.001);var r=!0;"HLS"==e.T&&(r=!(r=su(e,t))||.15<Math.abs(r-n)),r&&(e.l.get(t).timestampOffset=n),mu(e,t)}function mu(e,t){if(e.G||e.H.g){var n=e.o.get(t);n&&n.length&&((n=n[0])&&n.p&&n.p.resolve(),e.o.set(t,[]))}else(n=e.o.get(t)[0])&&(n.p.resolve(),bu(e,t))}function vu(e,t,n,r){return Sa(e.H),n={start:n,p:new $i,uri:r},e.o.get(t).push(n),1==e.o.get(t).length&&wu(e,t),n.p}function yu(e,t){var n,r,i,a,o,s,u,l,d,f,p;return R((function(h){switch(h.g){case 1:for(Sa(e.H),n=[],r=Array.from(e.l.keys()),i=c(r),a=i.next(),o={};!a.done;o={ready:void 0},a=i.next())s=a.value,o.ready=new $i,u={start:function(e){return function(){return e.ready.resolve()}}(o),p:o.ready,uri:null},(l=e.o.get(s)).push(u),n.push(o.ready),1==l.length&&u.start();return T(h,2),S(h,Promise.all(n),4);case 4:A(h,3);break;case 2:throw E(h);case 3:return T(h,5,6),S(h,t(),6);case 6:for(I(h),d=c(r),f=d.next();!f.done;f=d.next())p=f.value,bu(e,p);C(h,0);break;case 5:throw new Le(2,3,3015,E(h),e.g.error||"No error in the media element",null)}}))}function bu(e,t){e.o.get(t).shift(),wu(e,t)}function wu(e,t){var n=e.o.get(t)[0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Le(2,3,3017,t)):nu(e)?n.p.reject(new Le(2,3,3015,r,e.g.error||"No error in the media element",n.uri)):n.p.reject(new Le(2,3,3024,t)),bu(e,t)}}function Su(e,t){return yu(e,(function(){return function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x;return R((function(T){switch(T.g){case 1:if(e.G)return T.return();for(n=Bt,e.G=!0,e.m=!1,r=e.g.currentTime,i=e.g.autoplay,e.g.paused||(e.ya=!0),e.Ma&&(e.g.autoplay=!1),k(T,2),e.u.Pa(),a=c(e.j.values()),o=a.next();!o.done;o=a.next())o.value.destroy();for(s=c(e.l.values()),u=s.next();!u.done;u=s.next()){l=u.value;try{e.i.removeSourceBuffer(l)}catch(A){}}return e.j.clear(),e.l.clear(),d=e.i.duration,e.I=new $i,e.i=eu(e,e.I),S(T,e.I,4);case 4:!isNaN(d)&&d?e.i.duration=d:!isNaN(e.oa)&&e.oa&&(e.i.duration=e.oa),f=new $i,p=e.i.sourceBuffers,h=t.size,g=0,m=function(){++g===h&&(f.resolve(),e.u.Ia(p,"addsourcebuffer",m))},e.u.D(p,"addsourcebuffer",m),v=c(t.keys()),y=v.next();case 5:return y.done?((x=t.get(n.V))&&x.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.o.has(n.V)&&e.o.set(n.V,[]),e.g.currentTime=r,S(T,f,2)):(b=y.value,w=t.get(b),S(T,tu(e,b,w,w.codecs),6));case 6:y=v.next(),T.s(5);break;case 2:I(T),e.G=!1,Sa(e.H),e.u.qa(e.g,"canplaythrough",(function(){e.H.g||(e.g.autoplay=i,e.ya&&(e.ya=!1,e.g.play()))})),C(T,0)}}))}(e,t)}))}function xu(e,t,n,r){var i=!1,a=Ot("audio",(r||"").split(",")),o=Ot("video",(r||"").split(",")),s=o;"audio"==t&&(s=a),s||(s=r),r=jr(n,s);var u=e.A.forceTransmux;if((!Wt(r)||!e.F&&Xr.includes(r))&&(u=!0),u&&(n=Mr(e=Or(n,s)))){var l=n();a&&o&&(i=!0),r=l.convertCodecs(t,e)}return t=Vr(Gr(r)),{ug:l,Fj:i,Eg:zr(r),codec:t,mimeType:r}}(r=Zs.prototype).destroy=function(){return this.H.destroy()},r.init=function(e,t,n,r){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,a,o,s,u,l,d=this;return R((function(f){switch(f.g){case 1:return i=Bt,S(f,d.I,2);case 2:if(!iu(d)&&!au(d)){f.s(3);break}return X("Expected MediaSource to be open during init(); reopening the media source."),d.I=new $i,d.i=eu(d,d.I),S(f,d.I,3);case 3:d.F=t,d.T=n,d.La=r,d.Ka=!d.F&&"HLS"==d.T&&!d.La,d.$.clear(),d.Z=null,d.na=null,d.W=null,d.ka=null,d.fa=new $i,a=c(e.keys()),o=a.next();case 5:if(o.done){f.s(7);break}return s=o.value,u=e.get(s),S(f,tu(d,s,u,u.codecs),8);case 8:d.m?(d.o.set(i.V,[]),d.o.set(i.la,[])):d.o.set(s,[]),o=a.next(),f.s(5);break;case 7:(l=e.get(i.V))&&l.isAudioMuxedInVideo&&(d.m=!0),x(f)}}))},r.configure=function(e){this.A=e,this.h&&(this.h.A=e.modifyCueCallback)},r.wb=function(){var e={total:this.G?[]:Ts(this.g.buffered),audio:Ts(uu(this,"audio")),video:Ts(uu(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n){var r,i=this;return R((function(a){return 1==a.g?e==(r=Bt).va?S(a,i.h.remove(t,n),0):n>t?S(a,vu(i,e,(function(){return pu(i,e,t,n)}),null),5):a.s(0):i.m?S(a,vu(i,r.V,(function(){return pu(i,r.V,t,n)}),null),0):a.s(0)}))},r.flush=function(e){var t,n=this;return R((function(r){return 1==r.g?e==(t=Bt).va?r.return():S(r,vu(n,e,(function(){n.g.currentTime-=.001,mu(n,e)}),null),2):n.m?S(r,vu(n,t.V,(function(){var e=t.V;n.g.currentTime-=.001,mu(n,e)}),null),0):r.s(0)}))},r.endOfStream=function(e){var t=this;return R((function(n){return S(n,yu(t,(function(){iu(t)||au(t)||(e?t.i.endOfStream(e):t.i.endOfStream())})),0)}))},r.$a=function(e){var t=this;return R((function(n){return S(n,yu(t,(function(){if(e<t.i.duration)for(var n=c(t.l.keys()),r=n.next();!r.done;r=n.next()){r=r.value;var i={start:function(){},p:new $i,uri:null};t.o.get(r).unshift(i)}t.i.duration=e,t.oa=e})),0)}))},r.getDuration=function(){return this.i.duration};var Tu=e.URL.createObjectURL,ku="sequence";function Au(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=void 0===n||n,this.G=0,this.u=!1,this.m=e}function Eu(e,t,n,r){var i=this;this.u=r,this.g=e,this.B=t,this.h=n,this.o=new ee,this.l=!1,this.F=e.readyState,this.G=this.C=this.j=0,this.m=function(e){if(!e.h.stallEnabled)return null;var t=e.h.stallSkip;return new Cu(new Mu(e.g),e.h.stallThreshold,(function(){return R((function(n){if(1==n.g)return Ts(e.g.buffered).length?t?(e.g.currentTime+=t,n.s(2)):S(n,e.g.play(),3):n.return();if(2!=n.g){if(!e.g)return n.return();e.g.pause(),e.g.play()}e.G++,e.u(new ra("stalldetected")),x(n)}))}))}(this),this.A=!1,this.o.D(e,"waiting",(function(){return Iu(i)})),this.i=new He((function(){Iu(i)})).ua(this.h.gapJumpTimerTime)}function Iu(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.l)return}else e.l=!1;if(!e.g.paused||e.g.currentTime==e.j&&(e.g.autoplay||e.g.currentTime!=e.j)){var t;if(e.g.readyState!=e.F&&(e.F=e.g.readyState),!(t=!e.m)){var n=(t=e.m).j,r=Du(n),i=n.g.currentTime,a=Date.now()/1e3;t.g==i&&t.m==r||(t.l=a,t.g=i,t.m=r,t.h=!1),(r=(i=a-t.l)>=t.o&&r&&!t.h)&&(t.i&&t.i(t.g,i),t.h=!0,t.g=n.g.currentTime),t=!r}t&&(t=e.g.currentTime,r=function(e,t,n){return e&&e.length&&!bs(e)&&0<=(e=Ts(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)})))?e:null}(n=e.g.buffered,t,e.h.gapDetectionThreshold),null==r||0==r&&!e.A||(i=n.start(r),(a=e.h.gapPadding)&&(i=Math.ceil(100*(i+a))/100),i>=e.B.mb()||.001>i-t||(0!=r&&n.end(r-1),e.g.currentTime=i,t==e.j&&(e.j=i),e.C++,e.u(new ra("gapjumped")))))}}}function Cu(e,t,n){this.j=e,this.m=Du(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.o=t,this.i=n}function Mu(e){this.g=e}function Du(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=c(Ts(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Pu(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Lu.value().get(t),n.qa(e,t,r))}(r=Au.prototype).getDuration=function(){return this.l},r.vi=function(){return this.h},r.xh=function(e){this.i=e},r.$a=function(e){this.l=e},r.Bi=function(){return this.i},r.vh=function(e){this.A=e},r.Ec=function(e){e&&!this.B&&(this.I=!0),this.B=e},r.De=function(e){this.o=e},r.ce=function(){return this.o},r.jg=function(e){this.C=e},r.li=function(){return this.C},r.jh=function(e,t){if(0!=e.length){var n=(Date.now()+this.A)/1e3;if(0!=(e=e.filter((function(e){return e.start+t<n}))).length){var r=e[e.length-1].end+t;this.pe(e[0].start+t),this.h=e.reduce((function(e,t){return Math.max(e,t.end-t.start)}),this.h),this.g=Math.max(this.g,r),null!=this.i&&this.F&&!this.u&&(this.i=n-this.g-this.h)}}},r.Cd=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3,i=(e=c(e)).next();!i.done;i=e.next())r<(i=i.value).startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.pe(t),this.g=Math.max(this.g,n),null!=this.i&&this.F&&!this.u&&(this.i=r-this.g-this.h)}},r.ih=function(e,t){this.pe(e),1/0==t||this.U()||(this.g=Math.max(this.g,t))},r.wi=function(){return this.g},r.ke=function(){this.u=!0},r.Wi=function(){return this.u},r.wh=function(e){this.m=e},r.ri=function(){return this.m},r.pe=function(e){null==this.j?this.j=e:this.I||(this.j=Math.min(this.j,e))},r.Tf=function(e){this.h=Math.max(this.h,e)},r.offset=function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)},r.U=function(){return 1/0==this.l&&!this.B},r.wc=function(){return 1/0!=this.l&&!this.B},r.nb=function(){return Math.max(this.H,this.bc()-this.o)},r.Ah=function(e){this.H=e},r.bc=function(){return this.U()||this.wc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},r.od=function(e){var t=Math.max(this.j,this.H);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.bc()-this.o+e,this.mb()))},r.Fb=function(){return this.od(0)},r.mb=function(){return Math.max(0,this.bc()-(this.U()||this.wc()?this.C:0))},r.Jh=function(){return!(null==this.i||null!=this.g&&this.F)},r.uh=function(e){this.G=e},r.hi=function(){return this.G},V("shaka.media.PresentationTimeline",Au),Au.prototype.getAvailabilityTimeOffset=Au.prototype.hi,Au.prototype.setAvailabilityTimeOffset=Au.prototype.uh,Au.prototype.usingPresentationStartTime=Au.prototype.Jh,Au.prototype.getSeekRangeEnd=Au.prototype.mb,Au.prototype.getSeekRangeStart=Au.prototype.Fb,Au.prototype.getSafeSeekRangeStart=Au.prototype.od,Au.prototype.getSegmentAvailabilityEnd=Au.prototype.bc,Au.prototype.setUserSeekStart=Au.prototype.Ah,Au.prototype.getSegmentAvailabilityStart=Au.prototype.nb,Au.prototype.isInProgress=Au.prototype.wc,Au.prototype.isLive=Au.prototype.U,Au.prototype.offset=Au.prototype.offset,Au.prototype.notifyMaxSegmentDuration=Au.prototype.Tf,Au.prototype.notifyMinSegmentStartTime=Au.prototype.pe,Au.prototype.getInitialProgramDateTime=Au.prototype.ri,Au.prototype.setInitialProgramDateTime=Au.prototype.wh,Au.prototype.isStartTimeLocked=Au.prototype.Wi,Au.prototype.lockStartTime=Au.prototype.ke,Au.prototype.getMaxSegmentEndTime=Au.prototype.wi,Au.prototype.notifyPeriodDuration=Au.prototype.ih,Au.prototype.notifySegments=Au.prototype.Cd,Au.prototype.notifyTimeRange=Au.prototype.jh,Au.prototype.getDelay=Au.prototype.li,Au.prototype.setDelay=Au.prototype.jg,Au.prototype.getSegmentAvailabilityDuration=Au.prototype.ce,Au.prototype.setSegmentAvailabilityDuration=Au.prototype.De,Au.prototype.setStatic=Au.prototype.Ec,Au.prototype.setClockOffset=Au.prototype.vh,Au.prototype.getPresentationStartTime=Au.prototype.Bi,Au.prototype.setDuration=Au.prototype.$a,Au.prototype.setPresentationStartTime=Au.prototype.xh,Au.prototype.getMaxSegmentDuration=Au.prototype.vi,Au.prototype.getDuration=Au.prototype.getDuration,Eu.prototype.release=function(){this.o&&(this.o.release(),this.o=null),null!=this.i&&(this.i.stop(),this.i=null),this.m&&(this.m.release(),this.m=null),this.g=this.B=this.u=null},Eu.prototype.se=function(){this.A=!0,this.i&&this.i.ua(this.h.gapJumpTimerTime),Iu(this)},Cu.prototype.release=function(){this.i=this.j=null};var Lu=new Ne((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Ru(e,t,n,r){var i=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new ee,this.i=new Uu(e),Pu(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){ju(i,i.j())}))}function Nu(e){return e.o?e.g.currentTime:e.j()}function _u(e,t){0<e.g.readyState?Fu(e.i,t):Pu(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){ju(e,e.j())}))}function ju(e,t){.001>Math.abs(e.g.currentTime-t)?Ou(e):(e.h.qa(e.g,"seeking",(function(){Ou(e)})),Fu(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function Ou(e){e.o=!0,e.h.D(e.g,"seeking",(function(){return e.m()})),e.u(e.g.currentTime)}function Uu(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new He((function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)}))}function Fu(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.ua(.1)}function Bu(e){this.h=e,this.j=!1,this.g=null,this.i=new ee}function Vu(e,t,n,r,i,a){var o=this;this.i=e,this.g=t.presentationTimeline,this.l=n,this.u=i,this.o=null,this.j=new Eu(e,t.presentationTimeline,n,a),this.h=new Ru(e,(function(){e:{var e=o.j;e.l=!0,e.A=!1,e.i&&e.i.ua(e.h.gapJumpTimerTime),Iu(e);var t=Nu(o.h);if(e=zu(o,t),!Yt()&&.001<Math.abs(e-t)){if(t=!1,!Qe()||Qe()&&ot())t=!0;else{var n=Date.now()/1e3,r=Qe()&&st()?3:1;(!o.o||o.o<n-r)&&(o.o=n,t=!0)}if(t){_u(o.h,e),e=void 0;break e}}o.u(),e=void 0}return e}),(function(e){var t=o.j;t.g.seeking&&!t.l&&(t.l=!0,t.j=e),t.i&&t.i.ua(t.h.gapJumpTimerTime),Iu(t)}),(function(){var e=r;return null==e?e=1/0>o.g.getDuration()?o.g.Fb():o.g.mb():0>e&&(e=o.g.mb()+e),Hu(o,Gu(o,e))})),this.m=new He((function(){if(0!=o.i.readyState&&!o.i.paused){var e=Nu(o.h),t=o.g.Fb(),n=o.g.mb();3>n-t&&(t=n-3),e<t&&(e=zu(o,e),o.i.currentTime=e)}}))}function Hu(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function zu(e,t){var n=e.l.rebufferingGoal,r=e.l.safeSeekOffset,i=e.g.Fb(),a=e.g.mb(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.od(n),u=e.g.od(r);return n=e.g.od(n+r),t>=o?Hu(e,t):t>a?a-e.l.safeSeekEndOffset:t<i?Ss(e.i.buffered,u)?u:n:t>=s||Ss(e.i.buffered,t)?t:n}function Gu(e,t){var n=e.g.Fb();return t<n?n:t>(e=e.g.mb())?e:t}function Ku(e){this.g=e,this.m=null,this.i=0,this.o=!1}function qu(e){return e.g[0]||null}function Wu(e,t,n){return new Ku([e=new gs(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function Xu(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}function Yu(){Ku.call(this,[]),this.h=[]}function $u(e){var t=this;this.g=e,this.j=!1,this.i=this.g.be(),this.h=new He((function(){t.g.fh(.25*t.i)}))}function Qu(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.be()!=t&&e.g.mg(t))}catch(n){}e.h.ua(.25),0!=e.g.be()&&e.g.mg(0)}function Ju(e){var t=this;this.j=e,this.h=new ee,this.g=new Set,this.i=new He((function(){Zu(t,!1)})).qb(),e.paused||this.i.ua(.25),this.h.D(e,"playing",(function(){t.i.qb().ua(.25)})),this.h.D(e,"pause",(function(){t.i.stop()}))}function Zu(e,t){for(var n=e.j.currentTime,r=(e=c(e.g)).next();!r.done;r=e.next())r.value.j(n,t)}function el(e){oa.call(this),this.g=new Map,this.h=e}function tl(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function nl(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return"video"==e.type&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),"audio"==e.type&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function rl(e){oa.call(this),this.h=new Map,this.i=e,this.g=null}function il(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1);e.h.has(n)||(e.h.set(n,t),t=new ra("regionadd",new Map([["region",t]])),e.dispatchEvent(t),function(e){e.g||(e.g=new He((function(){for(var t=e.i(),n=c(e.h),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,(i=i.next().value).endTime<t.start&&(e.h.delete(r),r=new ra("regionremove",new Map([["region",i]])),e.dispatchEvent(r))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)})).ua(2))}(e))}function al(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function ol(e,t){e.l=t;for(var n=(e=c(e.h.values())).next();!n.done;n=e.next())n.value.g=t}function sl(e,t,n){if(n=void 0!==n&&n,!e.i.segmentIndex)return Promise.resolve();if(e.g||(e.g=e.i.segmentIndex.Eb(t,!0,e.o)),!e.g)return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value);){var r=!0;n.isPreload()&&null!=n.endByte&&(r=!1),2==n.dc()&&(r=!1),n.Gb(!1)&&(r=!1),r&&n.Y&&t.push(ul(e,n.Y)),r&&!e.h.has(n)&&(r=new hl(e.l),t.push(gl(r,n,e.i)),e.h.set(n,r))}return dl(e),Promise.all(t)}function ul(e,t){if(!e.i.segmentIndex||t.Gb()||Array.from(e.j.keys()).some((function(e){return hs(e,t)})))return Promise.resolve();var n=new hl(e.l),r=gl(n,t,e.i);return e.j.set(t,n),r}function ll(e,t){for(var n=(t=c(t.keys())).next();!n.done;n=t.next())(n=n.value)&&pl(e,n)}function cl(e){ll(e,e.h),ll(e,e.j),e.g=null}function dl(e){for(var t=Array.from(e.h.keys()),n=c(e.j.keys()),r=n.next(),i={};!r.done;i={Nf:void 0},r=n.next())i.Nf=r.value,t.some(function(e){return function(t){return hs(t.Y,e.Nf)}}(i))||pl(e,i.Nf)}function fl(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&pl(e,r)}dl(e)}function pl(e,t){var n=e.h;t instanceof ps&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function hl(e){this.g=e,this.Ed=this.pg=null}function gl(e,t,n){var r=new Uint8Array(0);return e.Ed=e.g(t,n,(function(t){return R((function(n){if(1==n.g)return r=0<r.byteLength?Lt(r,t):t,e.pg?S(n,e.pg(r),3):n.s(0);r=new Uint8Array(0),x(n)}))})),e.Ed.promise.catch((function(e){return e instanceof Le&&7001==e.code?Promise.resolve():Promise.reject(e)}))}function ml(e){var t=zr(e);return{type:t.split("/")[0],mimeType:t,codecs:e=Gr(e),language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Md:null,colorGamut:null,frameRate:null}}function vl(e,t,n){function r(e){o=e.name;var t=e.reader;t.skip(24);var n=t.ma(),r=t.ma();t.skip(50),h=String(n),p=String(r),e.reader.ta()&&Ma(e)}function i(e){var t=Ro(e.reader);g=t.channelCount,m=t.sampleRate,a(e.name)}function a(e){switch(e=e.toLowerCase()){case"avc1":case"avc3":u.push(e+".42E01E"),d=!0;break;case"hev1":case"hvc1":u.push(e+".1.6.L93.90"),d=!0;break;case"dvh1":case"dvhe":u.push(e+".05.04"),d=!0;break;case"vp09":u.push(e+".00.10.08"),d=!0;break;case"av01":u.push(e+".0.01M.08"),d=!0;break;case"mp4a":s.push("mp4a.40.2"),l=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":s.push(e),l=!0}}var o,s=[],u=[],l=!1,d=!1,f=null,p=null,h=null,g=null,m=null,v=null,y=null;if((new Ca).box("moov",Ma).box("trak",Ma).box("mdia",Ma).R("mdhd",(function(e){f=Po(e.reader,e.version).language})).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("mp4a",(function(e){var t=Ro(e.reader);g=t.channelCount,m=t.sampleRate,e.reader.ta()?Ma(e):a(e.name)})).box("esds",(function(e){e=e.reader;for(var t,n,r="mp4a";e.ta();){t=e.X();for(var i=e.X();128&i;)i=e.X();if(3==t)e.ma(),128&(i=e.X())&&e.ma(),64&i&&e.skip(e.X()),32&i&&e.ma();else if(4==t)n=e.X(),e.skip(12);else if(5==t)break}n&&(r+="."+_o(n),5==t&&e.ta()&&(31===(n=(248&(t=e.X()))>>3)&&e.ta()&&(n=32+((7&t)<<3)+((224&e.X())>>5)),r+="."+n)),s.push(r),l=!0})).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("avc1",r).box("avc3",r).box("hev1",r).box("hvc1",r).box("dva1",r).box("dvav",r).box("dvh1",r).box("dvhe",r).box("vp09",r).box("av01",r).box("avcC",(function(e){var t=o||"";switch(o){case"dvav":t="avc3";break;case"dva1":t="avc1"}(e=e.reader).skip(1),e=t+"."+_o(e.X())+_o(e.X())+_o(e.X()),u.push(e),d=!0})).box("hvcC",(function(e){var t=o||"";switch(o){case"dvh1":t="hvc1";break;case"dvhe":t="hev1"}var n=e.reader;n.skip(1);var r=["","A","B","C"][(e=n.X())>>6],i=31&e,a=n.S(),s=(32&e)>>5?"H":"L";e=[n.X(),n.X(),n.X(),n.X(),n.X(),n.X()],n=n.X();for(var l=0,c=0;32>c&&(l|=1&a,31!=c);c++)l<<=1,a>>=1;for(t=t+"."+r+i+"."+_o(l,!0),t+="."+s+n,r="",i=e.length;i--;)((s=e[i])||r)&&(r="."+s.toString(16).toUpperCase()+r);t+=r,u.push(t),d=!0})).box("dvcC",(function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.X(),n=n.X(),u.push(t+"."+jo(e>>1&127)+"."+jo(e<<5&32|n>>3&31)),d=!0})).box("dvvC",(function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.X(),n=n.X(),u.push(t+"."+jo(e>>1&127)+"."+jo(e<<5&32|n>>3&31)),d=!0})).R("vpcC",(function(e){var t=o||"",n=e.reader;e=n.X();var r=n.X();n=n.X()>>4&15,u.push(t+"."+jo(e)+"."+jo(r)+"."+jo(n)),d=!0})).box("av1C",(function(e){var t=o||"";if("dav1"===o)t="av01";var n=e.reader;n.skip(1);var r=(e=n.X())>>>5,i=(64&(n=n.X()))>>6;u.push(t+"."+r+"."+jo(31&e)+(n>>>7?"H":"M")+"."+jo(2===r&&i?(32&n)>>5?12:10:i?10:8)+"."+((16&n)>>4)+"."+((8&n)>>3)+((4&n)>>2)+(3&n)+"."+jo(1)+"."+jo(1)+"."+jo(1)+".0"),d=!0})).box("enca",La).box("encv",Pa).box("sinf",Ma).box("frma",(function(e){a(e=No(e.reader).codec)})).box("colr",(function(e){u=u.map((function(t){if(t.startsWith("av01.")){var n=e.reader,r=n.Aa(),i=n.Cb(4),a=String.fromCharCode(i[0]);if(a+=String.fromCharCode(i[1]),a+=String.fromCharCode(i[2]),"nclx"===(a+=String.fromCharCode(i[3]))){i=n.ma(),a=n.ma();var o=n.ma(),s=n.X()>>7,u=t.split(".");10==u.length&&(u[6]=jo(i),u[7]=jo(a),u[8]=jo(o),u[9]=String(s),t=u.join("."))}n.seek(r)}return t}));var t=function(e){var t=null,n=null,r=e.Cb(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),"nclx"===(i+=String.fromCharCode(r[3]))){switch(e.ma()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.ma(),e.ma(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Md:n}}(e.reader),n=t.colorGamut;v=t.Md,y=n})).parse(e||t,!0),!s.length&&!u.length)return null;var b=l&&!d,w=new Map;if(d&&!n){n=new en("video/mp4"),e&&n.init(e);try{n.i(t);for(var S=c(n.j()),x=S.next();!x.done;x=S.next()){var T=x.value;w.set(T,T)}}catch(k){}n.g()}return{type:b?"audio":"video",mimeType:b?"audio/mp4":"video/mp4",codecs:yl(s.concat(u)).join(", "),language:f,height:p,width:h,channelCount:g,sampleRate:m,closedCaptions:w,Md:v,colorGamut:y,frameRate:null}}function yl(e){for(var t=new Set,n=[],r=(e=c(e)).next();!r.done;r=e.next()){var i=Hr(r=r.value);t.has(i)||(n.push(r),t.add(i))}return t=Ut("audio",n),r=Ut("video",n),e=Ut(Ft,n),r=function(e){if(1>=e.length)return e;var t=e.find((function(e){return e.startsWith("dvav.")||e.startsWith("dva1.")||e.startsWith("dvh1.")||e.startsWith("dvhe.")||e.startsWith("dav1.")||e.startsWith("dvc1.")||e.startsWith("dvi1.")}));return t?Wt('video/mp4; codecs="'+t+'"')?[t]:e.filter((function(e){return e!=t})):e}(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function bl(t,n,r){var i,a,o,s,u;return R((function(l){if(1==l.g)return(i=n).cryptoKey?l.s(2):S(l,i.fetchKey(),3);if(!(a=i.iv))for(a=Ce(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+r,s=a.byteLength-1;0<=s;s--)a[s]=255&o,o>>=8;return u="CBC"==n.blockCipherMode?{name:"AES-CBC",iv:a}:{name:"AES-CTR",counter:a,length:64},l.return(e.crypto.subtle.decrypt(u,i.cryptoKey,t))}))}function wl(e,t,n,r,i){return e=fa(e,r,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Sl(e,t){var n=this;this.g=t,this.j=e,this.h=null,this.K=new Map,this.C=1,this.u=this.l=null,this.O=0,this.i=new Map,this.I=!1,this.P=null,this.B=!1,this.m=new wa((function(){return function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.g){for(e.A&&e.A.stop(),e.A=null,e.H&&e.H.stop(),e.H=null,t=[],n=c(e.i.values()),r=n.next();!r.done;r=n.next())Ul(i=r.value),t.push(Fl(i)),i.ba&&(cl(i.ba),i.ba=null);for(a=c(e.o.values()),o=a.next();!o.done;o=a.next())cl(o.value);return S(s,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.j=null,e.h=null,e.G=null,x(s)}))}(n)})),this.L=Date.now()/1e3,this.o=new Map,this.M={projection:null,hfov:null},this.W=0,this.T=1/0,this.F=null,this.A=new He((function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var e=n.j.presentationTimeline.Fb(),t=n.j.presentationTimeline.mb();1<t-e?function(e,t,n){R((function(r){return e.H.g||e.g.error||e.M||e.G||iu(e)||au(e)?r.return():S(r,yu(e,(function(){iu(e)||au(e)||e.i.setLiveSeekableRange(t,n)})),0)}))}(n.g.aa,e,t):fu(n.g.aa)}else fu(n.g.aa),n.A&&n.A.stop();else n.A&&n.A.stop()})),this.G=null,this.H=new He((function(){var e=n.g.video;!e.ended&&n.G&&(e.currentTime=n.G,n.G=null)}))}function xl(e,t){for(var n=0>e.g.eb(),r=c(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).ja&&i.ja.cd(n),i.ba&&i.ba.cd(n);for(i=(r=c(e.o.values())).next();!i.done;i=r.next())i.value.cd(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.fc&&(Al(e,t,!1,0,!1),n.fc=r):(t=n.fc)&&(n.fc=null,Al(e,t,!0,0,!1)))}function Tl(e,t,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,e.l=t,e.I&&(t.video&&Al(e,t.video,n,r,i,a),t.audio&&Al(e,t.audio,n,r,i,a))}function kl(e,t){R((function(n){if(1==n.g)return e.F=null,e.u=t,e.I?t.segmentIndex?n.s(2):S(n,t.createSegmentIndex(),2):n.return();Al(e,t,!0,0,!1),x(n)}))}function Al(e,t,n,r,i,a){var o=e.i.get(t.type);o||t.type!=Ft?o&&(o.fc&&(t.trickModeVideo?(o.fc=t,t=t.trickModeVideo):o.fc=null),o.stream!=t||i)&&(e.o.has(t)?o.ba=e.o.get(t):o.ba&&function(e,t){t&&t!==e.i&&(cl(e),e.i=t)}(o.ba,t),t.type==Ft&&(i=jr(t.mimeType,t.codecs),ru(e.g.aa,i,e.j.sequenceMode,t.external)),!e.o.has(o.stream)&&o.stream.closeSegmentIndex&&(o.Ca?(i="("+o.type+":"+o.stream.id+")",e.K.has(i)||e.K.set(i,o.stream.closeSegmentIndex)):o.stream.closeSegmentIndex()),i=o.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,o.stream=t,o.ja=null,o.bf=!!a,t.dependencyStream?o.ld=Il(e,t.dependencyStream):o.ld=null,i?Vl(e,!0,!1):(n?o.nc?o.Se=!0:o.Ca?(o.lc=!0,o.Wd=r,o.Se=!0):(Ul(o),jl(e,o,!0,r).catch((function(t){e.g&&e.g.onError(t)}))):o.Ca||o.ib||Ol(e,o,0),function(e,t){var n,r;return R((function(i){if(1==i.g)return t.pb?(n=t.stream,r=t.pb,n.segmentIndex?i.s(2):S(i,n.createSegmentIndex(),2)):i.return();if(t.pb!=r||t.stream!=n)return i.return();var a=e.g.Pc(),o=su(e.g.aa,t.type),s=t.stream.segmentIndex.find(t.xa?t.xa.endTime:a),u=null==s?null:t.stream.segmentIndex.get(s);s=u&&u.endByte?u.endByte-u.startByte:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(t.stream.bandwidth||0)/8),s?((u=u.Y)&&(s+=(u.endByte?u.endByte-u.startByte:null)||0),a=8*s/(u=e.g.getBandwidthEstimate())<(o||0)-a-e.h.rebufferingGoal||t.pb.h.g>s):a=!1,a&&t.pb.abort(),x(i)}))}(e,o).catch((function(t){e.g&&e.g.onError(t)})))):function(e,t){var n,r,i,a,o;R((function(s){switch(s.g){case 1:return n=Bt,e.O++,r=e.O,T(s,2),S(s,cu(e.g.aa,n.va),4);case 4:A(s,3);break;case 2:i=E(s),e.g&&e.g.onError(i);case 3:a=jr(t.mimeType,t.codecs),ru(e.g.aa,a,e.j.sequenceMode,t.external),(e.g.aa.ea.isTextVisible()||e.h.alwaysStreamText)&&e.O==r&&(o=Il(e,t),e.i.set(n.va,o),Ol(e,o,0)),x(s)}}))}(e,t)}function El(e,t){t.nc||t.lc||(t.Ca?(t.lc=!0,t.Wd=0):null==ou(e.g.aa,t.type)?null==t.ib&&Ol(e,t,0):(Ul(t),jl(e,t,!1,0).catch((function(t){e.g&&e.g.onError(t)}))))}function Il(e,t){var n={stream:t,type:t.type,ja:null,ba:Cl(e,t),xa:null,yb:null,je:null,yc:null,xc:null,he:null,ie:null,fc:null,endOfStream:!1,Ca:!1,ib:null,lc:!1,Wd:0,Se:!1,nc:!1,Dc:!0,bf:!1,bg:!1,qd:!1,pb:null,ld:null};return t.dependencyStream&&(n.ld=Il(e,t.dependencyStream)),n}function Cl(e,t){if("video"===t.type&&e.h.disableVideoPrefetch||"audio"===t.type&&e.h.disableAudioPrefetch||t.type===Ft&&("application/cea-608"==t.mimeType||"application/cea-708"==t.mimeType)||t.type===Ft&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.ba)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new al(e.h.segmentPrefetchLimit,t,(function(t,n,r){return _l(t,n,r||null,e.h.retryParameters,e.g.Vb)}),0>e.g.eb()):null}function Ml(t,n){var r,i,a,o,s,u;return R((function(l){switch(l.g){case 1:if(Sa(t.m),n.Ca||null==n.ib||n.nc)return l.return();if(n.ib=null,!n.lc){l.s(2);break}return S(l,jl(t,n,n.Se,n.Wd),3);case 3:return l.return();case 2:if(function(e,t){for(var n=c(e.K.entries()),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.K.delete(r))}}(t,n),n.stream.segmentIndex){l.s(4);break}return r=n.stream,T(l,5),S(l,n.stream.createSegmentIndex(),7);case 7:A(l,6);break;case 5:return i=E(l),S(l,Bl(t,n,i),8);case 8:return l.return();case 6:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.Ca||n.ib||Ol(t,n,0),l.return();case 4:T(l,9),a=function(t,n){if(Rl(n))return function(e,t){var n=su(e,"video")||0;Zr(e.h,t,n)}(t.g.aa,n.stream.originalId||""),null;if(n.type==Ft&&function(e){e.h&&Zr(e.h,"",0)}(t.g.aa),n.stream.isAudioMuxedInVideo)return null;var r=t.h.updateIntervalSeconds/Math.max(1,Math.abs(t.g.eb()));if(!nu(t.g.aa)&&n.type!=Ft)return r/2;var i=t.g.Pc();if("audio"===n.type)for(var a=c(t.o.keys()),o=a.next();!o.done;o=a.next())(o=t.o.get(o.value)).Na(i,!0),sl(o,i);a=n.xa?n.xa.endTime:i;var s=function(e,t,n){return t==Ft?null==(e=e.h).h||e.h<n?0:e.h-Math.max(n,e.g):xs(e=uu(e,t),n)}(t.g.aa,n.type,i),u=Math.max(1,Math.max(t.h.rebufferingGoal,t.h.bufferingGoal)*t.C),l=t.j.presentationTimeline.getDuration()-a;if(o=su(t.g.aa,n.type),1e-6>l&&o)return n.endOfStream=!0,"video"==n.type&&(t=t.i.get(Ft))&&Rl(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,s>=u)return r/2;if(u=!n.ja,o=function(e,t,n,r){if(t.ja)return(n=t.ja.current())&&t.xa&&.001>Math.abs(t.xa.startTime-n.startTime)&&(n=t.ja.next().value),n;if(t.xa||r)return n=t.xa?t.xa.endTime:r,e=0>e.g.eb(),t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Eb(n,!1,e)),t.ja&&t.ja.next().value;r=e.j.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.eb();var a=null;return r&&(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Eb(i,!1,e)),a=t.ja&&t.ja.next().value),a||(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Eb(n,!1,e)),a=t.ja&&t.ja.next().value),a}(t,n,i,o),!o)return r;s=!1,u&&n.bf&&(s=!0,n.bf=!1),u=1/0;for(var d=(l=c(l=Array.from(t.i.values()))).next();!d.done;d=l.next())Rl(d=d.value)||d.ja&&!d.ja.current()||(u=Math.min(u,d.xa?d.xa.endTime:i));return a>=u+t.j.presentationTimeline.h?r:("keep"!==t.h.crossBoundaryStrategy&&function(e,t,n){if(t.type===Ft)return!1;var r=t.yb;if(!r)return!1;n=n.Y;var i=r.g!==n.g;if("reset_to_encrypted"===e.h.crossBoundaryStrategy&&(r.encrypted||n.encrypted||(i=!1),r.encrypted&&(e.h.crossBoundaryStrategy="keep")),"RESET_ON_ENCRYPTION_CHANGE"===e.h.crossBoundaryStrategy&&r.encrypted==n.encrypted&&(i=!1),i&&t.Dc){var a=e.g.video,o=a.paused;Vl(e,!0).then((function(){e.g.onEvent(new ra("boundarycrossed")),o||a.play()}))}return i}(t,n,o)||(n.ba&&n.ja&&!t.o.has(n.stream)&&(n.ba.Na(o.startTime+.001),sl(n.ba,o.startTime).catch((function(){}))),function(t,n,r,i,a){var o,s,u,l,c,d,f,p,h,g,m,v,y,b,w,k;return R((function(I){switch(I.g){case 1:if(o=Bt,s=n.stream,u=n.ja,n.Ca=!0,T(I,2),2==i.dc())throw new Le(1,1,1011);return S(I,function(e,t,n,r){var i,a,o,s,u,l,c,d,f,p,h,g,m,v,y,b;return R((function(w){switch(w.g){case 1:if(i=Bt,a=null==t.xa,o=[],s=Math.max(0,Math.max(n.appendWindowStart,e.W)-.1),u=Math.min(n.appendWindowEnd,e.T)+.01,l=n.codecs||t.stream.codecs,c=Hr(l),d=zr(n.mimeType||t.stream.mimeType),(f=n.timestampOffset)==t.je&&s==t.yc&&u==t.xc&&c==t.he&&d==t.ie){w.s(2);break}if(p=t.he&&t.ie&&function(e,t,n,r){if(t==Ft)var i=!1;else{i=Vr(Gr(e.B.get(t)));var a=zr(e.B.get(t)),o=jr(n,r),s=e.A.forceTransmux;(!Wt(o)||!e.F&&Xr.includes(o))&&(s=!0),n=Or(n,r),s&&(s=Mr(n))&&(o=(s=s()).convertCodecs(t,n),s.destroy()),t=Vr(Gr(o)),o=zr(o),i=i!==t||a!==o}return!!i&&("smooth"!==e.A.codecSwitchingStrategy||!Xt()||e.m)}(e.g.aa,t.type,d,l),!p){w.s(3);break}if(h=null,t.type===i.la?h=e.i.get(i.V):t.type===i.V&&(h=e.i.get(i.la)),!h){w.s(3);break}return S(w,Fl(h).catch((function(){})),5);case 5:h.yb=null,h.yc=null,h.xc=null,El(e,h);case 3:return S(w,Dl(e,t,f,s,u,n,c,d),2);case 2:return hs(n.Y,t.yb)||(t.yb=n.Y,n.l&&n.Y&&(g=Nl(e,t,n.Y),m=function(){var a,o,s,u,l,c;return R((function(d){switch(d.g){case 1:return T(d,2),S(d,g,4);case 4:return a=d.h,Sa(e.m),o=null,s=new Map,u={projection:null,hfov:null},(new Ca).box("moov",Ma).box("trak",Ma).box("mdia",Ma).R("mdhd",(function(e){o=Po(e.reader,e.version).timescale})).box("hdlr",(function(e){switch((e=e.reader).skip(8),e.Ac()){case"soun":s.set(i.V,o);break;case"vide":s.set(i.la,o)}o=null})).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("encv",Pa).box("avc1",Pa).box("avc3",Pa).box("hev1",Pa).box("hvc1",Pa).box("dvav",Pa).box("dva1",Pa).box("dvh1",Pa).box("dvhe",Pa).box("dvc1",Pa).box("dvi1",Pa).box("vexu",Ma).box("proj",Ma).R("prji",(function(e){e=e.reader.Ac(),u.projection=e})).box("hfov",(function(e){e=e.reader.S()/1e3,u.hfov=e})).parse(a),t.type===i.la&&function(e,t){if(e.M.projection!=t.projection||e.M.hfov!=t.hfov){if(null!=t.projection||null!=t.hfov){var n=(new Map).set("detail",t);n=new ra("spatialvideoinfo",n)}else n=new ra("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.M=t}}(e,u),s.has(t.type)?n.Y.timescale=s.get(t.type):null!=o&&(n.Y.timescale=o),l=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,S(d,e.g.Fg(t.type,a),5);case 5:return S(d,lu(e.g.aa,t.type,a,null,t.stream,l,t.Dc,r),6);case 6:A(d,0);break;case 2:throw c=E(d),t.yb=null,c}}))},v=n.startTime,a&&(null!=(y=su(e.g.aa,t.type))&&(v=y)),e.g.fj(v,n.Y),o.push(m()))),b=t.xa?t.xa.i:-1,n.i!=b&&o.push(function(e,t,n){var r,i;return R((function(a){return 1==a.g?t==(r=Bt).va?a.return():(t==r.la&&(e.Ea=new $i),!e.F||(i=su(e,t))&&.1>Math.abs(i-n)?a.return():(vu(e,t,(function(){return hu(e,t)}),null),e.m&&vu(e,r.V,(function(){return hu(e,r.V)}),null),S(a,vu(e,t,(function(){return gu(e,t,n)}),null),2))):e.m?S(a,vu(e,r.V,(function(){return gu(e,r.V,n)}),null),0):a.s(0)}))}(e.g.aa,t.type,n.startTime)),S(w,Promise.all(o),0)}}))}(t,n,i,a),4);case 4:return Sa(t.m),t.B?I.return():(l="video/mp4"==s.mimeType||"audio/mp4"==s.mimeType,c=e.ReadableStream,t.h.lowLatencyMode&&t.j.isLowLatency&&c&&l&&("HLS"!=t.j.type||i.m)?(f=new Uint8Array(0),h=p=!1,m=function(e){var o,u,l;return R((function(c){switch(c.g){case 1:if(p)return c.return();if(h=!0,Sa(t.m),t.B)return c.return();if(T(c,2),f=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(f,e),o=!1,u=0,(new Ca).box("mdat",(function(e){u=e.size+e.start,o=!0})).parse(f,!1,!0),!o){c.s(4);break}return l=f.subarray(0,u),f=f.subarray(u),S(c,Pl(t,n,r,s,i,l,!0,a),5);case 5:n.ba&&n.ja&&sl(n.ba,i.startTime,!0);case 4:A(c,0);break;case 2:g=E(c),x(c)}}))},S(I,Nl(t,n,i,m),9)):S(I,Nl(t,n,i),7));case 7:return d=I.h,Sa(t.m),t.B?I.return():(Sa(t.m),n.lc?(n.Ca=!1,Ol(t,n,0),I.return()):S(I,Pl(t,n,r,s,i,d,!1,a),6));case 9:if(v=I.h,g)throw g;if(h){I.s(10);break}return p=!0,Sa(t.m),t.B?I.return():n.lc?(n.Ca=!1,Ol(t,n,0),I.return()):S(I,Pl(t,n,r,s,i,v,!1,a),10);case 10:n.ba&&n.ja&&sl(n.ba,i.startTime,!0);case 6:if(Sa(t.m),t.B)return I.return();n.xa=i,u.next(),n.Ca=!1,n.bg=!1,y=t.g.aa.wb(),b=y[n.type],JSON.stringify(b),n.lc||(w=null,n.type===o.la?w=t.i.get(o.V):n.type===o.V&&(w=t.i.get(o.la)),w&&w.type==o.V?t.g.se(i,n.stream,w.stream.isAudioMuxedInVideo):t.g.se(i,n.stream,n.stream.codecs.includes(","))),Ol(t,n,0),A(I,0);break;case 2:if(k=E(I),Sa(t.m,k),t.B)return I.return();if(n.Ca=!1,7001==k.code)n.Ca=!1,Ul(n),Ol(t,n,0),I.s(0);else{if(n.type!=o.va||!t.h.ignoreTextStreamFailures)return 3017==k.code?S(I,function(e,t,n){var r,i,a,o;return R((function(s){if(1==s.g){if(r=Array.from(e.i.values()),r.some((function(e){return e!=t&&e.bg})))return s.s(2);if(i=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,i))return s.return();if(e.h.avoidEvictionOnQuotaExceededError)return Ol(e,t,4),s.return();if(20<(a=Math.round(100*e.C)))e.C-=.2;else{if(!(4<a))return t.qd=!0,e.B=!0,e.g.onError(n),s.return();e.C-=.04}return t.bg=!0,o=e.g.Pc(),S(s,Ll(e,t,o),2)}Ol(e,t,4),x(s)}))}(t,n,k),0):(n.qd=!0,1==k.category&&n.ba&&pl(n.ba,i),k.severity=2,S(I,Bl(t,n,k),0));t.i.delete(o.va),I.s(0)}}}))}(t,n,i,o,s).catch((function(){})),n.ld&&function(e,t,n){var r,i,a,o,s,u,l,c;R((function(d){switch(d.g){case 1:if(r=t.stream,!(a=(i=r.segmentIndex.Eb(n))&&i.next().value)){d.s(0);break}if(!(o=a.Y)||hs(o,t.yb)){d.s(3);break}return t.yb=o,T(d,4),S(d,Nl(e,t,o),6);case 6:s=d.h;var f=e.g.aa;f.K&&Gt(f.K,s,0,r),A(d,3);break;case 4:throw u=E(d),t.yb=null,u;case 3:if(t.xa&&t.xa==a){d.s(0);break}return t.xa=a,T(d,8),S(d,Nl(e,t,a),10);case 10:l=d.h,(f=e.g.aa).K&&Gt(f.K,l,0,r),A(d,0);break;case 8:throw c=E(d),t.xa=null,c}}))}(t,n.ld,i)),null)}(t,n),null!=a&&(Ol(t,n,a),n.qd=!1),A(l,10);break;case 9:return o=E(l),S(l,Bl(t,n,o),11);case 11:return l.return();case 10:if(s=Array.from(t.i.values()),!t.I||!s.every((function(e){return e.endOfStream}))){l.s(0);break}return S(l,t.g.aa.endOfStream(),13);case 13:Sa(t.m),0!=(u=t.g.aa.getDuration())&&u<t.j.presentationTimeline.getDuration()&&t.j.presentationTimeline.$a(u),x(l)}}))}function Dl(e,t,n,r,i,a,o,s){var u,l,c,d;return R((function(f){if(1==f.g)return u=Bt,l=new Map,e.l.audio&&l.set(u.V,e.l.audio),e.l.video&&l.set(u.la,e.l.video),T(f,2),t.yc=r,t.xc=i,o&&(t.he=o),s&&(t.ie=s),t.je=n,c=e.j.sequenceMode||"HLS"==e.j.type,S(f,du(e.g.aa,t.type,n,r,i,c,a.mimeType||t.stream.mimeType,a.codecs||t.stream.codecs,l),4);if(2!=f.g)return A(f,0);throw d=E(f),t.yc=null,t.xc=null,t.he=null,t.ie=null,t.je=null,d}))}function Pl(e,t,n,r,i,a,o,s){var u,l,c,d,f,p;return o=void 0!==o&&o,s=void 0!==s&&s,R((function(h){switch(h.g){case 1:return u=r.closedCaptions&&0<r.closedCaptions.size,e.h.shouldFixTimestampOffset&&(c="video/mp4"==r.mimeType||"audio/mp4"==r.mimeType,d=null,i.Y&&(d=i.Y.timescale),(f=c&&d&&"video"===r.type&&"DASH"==e.j.type)&&(l=new Ca),f&&l.box("moof",Ma).box("traf",Ma).R("tfdt",(function(n){var r,a,o,s,u;return R((function(l){return r=Do(n.reader,n.version),(a=r.baseMediaDecodeTime)?(o=-a/d,(Number(t.je)||0)<o?(s=t.yc,u=t.xc,S(l,Dl(e,t,o,s,u,i),0)):l.s(0)):l.return()}))})),f&&l.parse(a,!1,o)),S(h,Ll(e,t,n),2);case 2:return Sa(e.m),p=t.Dc,t.Dc=!1,S(h,e.g.Fg(t.type,a),3);case 3:return S(h,lu(e.g.aa,t.type,a,i,r,u,p,s,o),4);case 4:Sa(e.m),x(h)}}))}function Ll(e,t,n){var r,i,a,o,s,u,l,c;return R((function(d){return 1==d.g?((r=t.stream.segmentIndex)instanceof Yu&&r.Na(e.j.presentationTimeline.nb()),i=Math.max(e.h.bufferBehind*e.C,e.j.presentationTimeline.h),null==(a=ou(e.g.aa,t.type))?(e.F==t&&(e.F=null),d.return()):(o=n-a,s=e.h.evictionGoal,u=e.j.presentationTimeline.Fb(),l=e.j.presentationTimeline.mb(),c=o-i,l-u>s&&(c=Math.max(o-i,u-s-a)),c<=s?d.return():S(d,e.g.aa.remove(t.type,a,a+c),2))):4!=d.g?(Sa(e.m),e.F?S(d,Ll(e,e.F,n),4):d.s(0)):(Sa(e.m),void x(d))}))}function Rl(e){return e&&e.type==Ft&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function Nl(e,t,n,r){var i,a,o,s,u;return R((function(l){switch(l.g){case 1:if(i=n.Gb())return l.return(i);if(a=null,t.ba){var c=t.ba,d=c.h;n instanceof ps&&(d=c.j),d.has(n)?(c=d.get(n),r&&(c.pg=r),a=c.Ed):a=null}return a||(a=_l(n,t.stream,r||null,e.h.retryParameters,e.g.Vb)),o=0,t.ja&&(o=t.ja.h),t.pb=a,S(l,a.promise,2);case 2:if(s=l.h,t.pb=null,u=s.data,!n.aesKey){l.s(3);break}return S(l,bl(u,n.aesKey,o),4);case 4:u=l.h;case 3:return l.return(u)}}))}function _l(e,t,n,r,i,a){a=void 0!==a&&a;var o=e instanceof gs?e:void 0,s=o?1:0;return(e=wl(e.N(),e.startByte,e.endByte,r,n)).contentType=t.type,i.request(va,e,{type:s,stream:t,segment:o,isPreload:a})}function jl(e,t,n,r){var i,a;return R((function(o){return 1==o.g?(t.lc=!1,t.Se=!1,t.Wd=0,t.nc=!0,t.xa=null,t.ja=null,t.ba&&!e.o.has(t.stream)&&cl(t.ba),r?(i=e.g.Pc(),a=e.g.aa.getDuration(),S(o,e.g.aa.remove(t.type,i+r,a),3)):S(o,cu(e.g.aa,t.type),4)):3!=o.g?(Sa(e.m),n?S(o,e.g.aa.flush(t.type),3):o.s(3)):(Sa(e.m),t.nc=!1,t.endOfStream=!1,t.Ca||t.ib||Ol(e,t,0),void x(o))}))}function Ol(e,t,n){var r=t.type;(r!=Ft||e.i.has(r))&&(t.ib=new Ve((function(){var n;return R((function(r){return 1==r.g?(T(r,2),S(r,Ml(e,t),4)):2!=r.g?A(r,0):(n=E(r),e.g&&e.g.onError(n),void x(r))}))})).da(n))}function Ul(e){null!=e.ib&&(e.ib.stop(),e.ib=null)}function Fl(e){return R((function(t){return e.pb?S(t,e.pb.abort(),0):t.s(0)}))}function Bl(e,t,n){var r;return R((function(i){if(1==i.g)return 3024==n.code?(t.Ca=!1,Ul(t),Ol(e,t,0),i.return()):S(i,Yi(e.P),2);if(Sa(e.m),1===n.category&&1003!=n.code){if(t.fc)return xl(e,!1),i.return();r=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}n.handled&&1011==n.code||e.g.onError(n),n.handled||e.h.failureCallback(n),x(i)}))}function Vl(e,t,n){var r,i,a,o,s,u;return t=void 0!==t&&t,n=void 0===n||n,R((function(l){if(1==l.g){if(r=Date.now()/1e3,i=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||r-e.L<i)return l.return(!1);e.L=r}return a=Bt,(o=e.i.get(a.V))&&(o.yb=null,o.yc=null,o.xc=null,n&&El(e,o),Fl(o).catch((function(){})),o.ja&&o.ja.dg()),(s=e.i.get(a.la))&&(s.yb=null,s.yc=null,s.xc=null,n&&El(e,s),Fl(s).catch((function(){})),s.ja&&s.ja.dg()),u=new Map,e.l.audio&&u.set(a.V,e.l.audio),e.l.video&&u.set(a.la,e.l.video),S(l,Su(e.g.aa,u),2)}return!s||s.nc||s.Ca||s.ib||Ol(e,s,0),!o||o.nc||o.Ca||o.ib||Ol(e,o,0),l.return(!0)}))}function Hl(e){if("keep"!==e.h.crossBoundaryStrategy){e.H.stop();var t=e.g.Pc(),n=e.i.get("video")||e.i.get("audio");n&&(n=n.yb)&&null!==n.g&&(0>(t=n.g-t)||1<t||(e.G=n.g+.01,e.H.da(t)))}}function zl(){}function Gl(e,t,n,r,i){var a,o=i in r,s=o?n.constructor==Object&&0==Object.keys(r).length:n.constructor==Object&&0==Object.keys(n).length,u=o||s,l=!0;for(a in t){var c=i+"."+a,d=o?r[i]:n[a];u||a in n?void 0===t[a]?void 0===d||u?delete e[a]:e[a]=wn(d):s?e[a]=t[a]:d.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=wn(d)),c=Gl(e[a],t[a],d,r,c),l=l&&c):typeof t[a]!=typeof d||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=d.constructor?(X("Invalid config, wrong type for "+c),l=!1):"function"==typeof n[a]&&n[a].length!=t[a].length?(Y("Unexpected number of arguments for "+c),e[a]=t[a]):e[a]=Array.isArray(e[a])?t[a].slice():t[a]:(X("Invalid config, unrecognized key "+c),l=!1)}return l}function Kl(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function ql(e,t){return e&&t}function Wl(e,t){function n(e){return e&&"object"===typeof e&&!Array.isArray(e)}return e=function e(t,r){return Object.keys(t).reduce((function(i,a){var o=t[a];return r.hasOwnProperty(a)?o instanceof HTMLElement&&r[a]instanceof HTMLElement?o.isEqualNode(r[a])||(i[a]=o):n(o)&&n(r[a])?(o=e(o,r[a]),(0<Object.keys(o).length||!n(o))&&(i[a]=o)):Array.isArray(o)&&Array.isArray(r[a])?dn(o,r[a])||(i[a]=o):Number.isNaN(o)&&Number.isNaN(r[a])||o!==r[a]&&(i[a]=o):i[a]=o,i}),{})}(e,t),function e(t){for(var r=c(Object.keys(t)),i=r.next();!i.done;i=r.next())if(!(t[i=i.value]instanceof HTMLElement))if(n(t[i])&&0===Object.keys(t[i]).length)delete t[i];else{var a=t[i];Array.isArray(a)&&0===a.length||"function"==typeof t[i]?delete t[i]:n(t[i])&&(e(t[i]),0===Object.keys(t[i]).length&&delete t[i])}}(e),e}function Xl(){}function Yl(e){return new le(e=wt(e)).lb}function $l(e,t,n){function r(e){De(a).setUint32(o,e.byteLength,!0),o+=4,a.set(Ce(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new Le(2,6,6015);var i;i="string"==typeof t?xt(t,!0):t,e=xt(e=wt(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function Ql(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,$l(e,n=wt(e).split("skd://").pop(),t))}function Jl(e,t){2===e&&(e=t.drmInfo)&&Ue(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}function Zl(){this.g=null}function ec(){}function tc(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(t,n,r){return"apple"===e.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,t=$l(t,r=Yl(t),n)),t},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:qe(),minHdcpVersion:"",ignoreDuplicateInitData:!lt("Tizen 2"),defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"};(qe()||tt())&&n.preferredKeySystems.push("com.microsoft.playready"),at()&&!Ke()&&(n.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation"});var r="reload",i=!1;!Xt()||We()||tt()||et()||Ye()&&79===Je()||Qe()&&!ot()&&!st()||at()&&Ke()||(r="smooth",i=!0),i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:ic,manifestPreprocessorTXml:ac,sequenceMode:!1,multiTypeVariantsAllowed:i,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:ft(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:ic,manifestPreprocessorTXml:ac,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var a={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return ql([e])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:tt()||et(),dontChooseCodecs:!1,shouldFixTimestampOffset:Ye()||We(),avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep"};(Ye()||We()||Qe()||nt())&&(a.stallSkip=0),(navigator.userAgent.match(/Edge\//)||qe())&&(a.gapPadding=.01),We()&&(a.gapPadding=2),$e()&&(a.crossBoundaryStrategy="reset"),Xe()&&(a.crossBoundaryStrategy="reset_to_encrypted");var o={trackSelectionCallback:function(e){return R((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return R((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?S(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return ql([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5};t={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:Ze()?.5:0,preferNetworkInformationBandwidth:!1},r={codecSwitchingStrategy:r,addExtraFeaturesToSourceBuffer:function(e){return ql([e],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,correctEc3Enca:!1,modifyCueCallback:function(e,t){return ql([e,t])},dispatchAllEmsgBoxes:!1};var s=!1,u=!1,l=!0;ut()&&(u=s=!0,l=!1);var f={drm:n,manifest:i,streaming:a,mediaSource:r,offline:o,abrFactory:function(){return new Gi},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(Zl,[null].concat(d(N.apply(0,arguments)))))},abr:t,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1,poster:!0},ads:{customPlayheadTracker:s,skipPlayDetection:u,supportsMultipleMediaElements:l,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0},ignoreHardwareResolution:!1};return o.trackSelectionCallback=function(e){return R((function(t){return t.return(function(e,t,n){var r=n;"AUTO"==r&&(n=e.some((function(e){return!(!e.hdr||"HLG"!=e.hdr)})),r=ht(n));var i=e.filter((function(e){return!("variant"!=e.type||e.hdr&&e.hdr!=r)}));n=[];var a=hi(t,i.map((function(e){return e.language})));a&&(n=i.filter((function(e){return ci(e.language)==a}))),0==n.length&&(n=i.filter((function(e){return e.primary}))),0==n.length&&(i.map((function(e){return e.language})),n=i);var o=n.filter((function(e){return e.height&&480>=e.height}));for(o.length&&(o.sort((function(e,t){return t.height-e.height})),n=o.filter((function(e){return e.height==o[0].height}))),t=[],n.length&&(i=Math.floor(n.length/2),n.sort((function(e,t){return e.bandwidth-t.bandwidth})),t.push(n[i])),e=c(e),n=e.next();!n.done;n=e.next())(n=n.value).type!=Ft&&"image"!=n.type||t.push(n);return t}(e,f.preferredAudioLanguage,f.preferredVideoHdrLevel))}))},f}function nc(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function rc(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Gl(e,t,n||tc(),r,"")}function ic(e){return ql([e],e)}function ac(e){return ql([e],e)}function oc(){this.g=null,this.h=[]}function sc(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var r=(e=c(e.h)).next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function uc(){this.i=this.h=null,this.g=[]}function lc(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function cc(){this.mc=this.ah=this.u=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.P=this.T=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new oc,this.h=new uc}function dc(e,t,n,r){oa.call(this),this.O=e,this.Z=t,this.Ea=r.networkingEngine,this.B=n,this.o=null,this.ya=0,this.La=r.Jc,this.F=r.Zi,this.Ma=r.$i,this.g=r.config,this.l=this.G=this.h=null,this.oa=!1,this.H=r.kj,this.sa=!1,this.i=null,this.ka=!1,this.j=this.C=null,this.ea=!1,this.M=new Map,this.za=!1,this.Fa=r.jj,this.$=new cc,this.na=new $i,this.m=new $i,this.P=null,this.u=!1,this.fa=r.Th,this.W=this.K=null,this.Ka=r.Sh,this.T=!1,this.L=[],this.I=[],this.A=!0}function fc(e,t,n){(e=t?e.I:e.L)?e.push(n):n()}function pc(e,t){if(e.P=t,e.T=!0,e.L)for(var n=(t=c(e.L)).next();!n.done;n=t.next())(n=n.value)();e.L=null}function hc(e){if(e.u)throw new Le(2,7,7003)}function gc(e,t){e.dispatchEvent(new ra("onstatechange",(new Map).set("state",t)))}function mc(e,t){var n,r,i,a;return R((function(o){switch(o.g){case 1:if(!e.h||e.i)return o.return();if(gc(e,"drm-engine"),e.ya=Date.now()/1e3,e.i=e.La(),e.F.h=e.i,e.i.configure(e.g.drm,(function(){return e.A})),!wo(e.F,e.h)){o.s(2);break}return n=new ra("trackschanged",void 0),S(o,Promise.resolve(),3);case 3:hc(e),e.dispatchEvent(n);case 2:return r=Ni(e.h.variants),i=!0,e.h&&e.h.presentationTimeline&&"HLS"!=e.h.type&&(i=e.h.presentationTimeline.U()),S(o,Ha(e.i,r,e.h.offlineSessionIds,i),4);case 4:if(hc(e),!t){o.s(5);break}return S(o,e.i.Jb(t),6);case 6:hc(e);case 5:return S(o,bo(e.F,e.h),7);case 7:if(!o.h){o.s(0);break}return a=new ra("trackschanged",void 0),S(o,Promise.resolve(),9);case 9:e.dispatchEvent(a),x(o)}}))}function vc(e,t,n){var r,i,a,o,s;return R((function(u){return 1==u.g?(r=e.g.streaming.segmentPrefetchLimit||2,i=new al(r,t,(function(t,n,r){return _l(t,n,r||null,e.g.streaming.retryParameters,e.Ea,e.A)}),!1),e.M.set(t.id,i),t.segmentIndex?u.s(2):S(u,t.createSegmentIndex(),2)):(a=e.B||0,o=t.segmentIndex.Eb(a),s=null,o&&((s=o.current())||(s=o.next().value)),s||(s=qu(t.segmentIndex)),s?n?s.Y?S(u,ul(i,s.Y),0):u.s(0):S(u,sl(i,s.startTime),0):u.s(0))}))}function yc(e,t){oa.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Hc:null,Gc:Sc,vc:function(e,t){return bc(n,"enter",e,t)}},{Hc:wc,Gc:Sc,vc:function(e,t){return bc(n,"enter",e,t)}},{Hc:xc,Gc:Sc,vc:function(e,t){return bc(n,"enter",e,t)}},{Hc:Sc,Gc:wc,vc:function(e,t){return bc(n,"exit",e,t)}},{Hc:Sc,Gc:xc,vc:function(e,t){return bc(n,"exit",e,t)}},{Hc:wc,Gc:xc,vc:function(e,t){t?bc(n,"skip",e,t):(bc(n,"enter",e,t),bc(n,"exit",e,t))}},{Hc:xc,Gc:wc,vc:function(e,t){return bc(n,"skip",e,t)}}],this.h=new ee,this.h.D(this.i,"regionremove",(function(e){n.g.delete(e.region)}))}function bc(e,t,n,r){t=new ra(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}Ru.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Uu.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},(r=Bu.prototype).ready=function(){var e=this;Pu(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){!function(){if(null==e.g||0==e.g&&1/0!=e.h.duration)e.j=!0;else{var t=e.h.currentTime,n=e.g;0>e.g&&(n=Math.max(0,t+e.g)),t!=n?(e.i.qa(e.h,"seeking",(function(){e.j=!0})),e.h.currentTime=n):e.j=!0}}()}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},r.af=function(e){this.g=this.j?this.g:e},r.Pd=function(){return(this.j?this.h.currentTime:this.g)||0},r.Ag=function(){return 0},r.zg=function(){return 0},r.hh=function(){},(r=Vu.prototype).ready=function(){this.m.ua(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},r.af=function(e){_u(this.h,e)},r.Pd=function(){var e=Nu(this.h);return 0<this.i.readyState&&!this.i.paused?Gu(this,e):e},r.Ag=function(){return this.j.G},r.zg=function(){return this.j.C},r.hh=function(){this.j.se()},(r=Ku.prototype).getNumReferences=function(){return this.g.length},r.getNumEvicted=function(){return this.i},r.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},r.bj=function(){this.o=!0},r.vb=function(e){for(var t=c(this.g),n=t.next();!n.done;n=t.next())e(n.value)},r.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},r.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},r.offset=function(e){if(!this.o)for(var t=c(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},r.me=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter((function(e){return Math.round(1e3*e.startTime)/1e3<t})),this.g.push.apply(this.g,d(e))}},r.yd=function(e,t){var n=this;e=e.filter((function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)})),this.me(e),this.Na(t)},r.Na=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},r.Mc=function(e,t,n){if(n=void 0!==n&&n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&((t=new gs((e=this.g[this.g.length-1]).startTime,t,e.C,e.startByte,e.endByte,e.Y,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey)).mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},r.Je=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new He((function(){var e=t();e?n.g.push.apply(n.g,d(e)):(n.m.stop(),n.m=null)})),this.m.ua(e))},Ku.prototype[Symbol.iterator]=function(){return this.Eb(0)},Ku.prototype.Eb=function(e,t,n){t=void 0!==t&&t,n=void 0!==n&&n;var r=this.find(e);if(null==r)return null;var i=this.get(r);n?r++:r--;var a=-1;if(i&&0<i.g.length)for(var o=i.g.length-1;0<=o;--o){var s=i.g[o];if(e>=s.startTime&&e<s.endTime){if(!t){for(;o&&!s.l;)o--,s=i.g[o];if(!s.l)return X("No independent partial segment found!"),null}n?r--:r++,a=o-1;break}}return new Xu(this,r,a,n)},V("shaka.media.SegmentIndex",Ku),Ku.forSingleSegment=Wu,Ku.prototype.getIteratorForTime=Ku.prototype.Eb,Ku.prototype.updateEvery=Ku.prototype.Je,Ku.prototype.fit=Ku.prototype.Mc,Ku.prototype.evict=Ku.prototype.Na,Ku.prototype.mergeAndEvict=Ku.prototype.yd,Ku.prototype.offset=Ku.prototype.offset,Ku.prototype.get=Ku.prototype.get,Ku.prototype.find=Ku.prototype.find,Ku.prototype.markImmutable=Ku.prototype.bj,Ku.prototype.release=Ku.prototype.release,Ku.prototype.getNumEvicted=Ku.prototype.getNumEvicted,Ku.prototype.getNumReferences=Ku.prototype.getNumReferences,(r=Xu.prototype).cd=function(e){this.reverse=e},r.ci=function(){return this.h},r.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.A&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},r.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.A&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:e=this.current(),done:!e}},r.dg=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},V("shaka.media.SegmentIterator",Xu),Xu.prototype.resetToLastIndependent=Xu.prototype.dg,Xu.prototype.next=Xu.prototype.next,Xu.prototype.current=Xu.prototype.current,Xu.prototype.currentPosition=Xu.prototype.ci,Xu.prototype.setReverse=Xu.prototype.cd,v(Yu,Ku),(r=Yu.prototype).clone=function(){var e=new Yu;return e.h=this.h.slice(),e.i=this.i,e},r.release=function(){for(var e=c(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},r.vb=function(e){for(var t=c(this.h),n=t.next();!n.done;n=t.next())n.value.vb(e)},r.find=function(e){for(var t=this.i,n=c(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},r.get=function(e){for(var t=this.i,n=c(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},r.offset=function(){},r.me=function(){},r.Na=function(e){for(var t=c(this.h),n=t.next();!n.done;n=t.next())n.value.Na(e);for(;1<this.h.length&&0==this.h[0].getNumReferences();)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},r.yd=function(){},r.Mc=function(){},r.Je=function(){},V("shaka.media.MetaSegmentIndex",Yu),Yu.prototype.updateEvery=Yu.prototype.Je,Yu.prototype.fit=Yu.prototype.Mc,Yu.prototype.mergeAndEvict=Yu.prototype.yd,Yu.prototype.evict=Yu.prototype.Na,Yu.prototype.merge=Yu.prototype.me,Yu.prototype.offset=Yu.prototype.offset,Yu.prototype.get=Yu.prototype.get,Yu.prototype.find=Yu.prototype.find,Yu.prototype.forEachTopLevelReference=Yu.prototype.vb,Yu.prototype.release=Yu.prototype.release,$u.prototype.release=function(){this.set(this.sc()),this.h&&(this.h.stop(),this.h=null),this.g=null},$u.prototype.set=function(e){this.i=e,Qu(this)},$u.prototype.sc=function(){return this.g.sc()},Ju.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=c(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},v(el,oa),el.prototype.release=function(){this.g.clear(),oa.prototype.release.call(this)},el.prototype.j=function(e){for(var t=c(this.g.values()),n=t.next();!n.done;n=t.next()){var r=(n=n.value).mf;e:{for(var i=n.Id,a=i.length-1;0<=a;a--){var o=i[a];if(o.position<=e){i=o.Uc;break e}}i=null}a=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),o=i&&r&&i.label&&r.label&&r.label!==i.label;var s=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!fn(r.roles,i.roles),(o||s||r)&&tl(this,e,i.contentType)&&(n.mf=i,r=new ra("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),a&&tl(this,e,i.contentType)&&(n.mf=i,JSON.stringify(i),n=new ra("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}},v(rl,oa),rl.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),oa.prototype.release.call(this)},al.prototype.Na=function(e,t){t=void 0!==t&&t;for(var n=c(this.h.keys()),r=n.next();!r.done;r=n.next())e>(r=r.value).endTime&&pl(this,r);t&&dl(this)},al.prototype.cd=function(e){this.o=e,this.g&&this.g.cd(e)},hl.prototype.abort=function(){this.Ed&&this.Ed.abort()},(r=Sl.prototype).destroy=function(){return this.m.destroy()},r.configure=function(e){if(this.h=e,this.P=new Xi({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.ba&&(cl(t.ba),t.ba=null);for(var n=(t=c(this.o.keys())).next();!n.done;n=t.next())n=n.value,cl(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(Ft))&&t.ba&&(cl(t.ba),t.ba=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.ba&&(cl(t.ba),t.ba=null),n=(t=c(this.i.keys())).next();!n.done;n=t.next())(n=this.i.get(n.value)).ba?(fl(n.ba,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(cl(n.ba),n.ba=null)):0<e.segmentPrefetchLimit&&(n.ba=Cl(this,n.stream));e.disableAudioPrefetch||function(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=c(e.j.variants),i=r.next(),a={};!i.done;a={ub:void 0},i=r.next())if(a.ub=i.value,a.ub.audio)if(e.o.has(a.ub.audio)){if(fl(i=e.o.get(a.ub.audio),t),!(0<t&&n.some(function(e){return function(t){return si(e.ub.audio.language,t)}}(a)))){var o=e.i.get(a.ub.audio.type);i!==(o&&o.ba)&&cl(i),e.o.delete(a.ub.audio)}}else 0>=t||!n.some(function(e){return function(t){return si(e.ub.audio.language,t)}}(a))||!(i=Cl(e,a.ub.audio))||(a.ub.audio.segmentIndex||a.ub.audio.createSegmentIndex(),e.o.set(a.ub.audio,i))}(this)},r.start=function(e){var t=this;return R((function(n){if(1==n.g)return S(n,function(e,t){var n,r,i,a,o,s,u,l,d;return R((function(f){if(1==f.g){if(n=Bt,!e.l)throw new Le(2,5,5006);return r=new Map,i=new Set,e.l.audio&&(r.set(n.V,e.l.audio),i.add(e.l.audio)),e.l.video&&(r.set(n.la,e.l.video),i.add(e.l.video)),e.u&&(r.set(n.va,e.u),i.add(e.u)),S(f,e.g.aa.init(r,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(Sa(e.m),e.updateDuration(),a=c(r.keys()),o=a.next();!o.done;o=a.next())s=o.value,u=r.get(s),e.i.has(s)||(l=Il(e,u),t.has(u.id)&&(ol(d=t.get(u.id),(function(t,n,r){return _l(t,n,r||null,e.h.retryParameters,e.g.Vb)})),l.ba=d),e.i.set(s,l),Ol(e,l,0));x(f)}))}(t,e||new Map),2);Sa(t.m),t.I=!0,x(n)}))},r.Dc=function(){if(this.g){for(var e=this.g.Pc(),t=c(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.aa;if(r==Ft?i=null!=(i=i.h).g&&null!=i.h&&(e>=i.g&&e<i.h):i=Ss(i=uu(i,r),e),!i){if(this.L=0,n.ba&&(n.ba.g=null),"audio"===n.type)for(var a=(i=c(this.o.values())).next();!a.done;a=i.next())a.value.g=null;n.ja=null,(null!=su(this.g.aa,r)||n.Ca)&&El(this,n),n.pb&&(n.pb.abort(),n.pb=null),r===Ft&&((r=this.g.aa).O&&r.O.g()),n.Dc=!0}}"keep"!==this.h.crossBoundaryStrategy&&Hl(this)}},r.updateDuration=function(){var e=Yt(),t=this.j.presentationTimeline.getDuration();1/0>t?(e&&(this.A&&this.A.stop(),fu(this.g.aa)),this.g.aa.$a(t)):e?(this.A&&this.A.ua(.5),this.g.aa.$a(1/0)):this.g.aa.$a(Math.pow(2,32))},V("shaka.util.ConfigUtils",zl),zl.getDifferenceFromConfigObjects=Wl,zl.convertToConfigObject=Kl,zl.mergeConfigObjects=Gl,V("shaka.drm.FairPlay",Xl),Xl.commonFairPlayResponse=function(e,t){if(2===e&&(e=t.originalRequest.drmInfo)&&Ue(e.keySystem)){try{var n=yt(t.data)}catch(i){return}if(e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0),!e)try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(i){}e&&(t.data=Ie(Mt(n)))}},Xl.muxFairPlayRequest=function(e,t){Jl(e,t)},Xl.expressplayFairPlayRequest=function(e,t){if(2===e){var n=t.drmInfo;n&&Ue(n.keySystem)&&Jl(e,t)}},Xl.conaxFairPlayRequest=function(e,t){Jl(e,t)},Xl.ezdrmFairPlayRequest=function(e,t){Jl(e,t)},Xl.verimatrixFairPlayRequest=function(e,t){2===e&&(e=t.drmInfo)&&Ue(e.keySystem)&&(e=Ct(e=Ce(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=St("spc="+e))},Xl.muxInitDataTransform=function(e,t,n){return Ql(e,t,n)},Xl.expressplayInitDataTransform=function(e,t,n){return Ql(e,t,n)},Xl.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=wt(t).split("skd://").pop().split("?").shift(),r=e.atob(r);var i=new ArrayBuffer(2*r.length);i=Me(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return $l(t,i,n)},Xl.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,$l(e,n=wt(e).split(";").pop(),t))},Xl.verimatrixInitDataTransform=function(e,t,n){return Ql(e,t,n)},Xl.initDataTransform=$l,Xl.defaultGetContentId=Yl,Xl.isFairPlaySupported=function(){var e;return R((function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},T(t,2),S(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(E(t),t.return(!1))}))},Zl.prototype.configure=function(e){this.g=e},Zl.prototype.create=function(e){var t;if(this.g.language){var n=function(e,t){t=ci(t);var n=hi(t,e.map((function(e){return pi(e)})));return n?e.filter((function(e){return n==pi(e)})):[]}(e,this.g.language);n.length&&(t=n)}return t||(t=(t=e.filter((function(e){return e.primary}))).length?t:e),e=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(t,this.g.role),e.length&&(t=e),this.g.videoLayout&&(e=function(e,t){return e.filter((function(e){return!e.video||!e.video.videoLayout||e.video.videoLayout==t}))}(t,this.g.videoLayout),e.length&&(t=e)),this.g.Qc&&(e=function(e,t){if("AUTO"==t){var n=e.some((function(e){return!(!e.video||!e.video.hdr||"HLG"!=e.video.hdr)}));t=ht(n)}return e.filter((function(e){return!e.video||!e.video.hdr||e.video.hdr==t}))}(t,this.g.Qc),e.length&&(t=e)),this.g.channelCount&&(e=function(e,t){return e.filter((function(e){return!(e.audio&&e.audio.channelsCount&&e.audio.channelsCount>t)})).sort((function(e,t){return e.audio||t.audio?e.audio?t.audio?(t.audio.channelsCount||0)-(e.audio.channelsCount||0):1:-1:0}))}(t,this.g.channelCount),e.length&&(t=e)),this.g.Ic&&(e=function(e,t){return e.filter((function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.g.Ic),e.length&&(t=e)),this.g.dd&&(e=function(e,t){return e.filter((function(e){return!(!e.video||!e.video.label)&&e.video.label.toLowerCase()==t.toLowerCase()}))}(t,this.g.dd),e.length&&(t=e)),e=function(e,t){return e.filter((function(e){return!e.audio||e.audio.spatialAudio==t}))}(t,this.g.spatialAudio),e.length&&(t=e),this.g.audioCodec&&(e=function(e,t){return e.filter((function(e){return!e.audio||e.audio.codecs==t}))}(t,this.g.audioCodec),e.length&&(t=e)),new co(t[0],t,!("smooth"==this.g.codecSwitchingStrategy&&Xt()))},V("shaka.util.PlayerConfiguration",ec),ec.mergeConfigObjects=rc,ec.createDefaultForLL=nc,ec.createDefault=tc,v(dc,oa),(r=dc.prototype).getStartTime=function(){return this.B},r.Oc=function(){return this.O},r.Hf=function(){return this.h},r.getStats=function(){return this.$},r.Ai=function(){return this.K?Ii(this.K):null},r.zi=function(){return this.W?Ci(this.W):null},r.start=function(){var t=this;!function(){var n;R((function(r){switch(r.g){case 1:return S(r,Promise.resolve(),2);case 2:return T(r,3),S(r,function(e){var t,n,r,i,a,o,s,u,l;return R((function(d){switch(d.g){case 1:if(gc(e,"manifest-parser"),e.l||(e.G=Io(e.O,e.Z),e.l=e.G(),e.l.configure(e.g.manifest,(function(){return e.A}))),t=Date.now()/1e3,gc(e,"manifest"),e.h){d.s(2);break}return S(d,e.l.start(e.O,e.Ma),3);case 3:if(e.h=d.h,1!=e.h.variants.length){d.s(2);break}for(n=[],r=e.h.variants[0],i=c([r.video,r.audio]),a=i.next();!a.done;a=i.next())(o=a.value)&&!o.segmentIndex&&n.push(o.createSegmentIndex());if(!(0<n.length)){d.s(2);break}return S(d,Promise.all(n),2);case 2:return e.na.resolve(),s=new ra("manifestparsed",void 0),S(d,Promise.resolve(),7);case 7:if(e.dispatchEvent(s),0==e.h.variants.length)throw new Le(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.h),u=Date.now()/1e3,l=u-t,e.$.H=l,x(d)}}))}(t),5);case 5:if(hc(t),"webkit"===e.shakaMediaKeysPolyfill){r.s(6);break}return S(r,mc(t),7);case 7:hc(t);case 6:return S(r,function(e){var t,n,r,i,a,o,s;return R((function(u){return e.o||(e.o=e.g.adaptationSetCriteriaFactory(),e.o.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredVariantRole,channelCount:e.g.preferredAudioChannelCount,Qc:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,Ic:e.g.preferredAudioLabel,dd:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:""})),e.Ka&&(t=e.g.abrFactory,e.C=t,e.j=t(),e.j.configure(e.g.abr)),e.fa?(n=e.h.presentationTimeline.U(),r=Ni(e.h.variants),i=e.o.create(r),e.j.configure(e.g.abr),e.j.setVariants(Array.from(i.values())),(a=e.j.chooseVariant())?(o=[],e.K=a,a.video&&o.push(vc(e,a.video,n)),a.audio&&o.push(vc(e,a.audio,n)),(s=_i(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&Fi(a.audio,s,e.g)&&(o.push(vc(e,s,n)),e.W=s),S(u,Promise.all(o),0)):u.s(0)):u.s(0)}))}(t),8);case 8:if(hc(t),!t.fa||!t.i){r.s(9);break}return S(r,function(e){return R((function(t){return 1==t.g?e.K?S(t,e.m,3):t.s(0):S(t,Promise.all(e.T.map((function(e){return e.promise}))),0)}))}(t.i),10);case 10:hc(t);case 9:t.m.resolve(),A(r,0);break;case 3:(n=E(r))instanceof Le&&(7001==n.code||7003==n.code)||t.m.reject(n),x(r)}}))}()},r.dispatchEvent=function(e){return this.P?this.P.dispatchEvent(e):oa.prototype.dispatchEvent.call(this,e)},r.onError=function(e){2===e.severity&&(this.m.reject(e),this.destroy());var t=(new Map).set("detail",e);t=new ra("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)},r.configure=function(e,t){e=Kl(e,t),rc(this.g,e)},r.getConfiguration=function(){return wn(this.g)},r.Lj=function(){return this.m},r.destroy=function(){var e,t,n=this;return R((function(r){switch(r.g){case 1:if(n.u=!0,!n.l||n.oa){r.s(2);break}return S(r,n.l.stop(),2);case 2:if(!n.j||n.ea){r.s(4);break}return S(r,n.j.stop(),4);case 4:if(n.H&&!n.sa&&n.H.release(),!n.i||n.ka){r.s(6);break}return S(r,n.i.destroy(),6);case 6:if(0<n.M.size&&!n.za)for(e=c(n.M.values()),t=e.next();!t.done;t=e.next())cl(t.value);x(r)}}))},V("shaka.media.PreloadManager",dc),dc.prototype.destroy=dc.prototype.destroy,dc.prototype.waitForFinish=dc.prototype.Lj,dc.prototype.getPrefetchedTextTrack=dc.prototype.zi,dc.prototype.getPrefetchedVariantTrack=dc.prototype.Ai,v(yc,oa),yc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,oa.prototype.release.call(this)},yc.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=c(this.i.h.values()),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?wc:e>r.endTime?xc:Sc;this.g.set(r,a);for(var o=c(this.m),s=o.next();!s.done;s=o.next())(s=s.value).Hc==i&&s.Gc==a&&s.vc(r,t)}}};var wc=1,Sc=2,xc=3;function Tc(e,t,n){var r,i,a,o,s,u,l;return R((function(c){switch(c.g){case 1:var d=new le(e).Za.split("/").pop().split(".");return r=1==d.length?"":d.pop().toLowerCase(),(i=kc.get(r))?c.return(i):(a=0,o=fa([e],n),T(c,2),o.method="HEAD",S(c,t.request(a,o).promise,4));case 4:s=c.h,i=s.headers["content-type"],A(c,3);break;case 2:if(!(u=E(c))||1002!=u.code&&1001!=u.code){c.s(3);break}return o.method="GET",S(c,t.request(a,o).promise,6);case 6:l=c.h,i=l.headers["content-type"];case 3:return c.return(i?i.toLowerCase().split(";").shift():"")}}))}var kc=(new Map).set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html");function Ac(e,t){if(e.lineBreak)return"\n";if(e.nestedCues.length)return e.nestedCues.map((function(t){return Ac(t,e)})).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=Sr,i=e.fontStyle==Tr,a=e.textDecoration.includes(Ar);return r&&n.push(["b"]),i&&n.push(["i"]),a&&n.push(["u"]),""==(i=e.color)&&t&&(i=t.color),r="",(i=Ec(i))&&(r+="."+i),""==(i=e.backgroundColor)&&t&&(i=t.backgroundColor),(t=Ec(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight((function(e,t){var n=c(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"}),e.payload)}function Ec(e){var t=(e=e.toLowerCase()).replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Ic(e,t){for(var n=[],r=(e=c(Cc(e))).next();!r.done;r=e.next())if((r=r.value).isContainer)n.push.apply(n,d(Ic(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=Ac(r,t),n.push(i)}return n}function Cc(e){for(var t=[],n=(e=c(e)).next(),r={};!n.done;r={jf:void 0},n=e.next())r.jf=n.value,t.some(function(e){return function(t){return rr(e.jf,t)}}(r))||t.push(r.jf);return t}function Mc(e){function t(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch(r){}return"center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),"vertical-lr"==e.writingMode?n.vertical="lr":"vertical-rl"==e.writingMode&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),n}function Dc(e,t){for(this.h=e,this.i=t,this.g=null,t=(e=c(Array.from(this.h.textTracks))).next();!t.done;t=e.next())"metadata"!==(t=t.value).kind&&"chapters"!==t.kind&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}function Pc(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function Lc(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=c(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function Rc(){}function Nc(t,n){var r=this;document.fullscreenEnabled||Y("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.A=!1,this.h=[],this.j=t,this.C=n,this.u=this.m=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C.appendChild(this.g),this.o=new He((function(){r.j.paused||Uc(r)})),_c(this),this.l=new Map,this.i=new ee,this.i.D(document,"fullscreenchange",(function(){Uc(r,!0)})),this.i.D(this.j,"seeking",(function(){Uc(r,!0)})),this.i.D(this.j,"ratechange",(function(){_c(r)})),this.i.D(this.j,"resize",(function(){var e=r.j,t=e.videoWidth;e=e.videoHeight,r.m=t&&e?t/e:null})),this.B=null,"ResizeObserver"in e&&(this.B=new ResizeObserver((function(){Uc(r,!0)})),this.B.observe(this.g)),this.F=new Map}function _c(e){e.o&&(e.h.length?e.o.ua((e.u?e.u.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.o.stop())}function jc(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function Oc(e,t,n,r,i){for(var a=!1,o=[],s=[],u=(t=c(t)).next();!u.done;u=t.next()){u=u.value,i.push(u);var l=e.l.get(u),d=u.startTime<=r&&u.endTime>r,f=l?l.Mh:null;l&&(o.push(l.lf),l.Cc&&o.push(l.Cc),d||(a=!0,e.l.delete(u),l=null)),d&&(s.push(u),l?jc(e,f)||(a=!0):(Fc(e,u,i),f=(l=e.l.get(u)).Mh,a=!0)),0<u.nestedCues.length&&f&&Oc(e,u.nestedCues,f,r,i),i.pop()}if(a){for(i=(r=c(o)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),r=(s=c(s)).next();!r.done;r=s.next())(r=e.l.get(r.value)).Cc?(r.Cc.contains(n)&&r.Cc.removeChild(n),n.appendChild(r.Cc),r.Cc.appendChild(r.lf)):n.appendChild(r.lf)}}function Uc(e,t){if(e.g){var n=e.j.currentTime;if(!e.A||void 0!==t&&t){for(var r=(t=c(e.F.values())).next();!r.done;r=t.next())Es(r.value);Es(e.g),e.l.clear(),e.F.clear()}e.A&&Oc(e,e.h,e.g,n,[])}}function Fc(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var a=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var a=t.style,o=0==n.nestedCues.length,s=1<r.length;a.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,(function(e){return"\xa0".repeat(e.length)}));if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=Bc(n.linePadding,n,e.C),a.paddingRight=Bc(n.linePadding,n,e.C),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var l=t;else l=document.createElement("span"),t.appendChild(l);n.border&&(l.style.border=n.border),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,(function(e){return e.backgroundColor})))?l.style.backgroundColor=t:u&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(l.textContent=u)}s&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center","left"==n.textAlign||"start"==n.textAlign?(a.width="100%",a.alignItems="start"):"right"!=n.textAlign&&"end"!=n.textAlign||(a.width="100%",a.alignItems="end"),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end");o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=Bc(n.fontSize,n,e.C,e.u?e.u.fontScaleFactor:1),r=n.line,null!=r&&(o=n.lineInterpretation,o==gr&&(o=1,s=16,e.m&&1>e.m&&(s=32),r=0>r?100+r/s*100:r/s*100),1==o&&(a.position="absolute",n.writingMode==hr?(a.width="100%",n.lineAlign==mr?a.top=r+"%":"end"==n.lineAlign&&(a.bottom=100-r+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==mr?a.left=r+"%":"end"==n.lineAlign&&(a.right=100-r+"%")):(a.height="100%",n.lineAlign==mr?a.right=r+"%":"end"==n.lineAlign&&(a.left=100-r+"%")))),a.lineHeight=n.lineHeight,e=function(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==ur?n:"left"===e||"start"===e&&t===pr||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===pr?"line-right":"center"}(n),"line-left"==e?(a.cssFloat="left",null!==n.position&&(a.position="absolute",n.writingMode==hr?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):"line-right"==e?(a.cssFloat="right",null!==n.position&&(a.position="absolute",n.writingMode==hr?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):null!==n.position&&50!=n.position&&(a.position="absolute",n.writingMode==hr?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==hr?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,r),n=null,t.region&&t.region.id){var o=t.region,s=e.m===4/3?2.5:1.9;if(n=o.id+"_"+o.width+"x"+o.height+(o.heightUnits==sn?"%":"px")+"-"+o.viewportAnchorX+"x"+o.viewportAnchorY+(o.viewportAnchorUnits==sn?"%":"px"),e.F.has(n))n=e.F.get(n);else{i=document.createElement("span");var u=o.heightUnits==sn?"%":"px",l=o.widthUnits==sn?"%":"px",c=o.viewportAnchorUnits==sn?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var d=o.height,f=o.width;2===o.heightUnits&&(d=5.33*o.height,u="%"),2===o.widthUnits&&(f=o.width*s,l="%"),i.style.height=d+u,i.style.width=f+l,2===o.viewportAnchorUnits?(s=o.viewportAnchorY/75*100,u=o.viewportAnchorX/(e.m===4/3?160:210)*100,s-=o.regionAnchorY*d/100,u-=o.regionAnchorX*f/100,i.style.top=s+"%",i.style.left=u+"%"):(i.style.top=o.viewportAnchorY-o.regionAnchorY*d/100+c,i.style.left=o.viewportAnchorX-o.regionAnchorX*f/100+c),0!==o.heightUnits&&0!==o.widthUnits&&0!==o.viewportAnchorUnits&&(o=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=o+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent="before"==t.displayAlign?"flex-start":"center"==t.displayAlign?"center":"flex-end",e.F.set(n,i),n=i}}i=a,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.l.set(t,{lf:a,Mh:i,Cc:n})}function Bc(e,t,n,r){r=void 0===r?1:r;var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;switch(e=i.unit,r*=i.value,e){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return r+e}}function Vc(e,t){this.h=e,this.g=t,this.i=void 0,this.u=!1,this.F=!0,this.l=this.B=!1,this.o=this.m=void 0,this.A=0,this.G=!1,this.C=new ee,this.j=null}function Hc(t){return t.g.sessionId||(t.g.sessionId=e.crypto.randomUUID()),{v:t.g.version,sf:t.i,sid:t.g.sessionId,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function zc(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,Hc(e)),n.pr=e.h.eb();var i=n.ot===Yc||n.ot===$c;if(e.B&&i&&(n.bs=!0,n.su=!0,e.B=!1),null==n.su&&(n.su=e.F),n.v===ed&&(e.h.U()&&(n.ltc=e.h.ae()),void 0!=(i=!e.G&&e.o&&e.m?e.o-(e.A||e.m):void 0)&&(n.msd=i,e.G=!0)),e=function(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce((function(e,r){return n.includes(r)&&(e[r]=t[r]),e}),{}):t}(e,n),r)r=function(e){for(var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3},o=(t=c(t)).next();!o.done;o=t.next())o=o.value,i[null!=a[o]?a[o]:1][o]=e[o];for(e=0;e<i.length;e++)(a=Kc(i[e]))&&(n["CMCD-"+r[e]]=a);return n}(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var a=Kc(e);a&&(t.uris=t.uris.map((function(e){return qc(e,a)})))}}}function Gc(e,t){if(!(t=e.h.wb()[t]).length)return 0;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):0}function Kc(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}for(var r,i=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},o=Object.keys(e||{}).sort(),s=(o=c(o)).next();!s.done;s=o.next()){var u=e[s=s.value];if(r=u,!Number.isNaN(r)&&null!=r&&""!==r&&!1!==r&&("v"!==s||1!==u)&&("pr"!=s||1!==u)){var l=a[s];l&&(u=l(u));var d;d="string"===(l=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===l?s:"symbol"===l?s+"="+u.description:s+"="+u,i.push(d)}}return i.join(",")}function qc(e,t){return!t||e.includes("offline:")?e:((e=new le(e)).g.set("CMCD",t),e.toString())}(r=Dc.prototype).configure=function(){},r.remove=function(e,t){return!!this.g&&(Lc(this.g,(function(n){return n.startTime<t&&n.endTime>e})),!0)},r.append=function(e){if(this.g){var t=Ic(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var r=(t=c(t)).next(),i={};!r.done;i={Rc:void 0},r=t.next())i.Rc=r.value,!e.some(function(e){return function(t){return t.startTime==e.Rc.startTime&&t.endTime==e.Rc.endTime&&t.text==e.Rc.payload}}(i))&&i.Rc.payload&&(r=Mc(i.Rc))&&n.push(r);for(t=(e=c(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!t.done;t=e.next())this.g.addCue(t.value)}},r.destroy=function(){return this.g&&(Lc(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},r.isTextVisible=function(){return!!this.g&&"showing"==this.g.mode},r.setTextVisibility=function(e){e&&!this.g&&Pc(this),this.g&&(this.g.mode=e?"showing":"hidden")},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){Pc(this)},V("shaka.text.SimpleTextDisplayer",Dc),Dc.prototype.enableTextDisplayer=Dc.prototype.enableTextDisplayer,Dc.prototype.setTextLanguage=Dc.prototype.setTextLanguage,Dc.prototype.setTextVisibility=Dc.prototype.setTextVisibility,Dc.prototype.isTextVisible=Dc.prototype.isTextVisible,Dc.prototype.destroy=Dc.prototype.destroy,Dc.prototype.append=Dc.prototype.append,Dc.prototype.remove=Dc.prototype.remove,Dc.prototype.configure=Dc.prototype.configure,(r=Rc.prototype).configure=function(){},r.remove=function(){},r.append=function(){},r.destroy=function(){},r.isTextVisible=function(){return!1},r.setTextVisibility=function(){},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){},V("shaka.text.StubTextDisplayer",Rc),Rc.prototype.enableTextDisplayer=Rc.prototype.enableTextDisplayer,Rc.prototype.setTextLanguage=Rc.prototype.setTextLanguage,Rc.prototype.setTextVisibility=Rc.prototype.setTextVisibility,Rc.prototype.isTextVisible=Rc.prototype.isTextVisible,Rc.prototype.destroy=Rc.prototype.destroy,Rc.prototype.append=Rc.prototype.append,Rc.prototype.remove=Rc.prototype.remove,Rc.prototype.configure=Rc.prototype.configure,(r=Nc.prototype).configure=function(e){this.u=e,_c(this),Uc(this,!0)},r.append=function(e){for(var t=[].concat(d(this.h)),n=(e=c(Cc(e))).next(),r={};!n.done;r={kf:void 0},n=e.next())r.kf=n.value,t.some(function(e){return function(t){return rr(t,e.kf)}}(r))||this.h.push(r.kf);this.h.length&&_c(this),Uc(this)},r.destroy=function(){return this.g?(this.C.removeChild(this.g),this.g=null,this.A=!1,this.h=[],this.o&&(this.o.stop(),this.o=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.B&&(this.B.disconnect(),this.B=null),Promise.resolve()):Promise.resolve()},r.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter((function(n){return n.startTime<e||n.endTime>=t})),Uc(this,n>this.h.length),this.h.length||_c(this),!0},r.isTextVisible=function(){return this.A},r.setTextVisibility=function(e){this.A=e,Uc(this,!0)},r.setTextLanguage=function(e){e&&"und"!=e?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},r.enableTextDisplayer=function(){},V("shaka.text.UITextDisplayer",Nc),Nc.prototype.enableTextDisplayer=Nc.prototype.enableTextDisplayer,Nc.prototype.setTextLanguage=Nc.prototype.setTextLanguage,Nc.prototype.setTextVisibility=Nc.prototype.setTextVisibility,Nc.prototype.isTextVisible=Nc.prototype.isTextVisible,Nc.prototype.remove=Nc.prototype.remove,Nc.prototype.destroy=Nc.prototype.destroy,Nc.prototype.append=Nc.prototype.append,Nc.prototype.configure=Nc.prototype.configure,V("shaka.text.WebVttGenerator",(function(){})),Vc.prototype.setMediaElement=function(e){this.j=e,function(e){e.C.qa(e.j,"play",(function(){e.m||(e.m=Date.now())})),e.C.qa(e.j,"playing",(function(){e.o||(e.o=Date.now())}))}(this)},Vc.prototype.configure=function(e){this.g=e};var Wc="m",Xc="a",Yc="v",$c="av",Qc="i",Jc="c",Zc="tt",ed=2,td="d",nd="ld",rd="h",id="lh";function ad(e){this.h=e,this.g=null}function od(e){return!e||"false"!==e.toLowerCase()&&(/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}V("shaka.util.CmcdManager.StreamingFormat",{DASH:td,hk:nd,HLS:rd,ik:id,wk:"s",OTHER:"o"}),(r=ad.prototype).configure=function(e){this.h=e},r.Tg=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(ud)?1e3*this.g.get(ud):null},r.Rg=function(){return this.h.enabled&&this.g&&this.g.has(sd)?1e3*this.g.get(sd):null},r.Ci=function(){return this.h.enabled&&this.g&&this.g.has(ld)?this.g.get(ld):null},r.Di=function(){return this.h.enabled&&this.g&&this.g.has(cd)?this.g.get(cd):null},r.getBandwidthEstimate=function(e){var t=this.Rg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e},V("shaka.util.CmsdManager",ad),ad.prototype.getBandwidthEstimate=ad.prototype.getBandwidthEstimate,ad.prototype.getRoundTripTime=ad.prototype.Di,ad.prototype.getResponseDelay=ad.prototype.Ci,ad.prototype.getEstimatedThroughput=ad.prototype.Rg,ad.prototype.getMaxBitrate=ad.prototype.Tg;var sd="etp",ud="mb",ld="rd",cd="rtt";function dd(){this.g=null,this.h=[]}function fd(e,t){return R((function(n){if(1==n.g)return e.g?S(n,new Promise((function(t){return e.h.push(t)})),2):n.s(2);e.g=t,x(n)}))}function pd(t,n,r){n=void 0===n?null:n,oa.call(this);var i=this;this.m=vf,this.h=null,this.Fe=n,this.na=!1,this.Ue=new ee,this.xd=new ee,this.l=new ee,this.Ma=new ee,this.Qb=new ee,this.G=this.I=this.C=this.F=null,this.Nd=0,this.$=new dd,this.Z=this.Nb=this.T=this.i=this.Ob=this.H=this.j=this.vd=this.O=this.yg=this.fa=this.L=this.Fa=this.za=this.wd=this.M=this.oa=this.K=this.Ka=null,this.sa=!1,this.Ea=this.o=null,this.ye=1e9,this.Te=[],this.Hd=[],this.We=-1,this.g=Hd(this),this.Xe={streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}},this.P=null,this.Od=-1,this.La=null,this.ka={width:1/0,height:1/0},this.ve=new yo(this.g,this.ka,null),this.Pe=[],this.A=null,this.W=this.g.adaptationSetCriteriaFactory(),this.W.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredVariantRole,channelCount:this.g.preferredAudioChannelCount,Qc:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,Ic:this.g.preferredAudioLabel,dd:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),this.Rb=this.g.preferredTextLanguage,this.Fd=this.g.preferredTextRole,this.Dd=this.g.preferForcedSubs,this.zd=[],r&&r(this),this.L=function(e){return new Vc({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},wb:function(){return e.wb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},eb:function(){return e.eb()},xb:function(){return e.xb()},Pb:function(){return e.Pb()},U:function(){return e.U()},ae:function(){return e.ae()}},e.g.cmcd)}(this),this.fa=new ad(this.g.cmsd),this.F=Cd(this),this.F.kg(this.g.streaming.forceHTTP),this.F.lg(this.g.streaming.forceHTTPS),this.F.o=this.g.streaming.minBytesForProgressEvents,this.Sb=this.ea=this.B=null,this.Ze=!1,this.Ye=new He((function(){return R((function(e){return 1==e.g?i.ea?S(e,i.Jb(i.Sb,!0),3):e.s(0):4!=e.g?S(e,i.load(i.ea),4):(i.Ze?i.Sb.pause():i.Sb.play(),i.ea=null,i.Ze=!1,void x(e))}))})),xf&&(this.B=xf(),this.B.configure(this.g.ads),this.Qb.D(this.B,"ad-content-pause-requested",(function(e){var t;return R((function(n){if(1==n.g)return i.Ye.stop(),i.ea?n.s(0):(i.Sb=i.h,i.Ze=i.Sc(),t=e.saveLivePosition||!1,S(n,i.Lg(!0,t),3));i.ea=n.h,x(n)}))})),this.Qb.D(this.B,"ad-content-resume-requested",(function(e){if(e=e.offset||0,i.ea){var t=i.ea;t.B&&e&&(t.B+=e)}i.Ye.da(.1)})),this.Qb.D(this.B,"ad-content-attach-requested",(function(){return R((function(e){return i.h||!i.Sb?e.s(0):S(e,i.Jb(i.Sb,!0),0)}))}))),this.Ue.D(e,"online",(function(){sf(i),i.eg()})),this.He=new He((function(){for(var e=Date.now()/1e3,t=!1,n=!0,r=c(i.i.variants),a=r.next();!a.done;a=r.next())0<(a=a.value).disabledUntilTime&&a.disabledUntilTime<=e&&(a.disabledUntilTime=0,t=!0),0<a.disabledUntilTime&&(n=!1);n&&i.He.stop(),t&&Yd(i,!1,void 0,!1,!1)})),this.ya=null,t&&(ie("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Jb(t,!0)),this.u=null}function hd(e){null!=e.O&&(Kt(e.O),e.O.release(),e.O=null)}function gd(e,t){return new ra(e,t)}function md(e,t){Sf.set(e,t)}function vd(e,t){e.dispatchEvent(gd("onstatechange",(new Map).set("state",t)))}function yd(e,t){var n;return R((function(r){return 1==r.g?(n=++e.Nd,S(r,fd(e.$,t),2)):n!=e.Nd?(e.$.release(),r.return(!0)):r.return(!1)}))}function bd(e,t){var n,r;return t=void 0!==t&&t,R((function(i){if(1==i.g)return n=null,e.i&&e.H&&e.Ob&&e.T?(r=e.h.currentTime,e.U()&&!t&&(r=null),S(i,Sd(e,e.T,r,e.Nb,!0,!1,!1),3)):i.s(2);if(2!=i.g){n=i.h,e.Pe.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var a=n,o=e.H,s=e.Ob;a.h=e.i,a.l=o,a.G=s,a=n,o=e.Ea,a.j=e.o,a.C=o,n.o=e.W,n.start(),e.i=null,e.H=null,e.Ob=null,e.o=null,e.Ea=null}return i.return(n)}))}function wd(e,t,n,r,i){var a,o,s;return i=void 0!==i&&i,R((function(u){return 1==u.g?r?u.s(2):S(u,xd(e,t),3):(2!=u.g&&(r=u.h),function(e,t){if(!ze())return!0;if(t){if(""==(e.h||dt()).canPlayType(t))return!1;if(!ze()||!Co.has(t))return!0;if(Kr(t))return Ze()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if("application/dash+xml"===t||"video/vnd.mpeg.dash.mpd"===t)return e.g.streaming.preferNativeDash}return!1}(e,r)?u.return(null):(a=!1,o=!0,i&&(e.o&&e.Ea==e.g.abrFactory&&(o=!1),e.h&&"AUDIO"===e.h.nodeName&&(a=!0)),s=Sd(e,t,n,r||null,!i,a,o),s=i?s.then((function(e){return e.A=!1,e})):s.then((function(t){return e.Pe.push(t),t})),u.return(s)))}))}function Sd(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,m,v,y,b;return i=void 0===i||i,a=void 0!==a&&a,o=void 0===o||o,R((function(w){return 1==w.g?(s=null,u=wn(e.g),a&&(u.manifest.disableVideo=!0),l=function(){return s.T&&s.u?null:s},d=function(){return l()?l().getConfiguration():e.g},1/0!=e.ka.width||1/0!=e.ka.height||e.g.ignoreHardwareResolution?w.s(2):S(w,pt(),3)):(2!=w.g&&(f=w.h,e.ka.width=f.width,e.ka.height=f.height),p=new yo(u,e.ka,null),h={networkingEngine:e.F,filter:function(e){var t;return R((function(n){return 1==n.g?S(n,bo(p,e),2):4!=n.g?n.h?(t=gd("trackschanged"),S(n,Promise.resolve(),4)):n.s(0):(s.dispatchEvent(t),void x(n))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=c(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=c(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=c(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Yu,l=i.closedCaptions.get(o);s={id:e.ye++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:Ft,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([jr(s,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(e){il(s.H,e)},onEvent:function(e){return s.dispatchEvent(e)},onError:function(e){return s.onError(e)},isLowLatencyMode:function(){return d().streaming.lowLatencyMode},updateDuration:function(){e.j&&s.T&&e.j.updateDuration()},newDrmInfo:function(e){var t=s.i,n=t?t.h:null;n&&t.A&&xo(p,n.keySystem,e)},onManifestUpdated:function(){var t=(new Map).set("isLive",e.U());s.dispatchEvent(gd("manifestupdated",t)),fc(s,!1,(function(){e.B&&e.B.onManifestUpdated(e.U())}))},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(t,n,r,i){var a=t;"com.apple.hls.interstitial"==t&&(a="com.apple.quicktime.HLS",t={startTime:n,endTime:r,values:i},e.B)&&e.B.onHLSInterstitialMetadata(e,e.h,t),t=(i=c(i)).next();for(var o={};!t.done;o={Zf:void 0},t=i.next())o.Zf=t.value,"ID"!=o.Zf.name&&fc(s,!1,function(t){return function(){Id(e,n,r,a,t.Zf)}}(o))},disableStream:function(t){return e.disableStream(t,e.g.streaming.maxDisabledTime)},addFont:function(t,n){return e.addFont(t,n)}},(g=new rl((function(){return e.Ta()}))).addEventListener("regionadd",(function(t){var n=t.region;lf(e,"timelineregionadded",n,s),fc(s,!1,(function(){e.B&&(e.B.onDashTimedMetadata(n),e.B.onDASHInterstitialMetadata(e,e.h,n))}))})),m=null,u.streaming.observeQualityChanges&&((m=new el((function(){return e.wb()}))).addEventListener("qualitychange",(function(t){cf(e,t.quality,t.position)})),m.addEventListener("audiotrackchange",(function(t){cf(e,t.quality,t.position,!0)}))),v=!0,y={Vb:e.F,onError:function(e){return s.onError(e)},re:function(t){fc(s,!0,(function(){if(e.C){var n=t,r=gd("keystatuschanged");e.dispatchEvent(r);var i=Object.keys(n);1==i.length&&""==i[0]&&(i=["00"],n={"00":n[""]}),r=1==i.length&&"00"==i[0];var a=!1;if(i.length){i=e.keySystem();for(var o=Ta(e.g.drm.clearKeys),s=c(e.i.variants),u=s.next();!u.done;u=s.next()){var l=[];(u=u.value).audio&&l.push(u.audio),u.video&&l.push(u.video);for(var d=(l=c(l)).next();!d.done;d=l.next()){var f=d.value;if(d=u.allowedByKeySystem,f.keyIds.size)if(f.drmInfos.length&&!o.size){for(var p=(f=c(f.drmInfos)).next();!p.done;p=f.next())if((p=p.value).keyIds.size&&p.keySystem==i){u.allowedByKeySystem=!0;for(var h=(p=c(p.keyIds)).next();!h.done;h=p.next())h=h.value,((h=n[r?"00":h])||e.C.F)&&(u.allowedByKeySystem=u.allowedByKeySystem&&!!h&&!ko.includes(h))}}else for(u.allowedByKeySystem=!0,p=(f=c(f.keyIds)).next();!p.done;p=f.next())p=p.value,((p=n[r?"00":p])||e.C.F)&&(u.allowedByKeySystem=u.allowedByKeySystem&&!!p&&!ko.includes(p));d!=u.allowedByKeySystem&&(a=!0)}}}a&&(Jd(e),!Xd(e))||(n=e.j.l)&&!n.allowedByKeySystem&&Yd(e)}}))},onExpirationUpdated:function(e,t){var n=gd("expirationupdated");s.dispatchEvent(n),(n=s.l)&&n.onExpirationUpdated&&n.onExpirationUpdated(e,t)},onEvent:function(t){s.dispatchEvent(t),"drmsessionupdate"==t.type&&v&&(v=!1,t=Date.now()/1e3-s.ya,(e.A||s.getStats()).j=t,e.O&&Kt(e.O))}},b=Cd(e,l),da(e.F,b),s=new dc(t,r,n,{config:u,$i:h,kj:g,jj:m,Jc:function(){return e.Jc(y)},Zi:p,networkingEngine:b,Th:i,Sh:o}),w.return(s))}))}function xd(e,t){var n,r;return R((function(i){return 1==i.g?(n=e.g.manifest.retryParameters,S(i,Tc(t,e.F,n),2)):("application/x-mpegurl"==(r=i.h)&&Ze()&&(r="application/vnd.apple.mpegurl"),i.return(r))}))}function Td(e){var t=e.g.textDisplayFactory;t!==e.Ve&&(e.u=t(),e.u.configure?e.u.configure(e.g.textDisplayer):ie("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.Ve=t,e.u.setTextVisibility(e.na))}function kd(e){var t,n,r;return R((function(i){if(1==i.g)return vd(e,"media-source"),e.h.removeAttribute("src"),Es(e.h),Td(e),t=function(e,t,n,r){return new Zs(e,t,n,r)}(e.h,e.u,{si:function(){return e.keySystem()},onMetadata:function(t,n,r){for(var i=(t=c(t)).next();!i.done;i=t.next())if((i=i.value).data&&"number"==typeof i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=c(i.frames),u=s.next();!u.done;u=s.next())Id(e,a,o,"org.id3",u.value);e.B&&e.B.onHlsTimedMetadata(i,a)}},ej:function(t){e.Fa&&il(e.Fa,{schemeIdUri:t.schemeIdUri,startTime:t.startTime,endTime:t.endTime,id:String(t.id),emsg:t})},onEvent:function(t){return e.dispatchEvent(t)},gj:function(){e.H&&e.H.update&&e.H.update()}},e.O),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.Da=r,S(i,t.I,2);e.I=t,x(i)}))}function Ad(e,t,n){function r(){return Kd(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",(function(){var t=e.h.playbackRate;0!=t&&(e.K&&(e.K.set(t),e.m==yf&&e.o.playbackRateChanged(t),Gd(e,t)),t=gd("ratechange"),e.dispatchEvent(t))})),t.remote&&(e.l.D(t.remote,"connect",(function(){return Jd(e)})),e.l.D(t.remote,"connecting",(function(){return Jd(e)})),e.l.D(t.remote,"disconnect",(function(){return R((function(n){if(1==n.g)return e.j&&"disconnected"==t.remote.state?S(n,Vl(e.j),2):n.s(2);Jd(e),x(n)}))}))),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",(function(){return Jd(e)})),e.l.D(t.audioTracks,"removetrack",(function(){return Jd(e)})),e.l.D(t.audioTracks,"change",(function(){return Jd(e)}))),t.textTracks&&(e.l.D(t.textTracks,"addtrack",(function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.l.D(t,"cuechange",(function(){if(t.activeCues)for(var n=c(t.activeCues),r=n.next();!r.done;r=n.next())r=r.value,Id(e,r.startTime,r.endTime,r.type,r.value),e.B&&e.B.onCueMetadataChange(r.value);if(t.cues){n=[];for(var i=(r=c(t.cues)).next(),a={};!i.done;a={$b:void 0},i=r.next())a.$b=i.value,"com.apple.quicktime.HLS"==a.$b.type&&null!=a.$b.startTime&&(i=n.find(function(e){return function(t){return t.startTime==e.$b.startTime&&t.endTime==e.$b.endTime}}(a)),i||(i={startTime:a.$b.startTime,endTime:a.$b.endTime,values:[]},n.push(i)),i.values.push(a.$b.value));for(r=(n=c(n)).next();!r.done;r=n.next())(r=r.value).values.some((function(e){return"X-ASSET-URI"==e.key||"X-ASSET-LIST"==e.key}))&&e.B&&(r.values.push({key:"CUE",description:"",data:0!=r.startTime||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.B.onHLSInterstitialMetadata(e,e.h,r))}}));var n=new He((function(){for(var t=function(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=c(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).qb().da(.5);e.zd.push((function(){n.stop()}))}}(e,t);break;case"chapters":!function(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new He((function(){t.mode="hidden"})).qb().da(.5);e.zd.push((function(){n.stop()}))}}(e,t);break;default:Jd(e)}})),e.l.D(t.textTracks,"removetrack",(function(){return Jd(e)})),e.l.D(t.textTracks,"change",(function(){return Jd(e)})),"keep"!==e.g.streaming.crossBoundaryStrategy&&(e.l.D(t,"waiting",(function(){e.j&&Hl(e.j)})),e.l.D(t,"timeupdate",(function(){e.j&&Hl(e.j)})))),"none"!=t.preload&&e.l.qa(t,"loadedmetadata",(function(){e.A.C=Date.now()/1e3-n}))}function Ed(e,t){t=(new Map).set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(gd("metadata",t))}function Id(e,t,n,r,i){e.za&&((t={schemeIdUri:r,startTime:t,endTime:n||1/0,id:"",payload:i}).id=JSON.stringify(t),il(e.za,t))}function Cd(e,t){function n(n){t()?t().dispatchEvent(n):e.dispatchEvent(n)}function r(e){t()?fc(t(),!0,e):e()}return t||(t=function(){return null}),new la((function(n,r,i,a){var o=t()?t().j:e.o;o&&o.segmentDownloaded(n,r,i,a)}),(function(t,i,a){n(gd("downloadheadersreceived",i=(new Map).set("headers",t).set("request",i).set("requestType",a))),r((function(){if(e.fa){var n=e.fa;if(n.h.enabled){var r=t["cmsd-static"];if(r)try{var i=new Map,a=r.split(",");for(r=0;r<a.length;r++){var o=a[r].split("=");i.set(o[0],od(o[1]))}}catch(d){}if(i=t["cmsd-dynamic"]){try{var s=new Map,u=i.split(";");for(i=1;i<u.length;i++){var l=u[i].split("=");s.set(l[0],od(l[1]))}var c=s}catch(d){c=null}c&&(n.g=c)}}}}))}),(function(e,t){n(gd("downloadcompleted",e=(new Map).set("request",e).set("response",t)))}),(function(e,t,r,i){n(gd("downloadfailed",e=(new Map).set("request",e).set("error",t).set("httpResponseCode",r).set("aborted",i)))}),(function(t,n,i){r((function(){var r=e.L,a=i;if(a=void 0===a?{}:a,r.g.enabled)if("HEAD"===n.method)zc(r,n);else switch(t){case 0:try{if(r.g.enabled){if(a.type){e:{switch(a.type){case 4:var o=r.l?nd:td;break e;case 3:case 2:o=r.l?id:rd;break e;case 5:o="s";break e}o=void 0}r.i=o}zc(r,n,{ot:Wc,su:!r.u})}}catch(C){$("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",C)}break;case va:try{if(r.g.enabled){var s=a.segment;o=0,s&&(o=s.endTime-s.startTime);var u={d:1e3*o,st:r.h.U()?"l":"v"};u.ot=function(e){if(0===e.type)return Qc;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?$c:Yc;if("audio"==t)return Xc;if("text"==t)return"application/mp4"===e.mimeType?Zc:Jc}}(a);var l=u.ot===Yc||u.ot===Xc||u.ot===$c||u.ot===Zc,d=a.stream;if(d){var f=r.h.eb();if(l&&(u.bl=function(e,t){if(!(t=e.h.wb()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):NaN}(r,d.type),u.ot!==Zc)){var p=Gc(r,d.type);u.dl=f?p/Math.abs(f):p}if(d.bandwidth&&(u.br=d.bandwidth/1e3),d.segmentIndex&&s){var h=d.segmentIndex.Eb(s.endTime,!0,0>f);if(h){var g=h.next().value;if(g&&g!=s){if(!fn(s.N(),g.N())){var m=g.N()[0],v=n.uris[0],y=new URL(m),b=new URL(v);if(y.origin!==b.origin)var w=m;else{for(var S=y.pathname.split("/").slice(1),x=b.pathname.split("/").slice(1,-1);S[0]===x[0];)S.shift(),x.shift();for(;x.length;)x.shift(),S.unshift("..");w=S.join("/")}u.nor=w}if((g.startByte||g.endByte)&&(s.startByte!=g.startByte||s.endByte!=g.endByte)){var T=g.startByte+"-";g.endByte&&(T+=g.endByte),u.nrr=T}}}var k=r.h.eb()||1,A=Gc(r,d.type)||500,E=d.bandwidth,I=E?E*(s.endTime-s.startTime)/1e3/(A/k/1e3)*r.g.rtpSafetyFactor:NaN;isNaN(I)||(u.rtp=I)}}l&&u.ot!==Zc&&(u.tb=function(e,t){var n=e.h.Pb();if(!n.length)return NaN;e=n[0];for(var r=(n=c(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Yc:return e.videoBandwidth||NaN;case Xc:return e.audioBandwidth||NaN;default:return e.bandwidth}}(r,u.ot)/1e3),zc(r,n,u)}}catch(C){$("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",C)}break;case 2:case 5:case 6:zc(r,n,{ot:"k"});break;case 4:zc(r,n,{ot:"o"})}}))}),(function(n,r,i,a){(n=t()?t().l:e.H)&&n.banLocation&&n.banLocation(a)}),(function(n,r){if(r.data){r=r.data.byteLength;var i=t()?t().getStats():e.A;i&&(i.mc=isNaN(i.mc)?r:i.mc+r,0===n&&(i.ah=r))}}))}function Md(e,t,n){e.M=new go,e.M.g=mo,Dd(e),zd(e),e.oa=new He((function(){Pd(e)})),e.g.streaming.rebufferingGoal&&e.oa.ua(.25),e.l.D(t,"waiting",(function(){return Pd(e)})),e.l.D(t,"canplaythrough",(function(){return Pd(e)})),e.l.D(t,"playing",(function(){return Pd(e)})),e.l.D(t,"seeked",(function(){return Pd(e)})),n&&(e.l.D(t,"stalled",(function(){return Pd(e)})),e.l.D(t,"progress",(function(){return Pd(e)})),e.l.D(t,"timeupdate",(function(){return Pd(e)})))}function Dd(e){var t=e.g.streaming.rebufferingGoal;e.M.i.set(vo,Math.min(.5,t/2)).set(mo,t)}function Pd(e){switch(e.m){case bf:if(e.Sc())var t=!0;else{var n=ws(e.h.buffered);t=null!=n&&n>=e.h.duration-1}break;case yf:e:if(e.Sc()||iu(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.bc();var r=ws(e.h.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=xs(e.h.buffered,e.h.currentTime);var i=t,a=(n=e.M).i.get(n.g);t=n.g,r=i||r>=a&&0<r?vo:mo,n.g=r,(t=t!=r)&&r===vo&&(n.h=Date.now()),t&&zd(e)}function Ld(e){if(e.ve=new yo(e.g,e.ka,e.C),e.H){var t=wn(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=mf&&So(e.ve,e.i)&&Jd(e)}catch(i){uf(e,i)}e.o&&Xd(e),!(t=e.j.l)||t.allowedByApplication&&t.allowedByKeySystem||Yd(e)}if(e.F&&(e.F.kg(e.g.streaming.forceHTTP),e.F.lg(e.g.streaming.forceHTTPS),e.F.o=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.Da=e.g.manifest.segmentRelativeVttTiming),e.u)if(t=e.g.textDisplayFactory,e.Ve!=t){var n=e.u;if(e.u=t(),e.u.configure?e.u.configure(e.g.textDisplayer):ie("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.u.setTextLanguage||ie("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.u.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.u;n.ea=r,n.h&&(n.h.j=r)}e.Ve=t,e.j&&((n=(t=e.j).i.get(Ft))&&Al(t,n.stream,!0,0,!0))}else e.u.configure&&e.u.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),af(e)),e.M&&Dd(e),e.oa&&(e.g.streaming.rebufferingGoal?e.oa.ua(.25):e.oa.stop()),e.i&&ff(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.B&&e.B.configure(e.g.ads),e.L&&e.L.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}function Rd(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}function Nd(e,t){var n,r;return R((function(i){return 1==i.g?e.m!=yf&&e.m!=bf?i.return(null):(n=e.Te,e.i&&(n=e.i.imageStreams),(r=n[0])?(null!=t&&(r=n.find((function(e){return e.id==t}))),r?r.segmentIndex?i.s(2):S(i,r.createSegmentIndex(),2):i.return(null)):i.return(null)):i.return(r)}))}function _d(e,t,n,r){var i=t.width||0,a=t.height||0,o=i/r.oc,s=a/r.rows,u=r.oc*r.rows,l=e.j-e.startTime;l=e.B||l/u;var c=e.startTime,d=0,f=0;return 1<u&&(f=Math.floor((n-e.startTime)/l),c=e.startTime+f*l,d=f%r.oc*o,f=Math.floor(f/r.oc)*s),r=!1,(n=e.thumbnailSprite)&&(r=!0,s=n.height,d=n.positionX,f=n.positionY,o=n.width),{segment:e,imageHeight:a,imageWidth:i,height:s,positionX:d,positionY:f,startTime:c,duration:l,uris:e.N(),startByte:e.cc(),endByte:e.ac(),width:o,sprite:r,mimeType:e.mimeType||t.mimeType,codecs:e.codecs||t.codecs}}function jd(e,t){e.l.D(t,"cuechange",(function(){e.u.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));for(var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},r=[],i=Array.from(t.activeCues||[]),a=(i=c(i)).next();!a.done;a=i.next()){if(1/0===(a=a.value).endTime||a.endTime<a.startTime)a=null;else{var o=new tr(a.startTime,a.endTime,a.text);o.line="number"===typeof a.line?a.line:null,a.lineAlign&&(o.lineAlign=a.lineAlign),o.lineInterpretation=a.snapToLines?gr:1,o.position="number"===typeof a.position?a.position:null,a.positionAlign&&(o.positionAlign=a.positionAlign),o.size=a.size,o.textAlign=a.align,"lr"===a.vertical?o.writingMode="vertical-lr":"rl"===a.vertical&&(o.writingMode="vertical-rl"),a.region&&(o.region.id=a.region.id,o.region.height=a.region.lines,o.region.heightUnits=2,o.region.regionAnchorX=a.region.regionAnchorX,o.region.regionAnchorY=a.region.regionAnchorY,o.region.scroll=a.region.scroll,o.region.viewportAnchorX=a.region.viewportAnchorX,o.region.viewportAnchorY=a.region.viewportAnchorY,o.region.viewportAnchorUnits=sn,o.region.width=a.region.width,o.region.widthUnits=sn),ir(o),a=o}a&&((o=e.g.mediaSource.modifyCueCallback)&&o(a,null,n),r.push(a))}e.u.append(r)})),t.mode=document.pictureInPictureElement?"showing":"hidden"}function Od(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Ud(e){return Array.from(e.h.textTracks).find((function(e){return"Shaka Player TextTrack"==e.label}))}function Fd(e,t){var n;return R((function(r){switch(r.g){case 1:return T(r,2),S(r,Tc(t,e.F,e.g.streaming.retryParameters),4);case 4:n=r.h,A(r,3);break;case 2:E(r);case 3:if(n)return r.return(n);throw new Le(1,2,2011,t)}}))}function Bd(e,t,n,r){var i,a,o;return R((function(s){if(1==s.g){i=va,(a=fa([t],r)).method="GET";var u=e.L;try{u.g.enabled&&zc(u,a,{ot:Jc,su:!0})}catch(l){$("CMCD_TEXT_ERROR","Could not generate text CMCD data.",l)}return S(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)}))}function Vd(e,t,n,r){var i=Qr(n);if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Ce(t),function(e,t){function n(e){for(var n=e,r=c(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=Ic(e);e="WEBVTT\n\n";for(var i=(r=c(r)).next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case lr:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.payload+"\n\n";return e}(t=n.parseMedia(t,e,null,[]),r);throw new Le(2,2,2014,n)}function Hd(e){var t=tc();return t.streaming.failureCallback=function(t){if(e.U()){var n=null;1001==t.code||1002==t.code?(n=1,e.g.streaming.lowLatencyMode&&(n=.1)):1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.eg(n))}},t.textDisplayFactory=function(){return!e.Fe||Ze()&&!document.fullscreenEnabled?"addTextTrack"in e.h?new Dc(e.h,"Shaka Player TextTrack"):new Rc:new Nc(e.h,e.Fe)},t}function zd(e){var t=e.Of();if(e.A&&e.M&&e.G){if(0==e.g.streaming.rebufferingGoal){var n=e.K;n.j=!1,Qu(n)}else(n=e.K).j=t,Qu(n);if(e.L&&(n=e.L,t||n.u||(n.u=!0),n.u&&t&&(n.B=!0),n.F=t),Kd(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Od<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.P&&(e.P=Math.min(e.P+ ++e.Od*i,n-r))}}t=(new Map).set("buffering",t),e.dispatchEvent(gd("buffering",t))}function Gd(e,t){e.Ma.Pa(),e.Ma.D(e.h,"timeupdate",(function(){var n=e.h.currentTime,r=e.Ta(),i=e.U()?e.g.streaming.safeSeekOffset:0;0<t?Math.floor(n)>=Math.floor(r.end)&&e.ed():Math.floor(n)<=Math.floor(r.start+i)&&e.ed()}))}function Kd(e){if(e.A&&e.M){var t=e.A.g,n="playing";e.M.g==mo?n="buffering":e.Sc()?n="ended":e.h.paused&&(n="paused");var r=n;if(null==t.g)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=(new Map).set("newstate",n),e.dispatchEvent(gd("statechanged",n)))}}function qd(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.Qg();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.Ld(r,!1):1==i&&t!==e.K.sc()&&e.ed()}if(n&&(n=e.Ta(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var o=e.g.streaming.liveSync.targetLatency,s=o+r,u=Math.max(0,o-r),l=e.g.streaming.liveSync.maxPlaybackRate,c=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(o=e.i.serviceDescription.targetLatency,null!=e.i.serviceDescription.targetLatency?s=e.i.serviceDescription.targetLatency+r:null!=e.i.serviceDescription.maxLatency&&(s=e.i.serviceDescription.maxLatency),null!=e.i.serviceDescription.targetLatency?u=Math.max(0,e.i.serviceDescription.targetLatency-r):null!=e.i.serviceDescription.minLatency&&(u=e.i.serviceDescription.minLatency),l=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,c=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.P||"number"!==typeof o||(e.P=o);var d=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.La&&null!==e.P&&"number"===typeof o&&e.Od<d&&Date.now()-e.La>1e3*a&&(a=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.P=Math.max(e.P-(o-a)/2,a+r),e.La=Date.now()),i&&null!==e.P&&(s=e.P+r,u=e.P-r),o=n.end-e.h.currentTime,r=0,e.m==bf&&(0<(i=e.h.buffered).length&&(r=i.end(i.length-1),r=Math.max(l,r-n.end))),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,a=Date.now()-e.M.h,n&&!c&&(c=e.g.streaming.liveSync.minPlaybackRate),n&&c&&a<=i?t!=c&&e.Ld(c,!1):void 0!=s&&l&&o-r>s?(t!=l&&e.Ld(l,!1),e.La=null):void 0!=u&&c&&o-r<u?(t!=c&&e.Ld(c,!1),e.La=null):t!==e.K.sc()&&(e.ed(),e.La=Date.now())}}function Wd(e){if(e.h){var t=function(t,n){var r=void 0===r?Number.EPSILON:r;if(t===n)r=!0;else{var i=Math.abs(t-n);r=i<=r||r!==Number.EPSILON&&Math.abs(i-r)<=Number.EPSILON}return!!((r||n>t)&&e.We<t)&&(e.We=t,!0)},n=e.Ta();if(n=0<(n=n.end-n.start)?e.h.currentTime/n:0,!isNaN(n)){if(t(0,n*=100))var r=gd("started");else t(25,n)?r=gd("firstquartile"):t(50,n)?r=gd("midpoint"):t(75,n)?r=gd("thirdquartile"):(t(100,n)&&(r=gd("complete")),e.g&&1/0!=e.g.playRangeEnd&&e.Sc()&&e.h.pause());r&&e.dispatchEvent(r)}}}function Xd(e){try{To(e.ve,e.i)}catch(n){return uf(e,n),!1}var t=Ni(e.i.variants);return t=e.W.create(t),e.o.setVariants(Array.from(t.values())),!0}function Yd(e,t,n,r,i){var a;t=void 0===t||t,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(a=Xd(e)?e.o.chooseVariant():null)&&$d(e,a,i,t,n,r)}function $d(e,t,n,r,i,a){a=void 0!==a&&a;var o=e.j.l;if(t==o)r&&Tl(e.j,t,r,i,!0);else{var s=e.A.h;if(s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Tl(e.j,t,r,i,a,n),r=null,o&&(r=Ii(o)),(o=Ii(t)).active=!0,e.O&&(i=e.O,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),a=0,s=-1,t.mimeType){case"video/webm":a=1;break;case"video/mp4":a=2}switch(e.Sg()){case"DASH":s=1;break;case"HLS":s=0}i.g&&(i.g.setLevelSwitching(t.id,!0),i.g.setContainerFormat(a),i.j||i.g.setStreamingFormat(s))}n?pf(e,n=gd("adaptation",n=(new Map).set("oldTrack",r).set("newTrack",o))):Zd(e,r,o),ef(e,r,o)}}function Qd(e,t){var n=Array.from(e.h.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),Zd(e,n=Pi(n),t=Pi(t)),ef(e,n,t))}function Jd(e){pf(e,gd("trackschanged")),tf(e)}function Zd(e,t,n){pf(e,t=gd("variantchanged",t=(new Map).set("oldTrack",t).set("newTrack",n)))}function ef(e,t,n){var r=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(r=!0),r&&tf(e)}function tf(e){pf(e,gd("audiotrackschanged"))}function nf(e){pf(e,gd("textchanged"))}function rf(e){pf(e,gd("texttrackvisibility"))}function af(e){e.g.abr.enabled||sf(e),pf(e,gd("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function of(e){var t=e.tc().find((function(e){return e.active}));t&&e.u&&e.u.setTextLanguage&&e.u.setTextLanguage(t.language)}function sf(e,t){if(t=void 0===t||t,e.m==yf){e.He.stop();for(var n=c(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Xd(e)}}function uf(e,t){var n,r,i,a;return R((function(o){switch(o.g){case 1:if(e.m==mf)return o.return();if(1===t.severity&&e.A.K++,n=!0,!(e.sa&&e.i&&e.j)||3016!=t.code&&3014!=t.code&&3015!=t.code&&3018!=t.code){o.s(2);break}return Ze()&&3016==t.code?o.return():(T(o,3),S(o,Vl(e.j),5));case 5:r=o.h,n=!r,r&&(i=gd("mediasourcerecovered"),e.dispatchEvent(i)),A(o,2);break;case 3:E(o),n=!0;case 2:if(!n)return o.return();2===t.severity&&sf(e,!1),a=gd("error",(new Map).set("detail",t)),e.dispatchEvent(a),a.defaultPrevented&&(t.handled=!0),x(o)}}))}function lf(e,t,n,r){r=void 0===r?e:r,e=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(gd(t,e))}function cf(e,t,n,r){r=void 0!==r&&r,t=(new Map).set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(gd(r?"audiotrackchanged":"mediaqualitychanged",t))}function df(e,t){if(t=void 0===t||t,!e.h.error)return t?new Le(2,3,3016):null;var n=e.h.error.code;return t||1!=n?((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new Le(2,3,3016,n,t,e.h.error.message)):null}function ff(e,t,n){0<t&&(e.U()||e.Ah(t)),n<(t=e.getDuration())&&(e.U()||e.$a(n))}function pf(e,t){R((function(n){if(1==n.g)return S(n,Promise.resolve(),2);e.m!=mf&&e.dispatchEvent(t),x(n)}))}function hf(e){for(var t=new Set,n=(e=c(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(ci(n.language)):t.add("und");return t}function gf(e){for(var t=new Map,n=new Map,r=(e=c(e)).next();!r.done;r=e.next()){var i="und",a=[];(r=r.value).language&&(i=ci(r.language)),(a="variant"==r.type?r.audioRoles:r.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=c(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(o,r.label))}var s=[];return t.forEach((function(e,t){for(var r=(e=c(e)).next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}})),s}dd.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null},v(pd,oa),(r=pd.prototype).destroy=function(){var e,t=this;return R((function(n){switch(n.g){case 1:return t.m==mf?n.return():(hd(t),e=t.detach(),t.m=mf,S(n,e,2));case 2:return S(n,t.pf(),3);case 3:if(t.Ue&&(t.Ue.release(),t.Ue=null),t.xd&&(t.xd.release(),t.xd=null),t.l&&(t.l.release(),t.l=null),t.Ma&&(t.Ma.release(),t.Ma=null),t.Qb&&(t.Qb.release(),t.Qb=null),t.Ea=null,t.g=null,t.A=null,t.Fe=null,t.L=null,t.fa=null,!t.F){n.s(4);break}return S(n,t.F.destroy(),5);case 5:t.F=null;case 4:t.o&&(t.o.release(),t.o=null),oa.prototype.release.call(t),x(n)}}))},r.Jb=function(e,t){t=void 0===t||t;var n,r,i,a=this;return R((function(o){switch(o.g){case 1:if(a.m==mf)throw new Le(2,7,7e3);if(n=a.h&&a.h==e,!a.h||a.h==e){o.s(2);break}return S(o,a.detach(),2);case 2:return S(o,yd(a,"attach"),4);case 4:if(o.h)return o.return();if(T(o,5,6),n||(vd(a,"attach"),r=function(){var e=df(a,!1);e&&uf(a,e)},a.xd.D(e,"error",r),a.h=e,a.L&&a.L.setMediaElement(e)),!t||!ze()||a.I){o.s(6);break}return S(o,kd(a),6);case 6:I(o),a.$.release(),C(o,0);break;case 5:return i=E(o),S(o,a.detach(),10);case 10:throw i}}))},r.Uh=function(e){this.yg=e},r.detach=function(e){e=void 0!==e&&e;var t=this;return R((function(n){if(1==n.g){if(t.m==mf)throw new Le(2,7,7e3);return S(n,t.kc(!1,e),2)}if(3!=n.g)return S(n,yd(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.xd.Pa(),t.h=null),vd(t,"detach"),t.B&&!e&&t.B.release()}finally{t.$.release()}x(n)}))},r.kc=function(t,n){t=void 0===t||t,n=void 0!==n&&n;var r,i,a,o,s,u,l,d,f,p,h=this;return R((function(g){switch(g.g){case 1:return h.m!=mf&&(h.m=vf),S(g,yd(h,"unload"),2);case 2:return g.h?g.return():(k(g,3),h.sa=!1,vd(h,"unload"),hd(h),r=h.zd.map((function(e){return e()})),h.zd=[],S(g,Promise.all(r),5));case 5:if(h.dispatchEvent(gd("unloading")),h.wd&&(h.wd.release(),h.wd=null),h.za&&(h.za.release(),h.za=null),h.Fa&&(h.Fa.release(),h.Fa=null),h.h&&(h.l.Pa(),h.Ma.Pa()),h.He.stop(),h.Ka&&(h.Ka.release(),h.Ka=null),h.oa&&(h.oa.stop(),h.oa=null),!h.H){g.s(6);break}return S(g,h.H.stop(),7);case 7:h.H=null,h.Ob=null;case 6:if(!h.o){g.s(8);break}return S(g,h.o.stop(),8);case 8:if(!h.j){g.s(10);break}return S(g,h.j.destroy(),11);case 11:h.j=null;case 10:if(h.K&&(h.K.release(),h.K=null),h.G&&(h.G.release(),h.G=null),"webkit"!==e.shakaMediaKeysPolyfill||!h.C){g.s(12);break}return S(g,h.C.destroy(),13);case 13:h.C=null;case 12:if(!h.I){g.s(14);break}return S(g,h.I.destroy(),15);case 15:h.I=null;case 14:if(h.B&&!n&&h.B.onAssetUnload(),h.ea&&!n&&(h.ea.destroy(),h.ea=null),n||h.Ye.stop(),h.L&&function(e){e.u=!1,e.F=!0,e.B=!1,e.l=!1,e.m=0,e.o=0,e.A=0,e.G=!1,e.j=null,e.C.Pa()}(h.L),h.fa&&(h.fa.g=null),!h.u){g.s(16);break}return S(g,h.u.destroy(),17);case 17:h.u=null;case 16:if(h.h&&(Es(h.h),h.h.src&&(h.h.removeAttribute("src"),h.h.load())),!h.C){g.s(18);break}return S(g,h.C.destroy(),19);case 19:h.C=null;case 18:if(h.ya&&h.T!=h.ya.Oc()&&(h.ya.u||h.ya.destroy(),h.ya=null),h.T=null,h.Nb=null,h.M=null,h.i){for(i=c(h.i.variants),a=i.next();!a.done;a=i.next())for(o=a.value,s=c([o.audio,o.video]),u=s.next();!u.done;u=s.next())(l=u.value)&&l.segmentIndex&&l.segmentIndex.release();for(d=c(h.i.textStreams),f=d.next();!f.done;f=d.next())(p=f.value).segmentIndex&&p.segmentIndex.release()}h.g&&h.g.streaming.clearDecodingCache&&(Bi.clear(),Be.clear()),h.i=null,h.A=new cc,h.Ve=null,h.La=null,h.P=null,h.Od=-1,h.Te=[],h.Hd=[],h.We=-1,h.F&&h.F.Hg(),zd(h);case 3:I(g),h.$.release(),C(g,4);break;case 4:if(t&&ze()&&!h.I&&h.h)return S(g,kd(h),0);g.s(0)}}))},r.Kj=function(e){this.Z=e},r.load=function(t,n,r){n=void 0===n?null:n;var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b=this;return R((function(w){switch(w.g){case 1:if(b.m==mf)throw new Le(2,7,7e3);if(i=null,a="",t instanceof dc){if(t.u)throw new Le(2,7,7006);a=(i=t).Oc()||""}else a=t||"";return S(w,fd(b.$,"load"),2);case 2:if(b.$.release(),!b.h)throw new Le(2,7,7002);if(!b.T){w.s(3);break}return b.T=a,S(w,b.kc(!1),3);case 3:if(o=++b.Nd,s=function(){return R((function(e){if(1==e.g)return b.Nd==o?e.s(0):i?S(e,i.destroy(),3):e.s(3);throw new Le(2,7,7e3)}))},u=function(e,t){return R((function(n){switch(n.g){case 1:return k(n,2),S(n,fd(b.$,t),4);case 4:return S(n,s(),5);case 5:return S(n,e(),6);case 6:return S(n,s(),7);case 7:i&&b.g&&(i.g=b.g);case 2:I(n),b.$.release(),C(n,0)}}))},T(w,5,6),null==n&&i&&(n=i.getStartTime()),b.Z=n,b.sa=!1,b.dispatchEvent(gd("loading")),i){r=i.Z,w.s(8);break}if(r){w.s(8);break}return S(w,u((function(){return R((function(e){if(1==e.g)return S(e,xd(b,a),2);r=e.h,x(e)}))}),"guessMimeType_"),8);case 8:if(l=!!i,i){pc(i,b),b.A=i.getStats(),w.s(11);break}return S(w,wd(b,a,n,r,!0),12);case 12:(i=w.h)?(i.A=!1,pc(i,b),b.A=i.getStats(),i.start(),i.m.catch((function(){}))):b.A=new cc;case 11:return d=!i,f=Date.now()/1e3,b.A=i?i.getStats():new cc,b.T=a,b.Nb=r||null,zd(b),p=function(){var e=b.wb(),t={start:0,end:0};if(e.total.length){t.start=1/0;for(var n=(e=c(e.total)).next();!n.done;n=e.next())(n=n.value).start<t.start&&(t.start=n.start),n.end>t.end&&(t.end=n.end)}return t},b.za=new rl(p),d?S(w,u((function(){return R((function(e){return S(e,function(e,t){var n,r,i,a,o;return R((function(s){return 1==s.g?(n=Bt,r=Date.now()/1e3,i=!0,e.C=e.Jc({Vb:e.F,onError:function(t){uf(e,t)},re:function(){},onExpirationUpdated:function(){var t=gd("expirationupdated");e.dispatchEvent(t)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&i&&(i=!1,e.A.j=Date.now()/1e3-r)}}),e.C.configure(e.g.drm),a={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},(o={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?zr(t):"",codecs:t?Gr(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.la,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}).fullMimeTypes.add(jr(o.mimeType,o.codecs)),t.startsWith("audio/")?(o.type=n.V,a.audio=o):a.video=o,e.C.$=!0,S(s,Ha(e.C,[a],[]),2)):S(s,e.C.Jb(e.h),0)}))}(b,r),0)}))}),"initializeSrcEqualsDrmInner_"),23):(b.Fa=new rl(p),S(w,u((function(){return R((function(e){if(1==e.g)return S(e,Promise.race([i.na,i.m]),2);b.Ob=i.G;var t=i;t.oa=!0,b.H=t.l,b.i=i.Hf(),x(e)}))}),"waitForFinish"),15));case 15:if(b.I){w.s(16);break}return S(w,u((function(){return R((function(e){return S(e,kd(b),0)}))}),"initializeMediaSourceEngineInner_"),16);case 16:return b.i&&b.i.textStreams.length&&(b.u.enableTextDisplayer?b.u.enableTextDisplayer():ie("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),S(w,u((function(){return R((function(e){return S(e,i.m,0)}))}),"waitForFinish"),18);case 18:if(b.g=i.getConfiguration(),b.ve=i.F,b.H&&b.H.setMediaElement&&b.h&&b.H.setMediaElement(b.h),b.wd=function(e){return e.sa=!0,e.H}(i),b.vd=i.Fa,(h=i.o)&&(b.W=h),l&&b.h&&"AUDIO"===b.h.nodeName&&(function(e){for(var t=c(e.i.variants),n=t.next();!n.done;n=t.next())(n=n.value).video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter((function(e){return e.audio}))}(b),b.configure("manifest.disableVideo",!0)),i.i){w.s(19);break}return S(w,u((function(){return R((function(e){return S(e,mc(i,b.h),0)}))}),"drmEngine_.init"),19);case 19:return b.C=function(e){return e.ka=!0,e.i}(i),S(w,u((function(){return R((function(e){return S(e,b.C.Jb(b.h),0)}))}),"drmEngine_.attach"),21);case 21:return!(g=i.C)||b.Ea&&b.Ea==g||(b.o=function(e){return e.ea=!0,e.j}(i),b.Ea=i.C,"function"!=typeof b.o.setMediaElement&&(ie("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),b.o.setMediaElement=function(){}),"function"!=typeof b.o.setCmsdManager&&(ie("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),b.o.setCmsdManager=function(){}),"function"!=typeof b.o.trySuggestStreams&&(ie("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),b.o.trySuggestStreams=function(){})),m=function(e){return e.za=!0,e.M}(i),v=i.K,S(w,u((function(){return R((function(e){return S(e,function(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,T,k,A,E,I,C,M,D,P;return R((function(L){switch(L.g){case 1:for(vd(e,"load"),i=e.h,e.K=new $u({be:function(){return i.playbackRate},sc:function(){return i.defaultPlaybackRate},mg:function(e){i.playbackRate=e},fh:function(e){i.currentTime+=e}}),Ad(e,i,t),a=!1,o=c(e.i.variants),s=o.next();!s.done;s=o.next())u=s.value,(l=u.video&&u.video.dependencyStream)&&(a=qt(l));!function(e,t,n){n||t.lcevc.enabled?(hd(e),null==e.O&&(e.O=new zt(e.h,e.yg,t.lcevc,n),e.I&&(e.I.K=e.O))):hd(e)}(e,e.g,a),e.Rb=e.g.preferredTextLanguage,e.Fd=e.g.preferredTextRole,e.Dd=e.g.preferForcedSubs,ff(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init((function(t,n,r){e.i&&e.j&&t!=e.j.l&&$d(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=function(e){return new Sl(e.i,{Pc:function(){return e.G?e.G.Pd():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},eb:function(){return e.eb()},video:e.h,aa:e.I,Vb:e.F,onError:function(t){return uf(e,t)},onEvent:function(t){return e.dispatchEvent(t)},se:function(t,n,r){var i=t.startTime;if(t=t.endTime,(n=n.type)!=Ft){if(e.G){e.G.hh();var a=ou(e.I,n);!e.U()&&e.h.paused&&!e.h.seeking&&null!=a&&0<a&&e.G.Pd()<a&&e.G.af(a)}Pd(e)}r=(new Map).set("start",i).set("end",t).set("contentType",n).set("isMuxed",r),e.dispatchEvent(gd("segmentappended",r))},fj:function(t,n){(n=n.Uc)&&e.vd&&function(e,t,n){var r=function(e,t){var n=e.g.get(t);return n||(n={Id:[],mf:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.Id;t.Id=i.filter((function(e,t){return!(e.position<=n&&t+1<i.length&&i[t+1].position<=n||e.position>=r)}))}else t.Id=[]}(e,r),e={Uc:t,position:n},0<=(t=(r=r.Id).findIndex((function(e){return e.position>=n})))?r.splice(t,r[t].position==n?1:0,e):r.push(e)}(e.vd,n,t)},Fg:function(t,n){var r=e.C;if(r.g.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new Fa(Ce(n)),n=0;for(var i=c(t.data),a=i.next();!a.done;a=i.next())n+=a.value.length;if(0==n)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,a=(t=c(t.data)).next();!a.done;a=t.next())a=a.value,n.set(a,i),i+=a.length;qa(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(t,n){return e.disableStream(t,n)}})}(e),e.j.configure(e.g.streaming),e.m=yf,e.dispatchEvent(gd("streaming")),d=n;case 2:for((p=e.j.l)||d||(d=Xd(e)?e.o.chooseVariant():null),h=[],g=c([(f=p||d).video,f.audio]),m=g.next();!m.done;m=g.next())(v=m.value)&&!v.segmentIndex&&(h.push(v.createSegmentIndex()),v.dependencyStream&&h.push(v.dependencyStream.createSegmentIndex()));if(!(0<h.length)){L.s(4);break}return S(L,Promise.all(h),4);case 4:if(!f||0!=f.disabledUntilTime){L.s(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(f),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Xe):Y("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.L&&(function(e,t){e.l=t,e.l?e.i==td?e.i=nd:e.i==rd&&(e.i=id):e.i==nd?e.i=td:e.i==id&&(e.i=rd)}(e.L,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),function(e,t){if(e.g&&e.g.enabled&&e.g.version==ed&&e.j&&e.j.autoplay){var n=e.j.play();n&&n.then((function(){e.A=t})).catch((function(){e.A=0}))}}(e.L,1e3*t)),ff(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),function(e,t,n){e.j.presentationTimeline.U()||(e.W=t,e.T=n)}(e.j,e.g.playRangeStart,e.g.playRangeEnd),y=function(t){e.G=function(e,t){return new Vu(e.h,e.i,e.g.streaming,t,(function(){e.Ka&&Zu(e.Ka,!0),e.j&&e.j.Dc(),e.M&&Pd(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t),e.Ka=function(e,t){var n=e.U()||0<t;t=new yc(e.wd,n),t.addEventListener("enter",(function(t){lf(e,"timelineregionenter",t.region)})),t.addEventListener("exit",(function(t){lf(e,"timelineregionexit",t.region)})),t.addEventListener("skip",(function(t){var n=t.region;t.seeking||(lf(e,"timelineregionenter",n),lf(e,"timelineregionexit",n))}));var r=new yc(e.za,n);r.addEventListener("enter",(function(t){Ed(e,t.region)})),n=new yc(e.Fa,n),n.addEventListener("enter",(function(t){t=(new Map).set("detail",t.region.emsg),e.dispatchEvent(gd("emsg",t))}));var i=new Ju(e.h);return i.g.add(t),i.g.add(r),i.g.add(n),e.vd&&i.g.add(e.vd),i}(e,t),Md(e,i,!1)},e.g.streaming.startAtSegmentBoundary||(null==(b=e.Z)&&e.i.startTime&&(b=e.i.startTime),y(b)),p){L.s(7);break}if(!e.g.streaming.startAtSegmentBoundary){L.s(8);break}return w=e.i.presentationTimeline,T=e.Z||e.h.currentTime,null==e.Z&&e.i.startTime&&(T=e.i.startTime),k=w.Fb(),A=w.mb(),T<k?T=k:T>A&&(T=A),S(L,function(e,t){var n,r,i,a,o;return R((function(s){return 1==s.g?(n=e.audio,r=e.video,i=function(e,t){var n,r,i;return R((function(a){return 1==a.g?e?e.segmentIndex?a.s(2):S(a,e.createSegmentIndex(),2):a.return(null):(r=(n=e.segmentIndex.Eb(t))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)}))},S(s,i(n,t),2)):3!=s.g?(a=s.h,S(s,i(r,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(d,T),9);case 9:E=L.h,y(E);case 8:$d(e,d,!0,!1,0);case 7:return e.G.ready(),e.tc().find((function(e){return e.active}))||((I=_i(e.i.textStreams,e.Rb,e.Fd,e.Dd)[0]||null)&&lc(e.A.h,I,!0),d&&(I?(Fi(d.audio,I,e.g)&&(e.na=!0),e.na&&e.u.setTextVisibility(!0)):(e.na=!1,e.u.setTextVisibility(!1)),rf(e)),I&&(e.g.streaming.alwaysStreamText||e.Pf())&&(kl(e.j,I),of(e))),S(L,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),af(e)),Jd(e),Xd(e),e.i.variants.some((function(e){return e.primary})),((C=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(M=function(){return qd(e)},e.l.D(i,"timeupdate",M)),C||(D=function(){return Wd(e)},e.l.D(i,"timeupdate",D),Wd(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(P=function(){var t;return R((function(n){if(1==n.g)return t=e.Ta().end-e.h.currentTime,!isNaN(t)&&t<=e.g.streaming.preloadNextUrlWindow?(e.l.Ia(i,"timeupdate",P),S(n,e.preload(e.i.nextUrl),4)):n.s(0);e.ya=n.h,x(n)}))},e.l.D(i,"timeupdate",P)),e.l.D(i,"ended",(function(){e.load(e.ya||e.i.nextUrl)})))),e.B&&e.B.onManifestUpdated(C),e.sa=!0,x(L)}}))}(b,f,v,m),0)}))}),"loadInner_"),22);case 22:!function(e){if(e.I)for(var t=c(e.I),n=t.next();!n.done;n=t.next())(n=n.value)();e.I=null}(i),b.Nb&&Ze()&&Kr(b.Nb)&&function(t,n,r){t.g&&e.ManagedMediaSource&&t.i&&(t.C&&t.g.removeChild(t.C),t.C=As(n,r),t.g.appendChild(t.C),t.g.disableRemotePlayback=!1)}(b.I,b.T,b.Nb),w.s(14);break;case 23:return S(w,u((function(){return R((function(e){return S(e,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g;return R((function(m){switch(m.g){case 1:if(vd(e,"src-equals"),r=e.h,e.G=new Bu(r),i=!1,e.zd.push((function(){i=!0})),null!=e.Z&&e.G.af(e.Z),e.Ka=function(e,t){t=new yc(e.za,0<t),t.addEventListener("enter",(function(t){Ed(e,t.region)}));var n=new Ju(e.h);return n.g.add(t),n}(e,e.Z||0),e.K=new $u({be:function(){return r.playbackRate},sc:function(){return r.defaultPlaybackRate},mg:function(e){r.playbackRate=e},fh:function(e){r.currentTime+=e}}),Md(e,r,!0),r.textTracks&&(Td(e),a=function(){var t=Od(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="showing"),(t=Ud(e))&&(t.mode="hidden")},o=function(){var t=Od(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="hidden"),t=Ud(e);var n=e.u.isTextVisible();t&&n&&(t.mode="showing")},e.l.D(r,"enterpictureinpicture",(function(){return a()})),e.l.D(r,"leavepictureinpicture",(function(){return o()})),r.remote?(e.l.D(r.remote,"connect",(function(){return o()})),e.l.D(r.remote,"connecting",(function(){return o()})),e.l.D(r.remote,"disconnect",(function(){return o()}))):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return o()})),(s=r).webkitSupportsFullscreen&&e.l.D(s,"webkitpresentationmodechanged",(function(){"inline"!=s.webkitPresentationMode?a():o()}))),Ad(e,r,t),u=function(e,t,n){try{if(!e.g.enabled)return t;var r=Hc(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=Xc;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=$c;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=Wc;break e}i=void 0}return r.ot=i,r.su=!0,qc(t,Kc(r))}catch(o){return $("CMCD_SRC_ERROR","Could not generate src CMCD data.",o),t}}(e.L,e.T,n),!u.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(u+="#t=",0<e.g.playRangeStart&&(u+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(u+=","+e.g.playRangeEnd)),!e.I){m.s(2);break}return S(m,e.I.destroy(),3);case 3:e.I=null;case 2:return Es(r),r.src=u,(We()||Ye())&&r.load(),"none"!=r.preload&&!r.autoplay&&Kr(n)&&Ze()&&r.load(),e.m=bf,e.dispatchEvent(gd("streaming")),l=new $i,Pu(r,HTMLMediaElement.HAVE_METADATA,e.l,(function(){e.G.ready(),l.resolve()})),d=function(){return new Promise((function(t){var n=new He(t);e.l.D(r.textTracks,"change",(function(){return n.da(.5)})),n.da(.5)}))},Pu(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,(function(){var t,n,r,a,o;return R((function(s){if(1==s.g)return S(s,d(),2);if(i)return s.return();for(function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.rh(t,e.g.preferredVariantRole)}(e),(t=Od(e)).some((function(e){return"showing"===e.mode}))&&(e.na=!0,e.u.setTextVisibility(!0)),t.length&&(e.u.enableTextDisplayer?e.u.enableTextDisplayer():ie("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),n=!1,r=c(t),a=r.next();!a.done;a=r.next())"disabled"!==(o=a.value).mode&&(n?(o.mode="disabled",Y("Found more than one enabled text track, disabling it",o)):(jd(e,o),n=!0));!function(e){var t=e.g.preferredTextLanguage;""!=t&&e.hg(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),x(s)}))})),r.error?l.reject(df(e)):"none"==r.preload&&(Y('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),e.l.qa(r,"error",(function(){l.reject(df(e))})),S(m,ai(e.g.streaming.loadTimeout,l),4);case 4:((f=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(p=function(){return qd(e)},e.l.D(r,"timeupdate",p)),f||(h=function(){return Wd(e)},e.l.D(r,"timeupdate",h),Wd(e)),e.B&&(e.B.onManifestUpdated(f),f&&(g=e.Ta().end,e.l.D(r,"progress",(function(){var t=e.Ta().end;g!=t&&(e.B.onManifestUpdated(e.U()),g=t)})))),e.sa=!0,x(m)}}))}(b,f,r),0)}))}),"srcEqualsInner_"),14);case 14:b.dispatchEvent(gd("loaded"));case 6:if(I(w),!i){w.s(25);break}return S(w,i.destroy(),25);case 25:b.ya=null,C(w,0);break;case 5:if(!(y=E(w))||7e3==y.code){w.s(27);break}return S(w,b.kc(!1),27);case 27:throw y}}))},r.Gj=function(e,t){e=void 0===e||e,t=void 0!==t&&t;var n,r=this;return R((function(i){return 1==i.g?S(i,bd(r),2):3!=i.g?(n=i.h,S(i,r.kc(e,t),3)):i.return(n)}))},r.Lg=function(e,t){e=void 0!==e&&e,t=void 0!==t&&t;var n,r=this;return R((function(i){return 1==i.g?S(i,bd(r,t),2):3!=i.g?(n=i.h,S(i,r.detach(e),3)):i.return(n)}))},r.preload=function(e,t,n){t=void 0===t?null:t;var r,i=this;return R((function(a){return 1==a.g?S(a,wd(i,e,t,n),2):((r=a.h)?r.start():uf(i,new Le(2,7,7005)),a.return(r))}))},r.pf=function(){var e,t,n,r,i=this;return R((function(a){for(e=[],t=c(i.Pe),n=t.next();!n.done;n=t.next())(r=n.value).u||e.push(r.destroy());return i.Pe=[],S(a,Promise.all(e),0)}))},r.oj=function(){for(var e=this.$;e.g;)e.release()},r.Jc=function(e){return new Va(e)},r.configure=function(e,t){if(2==arguments.length&&"string"==typeof e&&(e=Kl(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(ie("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(ie("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(ie("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&Ze(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&"boolean"==typeof e.streaming.liveSync){ie("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&(!e.streaming.liveSync||!("targetLatency"in e.streaming.liveSync))&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(ie("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(ie("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(ie("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(ie("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(ie("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(ie("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(ie("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(ie("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){ie("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(ie("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(ie("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(ie("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(ie("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(ie("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(ie("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(ie("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(ie("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(ie("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(ie("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){for(var a in n=!1,e.drm.advanced){var o=e.drm.advanced[a];r=o.videoRobustness,o=o.audioRobustness,"videoRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].videoRobustness)&&(e.drm.advanced[a].videoRobustness=[r],n=!0),"audioRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].audioRobustness)&&(e.drm.advanced[a].audioRobustness=[o],n=!0)}n&&ie("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"crossBoundaryStrategy"in e.streaming&&"keep"!=e.streaming.crossBoundaryStrategy&&(e.streaming.inaccurateManifestTolerance=0),a=rc(this.g,e,Hd(this)),Ld(this),a},r.bi=function(e){this.Xe=e},r.getConfiguration=function(){var e=Hd(this);return rc(e,this.g,Hd(this)),e},r.ki=function(){return this.Xe},r.Ug=function(){return rc(Hd(this),this.g,Hd(this)),Wl(this.g,Hd(this))},r.Qg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.Ta().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},r.sj=function(){for(var e in this.g)delete this.g[e];rc(this.g,Hd(this),Hd(this)),Ld(this)},r.ti=function(){return this.m},r.Sg=function(){return this.i?this.i.type:null},r.xi=function(){return this.h},r.xb=function(){return this.F},r.Oc=function(){return this.T},r.Pg=function(){return this.B?this.B:null},r.U=function(){return this.i&&!this.Oa()?this.i.presentationTimeline.U():!(!this.h||!this.h.src)&&1/0==this.h.duration},r.wc=function(){return!!this.i&&this.i.presentationTimeline.wc()},r.Qi=function(){if(this.i&&!this.Oa()){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Ta=function(){if(this.i&&!this.Oa()){if(!this.sa&&"HLS"==this.i.type)return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Fb(),end:e.mb()}}if(this.h&&this.h.src&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return{start:t,end:e=Math.min(e.end(e.length-1),n)}}return{start:0,end:0}},r.Ni=function(){this.U()&&(this.h.currentTime=this.Ta().end)},r.Ri=function(){return this.sa},r.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},r.drmInfo=function(){return this.C?this.C.h:null},r.nd=function(){return this.C?this.C.nd():1/0},r.Gf=function(){return this.C?this.C.Gf():[]},r.$d=function(){return this.C?this.C.$d():{}},r.Of=function(){return this.M?this.M.g==mo:!!this.T},r.eb=function(){return this.h?this.K?this.K.i:1:0},r.Ld=function(e,t){t=void 0===t||t,0==e?Y("A trick play rate of 0 is unsupported!"):(this.K.set(e),this.m==yf&&(this.o.playbackRateChanged(e),xl(this.j,t&&1<Math.abs(e))),Gd(this,e))},r.ed=function(){var e=this.K.sc();this.m==bf&&this.K.set(e),this.m==yf&&(this.K.set(e),this.o.playbackRateChanged(e),xl(this.j,!1)),this.Ma.Pa()},r.Pb=function(){if(this.i&&!this.Oa()){for(var e=this.j?this.j.l:null,t=[],n=0,r=c(this.i.variants),i=r.next();!i.done;i=r.next())if(Ri(i=i.value)){var a=Ii(i);a.active=i==e,a.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(e){return Pi(e)})):[]},r.tc=function(){if(this.i&&!this.Oa()){for(var e=this.j?this.j.u:null,t=[],n=c(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=Ci(r=r.value);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?Od(this).map((function(e){var t=Li(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="unknown"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t})):[]},r.pi=function(){var e=this.Te;return this.i&&(e=this.i.imageStreams),e.map((function(e){return Mi(e)}))},r.ei=function(e){var t,n,r=this;return R((function(i){return 1==i.g?S(i,Nd(r,e),2):(t=i.h)?(n=[],t.segmentIndex.vb((function(e){var r=Rd(e.tilesLayout||t.tilesLayout);if(r)for(var i=r.rows*r.oc,a=e.j-e.startTime,o=0;o<i;o++){var s=_d(e,t,e.startTime+a*o/i,r);n.push(s)}})),t.closeSegmentIndex&&t.closeSegmentIndex(),i.return(n)):i.return(null)}))},r.Hi=function(e,t){var n,r,i,a,o=this;return R((function(s){return 1==s.g?S(s,Nd(o,e),2):(n=s.h)?null==(r=n.segmentIndex.find(t))?s.return(null):(i=n.segmentIndex.get(r),(a=Rd(i.tilesLayout||n.tilesLayout))?s.return(_d(i,n,t,a)):s.return(null)):s.return(null)}))},r.sh=function(e){var t=this;this.i&&this.G&&(function(){var n=t.i.textStreams.find((function(t){return t.id==e.id}));n&&n!=t.j.u&&(lc(t.A.h,n,!1),kl(t.j,n),nf(t),of(t),t.Rb=n.language)}(),!this.Oa())||function(){if(t.h&&t.h.textTracks){var n=Od(t),r=n.find((function(e){return"disabled"!==e.mode}));(n=n.find((function(t){return Di(t)===e.id})))&&(r!==n&&(r&&(r.mode="disabled",t.l.Ia(r,"cuechange"),t.u.remove(0,1/0)),n&&jd(t,n)),nf(t),of(t))}}()},r.Ce=function(e,t,n){var r=this;t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.G&&(function(){var i=r.i.variants.find((function(t){return t.id==e.id}));if(i&&Ri(i)){var a=r.j.l;r.g.abr.enabled&&(a.video!=i.video||a.audio&&i.audio&&a.audio.language==i.audio.language&&a.audio.channelsCount==i.audio.channelsCount&&a.audio.label==i.audio.label)&&Y("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),r.Oa()?$d(r,i,!1,!1,0):$d(r,i,!1,t||!1,n||0),r.W.configure({language:i.language,role:i.audio&&i.audio.roles&&i.audio.roles[0]||"",channelCount:i.audio&&i.audio.channelsCount?i.audio.channelsCount:0,Qc:i.video&&i.video.hdr?i.video.hdr:"",spatialAudio:!(!i.audio||!i.audio.spatialAudio)&&i.audio.spatialAudio,videoLayout:i.video&&i.video.videoLayout?i.video.videoLayout:"",Ic:i.audio&&i.audio.label?i.audio.label:"",dd:"",codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:i.audio&&i.audio.codecs?i.audio.codecs:""}),Xd(r)}}(),!this.Oa())||function(){if(r.h&&r.h.audioTracks)for(var t=Array.from(r.h.audioTracks),n=(t=c(t)).next();!n.done;n=t.next())if(Di(n=n.value)==e.id){Qd(r,n);break}}()},r.xj=function(e,t){t=void 0===t?0:t;var n=this.Pb();if(n.length){var r=n.find((function(e){return e.active}));r&&(n=n.find((function(t){return t.videoId===r.videoId&&t.language==e.language&&t.label==e.label&&t.audioMimeType==e.mimeType&&t.audioCodec==e.codecs&&t.primary==e.primary&&fn(t.audioRoles,e.roles)&&t.accessibilityPurpose==e.accessibilityPurpose&&t.channelsCount==e.channelsCount&&t.audioSamplingRate==e.audioSamplingRate&&t.spatialAudio==e.spatialAudio})))&&!n.active&&this.Ce(n,!0,t)}},r.getAudioTracks=function(){var e=this.Pb();if(!e.length)return[];var t=e.find((function(e){return e.active}));if(!t)return[];var n=e;if(this.m==yf&&(n=e.filter((function(e){return e.originalVideoId===t.originalVideoId&&e.audioCodec}))),!n.length)return[];e=new Map;for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=(r=r.value).originalAudioId;i||null==r.audioId||(i=String(r.audioId)),i&&e.set(i,{active:r.active,language:r.language,label:r.label,mimeType:r.audioMimeType,codecs:r.audioCodec,primary:r.primary,roles:r.audioRoles||[],accessibilityPurpose:r.accessibilityPurpose,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,originalLanguage:r.originalLanguage})}return Array.from(e.values())},r.gi=function(){return gf(this.Pb())},r.Fi=function(){return gf(this.tc())},r.fi=function(){return Array.from(hf(this.Pb()))},r.Ei=function(){return Array.from(hf(this.tc()))},r.rh=function(e,t,n,r,i,a,o){var s=this;n=void 0===n?0:n,r=void 0===r?0:r,i=void 0===i?"":i,a=void 0!==a&&a,o=void 0===o?"":o,this.i&&this.G&&(function(){function u(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0}s.W=s.g.adaptationSetCriteriaFactory(),s.W.configure({language:e,role:t||"",channelCount:n||0,Qc:"",spatialAudio:a||!1,videoLayout:"",Ic:o||"",dd:"",codecSwitchingStrategy:s.g.mediaSource.codecSwitchingStrategy,audioCodec:i||""});for(var l=s.j.l,d=s.W.create(s.i.variants),f=null,p=(d=c(d.values())).next();!p.done;p=d.next())Ri(p=p.value)&&(!f||u(f,l)>u(p,l))&&(f=p);f!=l&&(f?(l=Ii(f),s.Ce(l,!0,r||0)):Yd(s))}(),!this.Oa())||function(){if(s.h&&s.h.audioTracks){var n=_i(s.Pb(),e,t||"",!1)[0];n&&s.Ce(n)}}()},r.hg=function(e,t,n){var r=this;n=void 0!==n&&n,this.i&&this.G&&(function(){r.Rb=e,r.Fd=t||"",r.Dd=n||!1;var i=_i(r.i.textStreams,r.Rb,r.Fd,r.Dd)[0]||null;i&&i!=r.j.u&&(lc(r.A.h,i,!1),r.g.streaming.alwaysStreamText||r.Pf())&&(kl(r.j,i),nf(r),of(r))}(),!this.Oa())||function(){var i=_i(r.tc(),e,t||"",n||!1)[0];i&&r.sh(i)}()},r.yj=function(e,t,n){var r=this;t=void 0===t||t,n=void 0===n?0:n,this.i&&this.G&&(function(){for(var i=null,a=c(r.i.variants),o=a.next();!o.done;o=a.next())if((o=o.value).audio.label==e){i=o;break}null!=i&&(r.W=r.g.adaptationSetCriteriaFactory(),r.W.configure({language:i.language,role:"",channelCount:0,Qc:"",spatialAudio:!1,videoLayout:"",dd:"",Ic:e,codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),Yd(r,t,n))}(),!this.Oa())||function(){if(r.h&&r.h.audioTracks){for(var t=Array.from(r.h.audioTracks),n=null,i=(t=c(t)).next();!i.done;i=t.next())(i=i.value).label==e&&(n=i);n&&Qd(r,n)}}()},r.Pf=function(){var e=this.na;return this.u?this.u.isTextVisible():e},r.ji=function(){return this.Hd.map((function(e){return Ci(e)}))},r.ii=function(e){if(!this.Hd.length)return[];var t=ci(e);if(!(e=this.Hd.filter((function(e){return ci(e.language)==t}))).length)return[];for(var n=[],r=new Set,i=(e=c(e)).next();!i.done;i=e.next())(i=i.value).segmentIndex&&i.segmentIndex.vb((function(e){var t=e.N()[0],i=e.startTime+"-"+e.endTime+"-"+t;e={id:i,title:t,startTime:e.startTime,endTime:e.endTime},r.has(i)||(n.push(e),r.add(i))}));return n},r.yh=function(e){e=!!e,this.na!=e&&(this.na=e,this.m==yf?(this.u.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.u||0<(e=_i(this.i.textStreams,this.Rb,this.Fd,this.Dd)).length&&(kl(this.j,e[0]),nf(this),of(this)):function(e){var t=e.i.get(Ft);t&&(Ul(t),Fl(t).catch((function(){})),e.F=e.i.get(Ft),e.i.delete(Ft)),e.u=null}(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.u.setTextVisibility(e),rf(this))},r.yi=function(){if(this.G)var e=this.G.Pd();else{if(null==this.Z)return new Date;e=this.Z}if(this.i&&!this.Oa()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.Vg=function(){if(this.i&&!this.Oa()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},r.ce=function(){return this.U()&&this.i?this.i.presentationTimeline.ce():null},r.wb=function(){if(this.m==yf)return this.I.wb();var e={total:[],audio:[],video:[],text:[]};return this.m==bf&&(e.total=Ts(this.h.buffered)),e},r.ae=function(){if(!this.h||!this.h.currentTime)return null;var e=this.Vg().getTime()+1e3*this.h.currentTime;return Math.floor(Date.now()-e)},r.getStats=function(){if(this.m!=yf&&this.m!=bf)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Kd(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.A.P=this.G.zg(),this.A.T=this.G.Ag()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.A.L=Number(n.corruptedVideoFrames)}if(this.C?n=(n=this.C).H?n.H:NaN:n=NaN,this.A.o=n,this.m==yf){if(n=this.j.l,t=this.j.u,n){var i=(r=this.K?this.K.i:1)*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.A.A=i}n&&n.video&&(t=this.A,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.U()&&(n=this.ae()||0,this.A.B=n/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.u=n}this.m==bf&&((n=this.A).mc=isNaN(n.mc)?NaN:n.mc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var a=this.A;e=a.m,n=a.l,t=a.A,r=a.M,i=a.O;for(var o=a.L,s=a.T,u=a.P,l=a.u,d=a.i,f=a.C,p=a.H,h=a.j,g=sc(a.g,"playing"),m=sc(a.g,"paused"),v=sc(a.g,"buffering"),y=a.o,b=a.B,w=a.I,S=a.ah,x=a.mc,T=a.K,k=a.G,A=a.F,E=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=c(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(a.g),I=[],C=(a=c(a.h.g)).next();!C.done;C=a.next())C=C.value,I.push({timestamp:C.timestamp,id:C.id,type:C.type,fromAdaptation:C.fromAdaptation,bandwidth:C.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:o,stallsDetected:s,gapsJumped:u,estimatedBandwidth:l,completionPercent:d,loadLatency:f,manifestTimeSeconds:p,drmTimeSeconds:h,playTime:g,pauseTime:m,bufferingTime:v,licenseTime:y,liveLatency:b,maxSegmentDuration:w,manifestSizeBytes:S,bytesDownloaded:x,nonFatalErrorCount:T,manifestPeriodCount:k,manifestGapCount:A,stateHistory:E,switchHistory:I}},r.Qh=function(e,t,n,r,i,a,o){o=void 0!==o&&o;var s,u,l,c,d,f,p,h,g,m,v,y,b=this;return R((function(w){switch(w.g){case 1:if(b.m!=yf&&b.m!=bf)throw new Le(1,7,7004);if("subtitles"!=n&&"captions"!=n&&Y("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){w.s(2);break}return S(w,Fd(b,e),3);case 3:r=w.h;case 2:if(s=[],b.B&&(s=b.B.getCuePoints()),b.m!=bf){w.s(4);break}return o&&(n="forced"),S(w,function(e,t,n,r,i,a,o){var s,u,l,c;return R((function(d){if(1==d.g)return"text/vtt"!=i||o.length?S(d,Bd(e,t,e.F,e.g.streaming.retryParameters),3):d.s(2);2!=d.g&&(s=d.h,u=Vd(e,s,i,o),l=new Blob([u],{type:"text/vtt"}),t=Tu(l),i="text/vtt"),c=document.createElement("track");var f=e.L,p=t;try{if(f.g.enabled){var h=Hc(f);h.ot=Jc,h.su=!0;var g=qc(p,Kc(h))}else g=p}catch(m){$("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",m),g=p}return c.src=g,c.label=a,c.kind=r,c.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(c),d.return(c)}))}(b,e,t,n,r,a||"",s),5);case 5:if(u=ci(t),l=b.tc(),c=l.find((function(e){return ci(e.language)==u&&e.label==(a||"")&&e.kind==n})))return Jd(b),w.return(c);throw new Le(1,2,2012);case 4:if(d=Bt,f=b.Ta(),p=f.end-f.start,b.i&&(p=b.i.presentationTimeline.getDuration()),1/0==p)throw new Le(1,4,4033);if(!s.length){w.s(6);break}return S(w,Bd(b,e,b.F,b.g.streaming.retryParameters),7);case 7:h=w.h,g=Vd(b,h,r,s),m=new Blob([g],{type:"text/vtt"}),e=Tu(m),r="text/vtt";case 6:if(v={id:b.ye++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Wu(0,p,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:d.va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([jr(r||"",i||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},y=jr(v.mimeType,v.codecs),!Jr(y))throw new Le(2,2,2014,r);return b.i.textStreams.push(v),Jd(b),w.return(Ci(v))}}))},r.Rh=function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x=this;return R((function(T){switch(T.g){case 1:if(x.m!=yf&&x.m!=bf)throw new Le(1,7,7004);if(t){T.s(2);break}return S(T,Fd(x,e),3);case 3:t=T.h;case 2:if("text/vtt"!=t)throw new Le(1,2,2017,e);if(n=Bt,r=x.Ta(),i=r.end-r.start,x.i&&(i=x.i.presentationTimeline.getDuration()),1/0==i)throw new Le(1,4,4045);return S(T,Bd(x,e,x.F,x.g.streaming.retryParameters),4);case 4:if(a=T.h,!(o=Qr(t)))throw new Le(2,2,2014,t);for(s=o(),u={periodStart:0,segmentStart:0,segmentEnd:i,vttOffset:0},l=Ce(a),d=s.parseMedia(l,u,e,[]),f=[],p=c(d),h=p.next(),g={};!h.done;g={Oe:void 0,Kc:void 0},h=p.next())g.Kc=h.value,g.Oe=null,m=function(t){return function(){return null==t.Oe&&(t.Oe=Rt([e],[t.Kc.payload])),t.Oe||[]}}(g),v=new gs(g.Kc.startTime,g.Kc.endTime,m,0,null,null,0,0,1/0),g.Kc.payload.includes("#xywh")&&(4===(y=g.Kc.payload.split("#xywh=")[1].split(",")).length&&v.Ee({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)})),f.push(v);if(b=t,!f.length){T.s(5);break}return S(T,Tc(f[0].N()[0],x.F,x.g.manifest.retryParameters),6);case 6:b=T.h;case 5:return w={id:x.ye++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ku(f),mimeType:b||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.$e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([jr(b||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},x.m==bf?x.Te.push(w):x.i.imageStreams.push(w),Jd(x),T.return(Mi(w))}}))},r.Ph=function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b=this;return R((function(w){switch(w.g){case 1:if(b.m!=yf&&b.m!=bf)throw new Le(1,7,7004);if(n){w.s(2);break}return S(w,Fd(b,e),3);case 3:n=w.h;case 2:if(r=Bt,i=b.Ta(),a=i.end-i.start,b.i&&(a=b.i.presentationTimeline.getDuration()),1/0==a)throw new Le(1,4,4054);return S(w,Bd(b,e,b.F,b.g.streaming.retryParameters),4);case 4:if(o=w.h,!(s=Qr(n)))throw new Le(2,2,2014,n);for(u=s(),l={periodStart:0,segmentStart:0,segmentEnd:a,vttOffset:0},d=Ce(o),f=u.parseMedia(d,l,e,[]),p=[],h=c(f),g=h.next(),m={};!g.done;m={Xd:void 0},g=h.next())m.Xd=g.value,v=new gs(m.Xd.startTime,m.Xd.endTime,function(e){return function(){return[e.Xd.payload]}}(m),0,null,null,0,0,1/0),p.push(v);return y={id:b.ye++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ku(p),mimeType:"text/plain",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:null,type:r.va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([jr("text/plain","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},b.Hd.push(y),Jd(b),w.return(Ci(y))}}))},r.Dj=function(e,t){this.ka.width=e,this.ka.height=t},r.eg=function(e){if(this.m==yf){var t=this.j;if(e=void 0===e?.1:e,t.m.g)t=!1;else if(t.B)t=!1;else{for(var n=c(t.i.values()),r=n.next();!r.done;r=n.next())!(r=r.value).qd||r.Ca||r.ib||(r.qd=!1,Ol(t,r,e));t=!0}}else t=!1;return t},r.Hf=function(){return Y("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.ui=function(){return this.Ob},r.ni=function(){var e={video:null,audio:null,text:null};if(this.m!=yf)return e;for(var t=this.j.l,n=this.h.currentTime,r=(t=c([t.video,t.audio,this.j.u])).next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i={codecs:(i=r.segmentIndex.get(i)).codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},"video"==r.type?(i.width=r.width,i.height=r.height,e.video=i):"audio"==r.type?e.audio=i:r.type==Ft&&(e.text=i)}return e},r.Bh=function(e){this.Fe=e},r.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===mf||!navigator.onLine||0==t||!this.i)return!1;if(this.i.variants.some((function(t){var n=t[e.type];return!(!n||n.id===e.id||t.disabledUntilTime)&&("audio"!=e.type||e.language===n.language)}))){for(var n=!1,r=!1,i=c(this.i.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value)[e.type];o&&(o.id===e.id?(a.disabledUntilTime=Date.now()/1e3+t,n=!0):o.trickModeVideo&&o.trickModeVideo.id==e.id&&(r=!0))}return!(!n&&r)&&(this.He.ua(1),t=this.wb().video.reduce((function(e,t){return e+t.end-t.start}),0),Yd(this,!1,t,!0,!1),!0)}return!1},r.addFont=function(t,n){return function(t,n){var r,i,a,o,s;return R((function(u){if(1==u.g)return"fonts"in document&&"FontFace"in e?S(u,document.fonts.ready,2):u.return();if(!("entries"in document.fonts))return u.return();for(r=function(e){for(var t=[],n=(e=e.entries()).next();!1===n.done;)t.push(n.value),n=e.next();return t},i=c(r(document.fonts)),a=i.next();!a.done;a=i.next())if((o=a.value).family===t&&"swap"===o.display)return u.return();s=new FontFace(t,"url("+n+")",{display:"swap"}),document.fonts.add(s),x(u)}))}(t,n)},r.Oa=function(){return!(!this.h||!this.h.remote)&&"disconnected"!=this.h.remote.state},r.Sc=function(){return!(this.h&&!this.h.ended)||this.sa&&!this.U()&&this.h.currentTime>=this.Ta().end},V("shaka.Player",pd),pd.prototype.isEnded=pd.prototype.Sc,pd.prototype.isRemotePlayback=pd.prototype.Oa,pd.prototype.addFont=pd.prototype.addFont,pd.prototype.setVideoContainer=pd.prototype.Bh,pd.prototype.getFetchedPlaybackInfo=pd.prototype.ni,pd.prototype.getManifestParserFactory=pd.prototype.ui,pd.prototype.getManifest=pd.prototype.Hf,pd.prototype.retryStreaming=pd.prototype.eg,pd.prototype.setMaxHardwareResolution=pd.prototype.Dj,pd.prototype.addChaptersTrack=pd.prototype.Ph,pd.prototype.addThumbnailsTrack=pd.prototype.Rh,pd.prototype.addTextTrackAsync=pd.prototype.Qh,pd.prototype.getStats=pd.prototype.getStats,pd.prototype.getBufferedInfo=pd.prototype.wb,pd.prototype.getSegmentAvailabilityDuration=pd.prototype.ce,pd.prototype.getPresentationStartTimeAsDate=pd.prototype.Vg,pd.prototype.getPlayheadTimeAsDate=pd.prototype.yi,pd.prototype.setTextTrackVisibility=pd.prototype.yh,pd.prototype.getChapters=pd.prototype.ii,pd.prototype.getChaptersTracks=pd.prototype.ji,pd.prototype.isTextTrackVisible=pd.prototype.Pf,pd.prototype.selectVariantsByLabel=pd.prototype.yj,pd.prototype.selectTextLanguage=pd.prototype.hg,pd.prototype.selectAudioLanguage=pd.prototype.rh,pd.prototype.getTextLanguages=pd.prototype.Ei,pd.prototype.getAudioLanguages=pd.prototype.fi,pd.prototype.getTextLanguagesAndRoles=pd.prototype.Fi,pd.prototype.getAudioLanguagesAndRoles=pd.prototype.gi,pd.prototype.getAudioTracks=pd.prototype.getAudioTracks,pd.prototype.selectAudioTrack=pd.prototype.xj,pd.prototype.selectVariantTrack=pd.prototype.Ce,pd.prototype.selectTextTrack=pd.prototype.sh,pd.prototype.getThumbnails=pd.prototype.Hi,pd.prototype.getAllThumbnails=pd.prototype.ei,pd.prototype.getImageTracks=pd.prototype.pi,pd.prototype.getTextTracks=pd.prototype.tc,pd.prototype.getVariantTracks=pd.prototype.Pb,pd.prototype.cancelTrickPlay=pd.prototype.ed,pd.prototype.trickPlay=pd.prototype.Ld,pd.prototype.getPlaybackRate=pd.prototype.eb,pd.prototype.isBuffering=pd.prototype.Of,pd.prototype.getKeyStatuses=pd.prototype.$d,pd.prototype.getActiveSessionsMetadata=pd.prototype.Gf,pd.prototype.getExpiration=pd.prototype.nd,pd.prototype.drmInfo=pd.prototype.drmInfo,pd.prototype.keySystem=pd.prototype.keySystem,pd.prototype.isFullyLoaded=pd.prototype.Ri,pd.prototype.goToLive=pd.prototype.Ni,pd.prototype.seekRange=pd.prototype.Ta,pd.prototype.isAudioOnly=pd.prototype.Qi,pd.prototype.isInProgress=pd.prototype.wc,pd.prototype.isLive=pd.prototype.U,pd.prototype.getAdManager=pd.prototype.Pg,pd.prototype.getAssetUri=pd.prototype.Oc,pd.prototype.getNetworkingEngine=pd.prototype.xb,pd.prototype.getMediaElement=pd.prototype.xi,pd.prototype.getManifestType=pd.prototype.Sg,pd.prototype.getLoadMode=pd.prototype.ti,pd.prototype.resetConfiguration=pd.prototype.sj,pd.prototype.getBufferFullness=pd.prototype.Qg,pd.prototype.getNonDefaultConfiguration=pd.prototype.Ug,pd.prototype.getConfigurationForLowLatency=pd.prototype.ki,pd.prototype.getConfiguration=pd.prototype.getConfiguration,pd.prototype.configurationForLowLatency=pd.prototype.bi,pd.prototype.configure=pd.prototype.configure,pd.prototype.releaseAllMutexes=pd.prototype.oj,pd.prototype.destroyAllPreloads=pd.prototype.pf,pd.prototype.preload=pd.prototype.preload,pd.prototype.detachAndSavePreload=pd.prototype.Lg,pd.prototype.unloadAndSavePreload=pd.prototype.Gj,pd.prototype.load=pd.prototype.load,pd.prototype.updateStartTime=pd.prototype.Kj,pd.prototype.unload=pd.prototype.kc,pd.prototype.detach=pd.prototype.detach,pd.prototype.attachCanvas=pd.prototype.Uh,pd.prototype.attach=pd.prototype.Jb,pd.probeSupport=function(t){var n,r,i,a,o;return t=void 0===t||t,R((function(s){switch(s.g){case 1:if(n={},!t){s.s(2);break}return S(s,function(){var t,n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,k,I,C,M,D,P,L,N,_,j,O,U,F,B;return R((function(V){if(1==V.g){if(t="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.microsoft.playready.recommendation.3000 com.microsoft.playready.recommendation.3000.clearlead com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)){for(n={},r=c(t),i=r.next();!i.done;i=r.next())a=i.value,n[a]=null;return V.return(n)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),u={"com.widevine.alpha":s=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],"com.widevine.alpha.experiment":s,"com.microsoft.playready.recommendation":["150","2000","3000"]},f={videoCapabilities:l=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],audioCapabilities:d=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],initDataTypes:["cenc","sinf","skd","keyids"]},p=[null,"cenc","cbcs","cbcs-1-9"],h=new Map,g=function(e,t){var n,r,i,a,s,u,l,d,f,p,g,m,v;return R((function(y){switch(y.g){case 1:return T(y,2),S(y,t.createMediaKeys(),5);case 5:n=y.h;case 4:A(y,3);break;case 2:return E(y),y.return();case 3:if(i=!!(r=t.getConfiguration().sessionTypes)&&r.includes("persistent-license"),Xe()&&(i=!1),a=t.getConfiguration().videoCapabilities,s=t.getConfiguration().audioCapabilities,u={persistentState:i,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},h.has(e)&&h.get(e)?u=h.get(e):h.set(e,u),(l=a[0].encryptionScheme)&&!u.encryptionSchemes.includes(l)&&u.encryptionSchemes.push(l),(d=a[0].robustness)&&!u.videoRobustnessLevels.includes(d)&&u.videoRobustnessLevels.push(d),(f=s[0].robustness)&&!u.audioRobustnessLevels.includes(f)&&u.audioRobustnessLevels.push(f),"getStatusForPolicy"in n){for(p=[],g=c(o),m=g.next(),v={};!m.done;v={rd:void 0},m=g.next())v.rd=m.value,u.minHdcpVersions.includes(v.rd)||p.push(n.getStatusForPolicy({minHdcpVersion:v.rd}).then(function(e){return function(t){"usable"!=t||u.minHdcpVersions.includes(e.rd)||u.minHdcpVersions.push(e.rd)}}(v)));return S(y,Promise.all(p),0)}y.s(0)}}))},m=function(e,t,n,r){var i,a,o,s,u,l,d,p,h,m;return R((function(v){switch(v.g){case 1:for(T(v,2),i=wn(f),a=c(i.videoCapabilities),o=a.next();!o.done;o=a.next())(s=o.value).encryptionScheme=t,s.robustness=n;for(u=c(i.audioCapabilities),l=u.next();!l.done;l=u.next())(d=l.value).encryptionScheme=t,d.robustness=r;return(p=wn(i)).persistentState="required",p.sessionTypes=["persistent-license"],h=[p,i],ot()?S(v,ai(5,navigator.requestMediaKeySystemAccess(e,h)),7):S(v,navigator.requestMediaKeySystemAccess(e,h),6);case 6:m=v.h,v.s(5);break;case 7:m=v.h;case 5:return S(v,g(e,m),8);case 8:A(v,0);break;case 2:E(v),x(v)}}))},v=function(e,t,n,r){var i,a,o;return R((function(s){switch(s.g){case 1:return T(s,2),i={type:"media-source",video:{contentType:l[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:d[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:e,video:{encryptionScheme:t,robustness:n},audio:{encryptionScheme:t,robustness:r}}},ot()?S(s,ai(5,navigator.mediaCapabilities.decodingInfo(i)),7):S(s,navigator.mediaCapabilities.decodingInfo(i),6);case 6:a=s.h,s.s(5);break;case 7:a=s.h;case 5:return o=a.keySystemAccess,S(s,g(e,o),8);case 8:A(s,0);break;case 2:E(s),x(s)}}))},y=c(t),b=y.next();!b.done;b=y.next())w=b.value,h.set(w,null);for(k=function(e){return"org.w3.clearkey"!==e||!Ze()},I=[],C=c(p),M=C.next();!M.done;M=C.next())for(D=M.value,P=c(t),L=P.next();!L.done;L=P.next())N=L.value,k(N)&&(I.push(m(N,D,"","")),I.push(v(N,D,"","")));for(_=c(t),j=_.next();!j.done;j=_.next())for(O=j.value,U=c(u[O]||[]),F=U.next();!F.done;F=U.next())B=F.value,k(O)&&(I.push(m(O,null,B,"")),I.push(m(O,null,"",B)),I.push(v(O,null,B,"")),I.push(v(O,null,"",B)));return S(V,Promise.all(I),2)}return V.return(ka(h))}))}(),3);case 3:n=s.h;case 2:return r=function(){var e={};if(ze())for(var t=c(Co.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(n=(t=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!n.done;n=t.next())e[n=n.value]=ze()?Co.has(n):Ge(n);return e}(),i=function(){for(var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(d(Xr)),t={},n=(e=c(e)).next();!n.done;n=e.next()){Jr(n=n.value)?t[n]=!0:t[n]=ze()?Wt(n)||!!Mr(n):Ge(n);var r=n.split(";")[0];t[r]=t[r]||t[n]}return t}(),S(s,pt(),4);case 4:return a=s.h,o={manifest:r,media:i,drm:n,hardwareResolution:a},Sf.forEach((function(e,t){o[t]=e()})),s.return(o)}}))},pd.isBrowserSupported=function(){return e.Promise||Y("A Promise implementation or polyfill is required"),!(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||lt("Trident/"))&&(!!ze()||Ge("application/x-mpegurl"))},pd.setAdManagerFactory=function(e){xf=e},pd.registerSupportPlugin=md,pd.prototype.destroy=pd.prototype.destroy;var mf=0,vf=1,yf=2,bf=3;pd.LoadMode={DESTROYED:mf,NOT_LOADED:vf,MEDIA_SOURCE:yf,SRC_EQUALS:bf},pd.version="v4.14.12";var wf=["4","14"];se=new function(e){this.g=e,this.i=ae,this.h=oe}(new re(Number(wf[0]),Number(wf[1])));var Sf=new Map,xf=null;function Tf(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function kf(e){return e.g.length?e.g.reduce((function(e,t){return e+t}),0)/e.g.length:0}function Af(e,t,n){var r=this;this.g=e,this.h=t,this.m=n,this.i=!1,this.j=this.h.getVolume(),this.l=new ee,this.l.D(this.h,google.ima.AdEvent.Type.PAUSED,(function(){r.i=!0})),this.l.D(this.h,google.ima.AdEvent.Type.RESUMED,(function(){r.i=!1}))}function Ef(){}function If(e,t){for(var n=[],r=(e=c(Cn(e,"Ad"))).next();!r.done;r=e.next())if((r=Ln(r.value,"InLine"))&&(r=Ln(r,"Creatives")))for(var i=(r=c(Cn(r,"Creative"))).next();!i.done;i=r.next()){var a=Ln(i=i.value,"Linear");if(a&&Cf(n,t,a),i=Ln(i,"NonLinearAds"))for(var o=(i=c(i=Cn(i,"NonLinear"))).next();!o.done;o=i.next())e:{a=n;var s=t,u=o.value,l=Ln(u,"StaticResource");if(l)o=l.attributes.creativeType;else{if(!(l=Ln(u,"HTMLResource")))break e;o="text/html"}if(l=Dn(l)){"text/html"===o&&(l="data:text/html;charset=UTF-8,"+encodeURIComponent(l));var d=Nn(u,"width",Vn)||Nn(u,"expandedWidth",Vn),f=Nn(u,"height",Vn)||Nn(u,"expandedHeight",Vn);if(d||f){var p=null;(u=u.attributes.minSuggestedDuration)&&(p=yn(u)),u=0,null!=s&&(u=s),a.push({id:null,groupId:null,startTime:u,endTime:null,uri:l,mimeType:o,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:p,once:!0,pre:null==s,post:1/0==s,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:d||0,y:f||0}},displayOnBackground:!1,currentVideo:null,background:null})}}}}return n}function Cf(e,t,n){var r=0;null!=t&&(r=t);var i=null;if(n.attributes.skipoffset&&(i=yn(n.attributes.skipoffset),isNaN(i)&&(i=null)),n=Ln(n,"MediaFiles")){var a=Cn(n,"MediaFile");for(n=a,(a=a.filter((function(e){return"streaming"==e.attributes.delivery}))).length&&(n=a),n=n.sort((function(e,t){return(parseInt(t.attributes.height,10)||0)-(parseInt(e.attributes.height,10)||0)})),a=(n=c(n)).next();!a.done;a=n.next())if(!(a=a.value).attributes.apiFramework){var o=Dn(a);if(o){e.push({id:null,groupId:null,startTime:r,endTime:null,uri:o,mimeType:a.attributes.type||null,isSkippable:null!=i,skipOffset:i,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:null==t,post:1/0==t,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});break}}}}function Mf(t,n,r,i,a){var o=this;this.u=t,this.i=n,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=a,this.j=null,this.h=new ee,google.ima.settings.setLocale(r),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.u,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.14.12"),this.g=null,this.B=i||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){!function(t,n){if(t.l(new ra("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.G))),t.o.customPlayheadTracker){var r={currentTime:t.i.currentTime};t.g=n.getAdsManager(r,t.B),t.i.muted?t.g.setVolume(0):t.g.setVolume(t.i.volume),t.h.D(t.i,"timeupdate",(function(){t.i.duration&&(r.currentTime=t.i.currentTime)})),t.h.D(t.i,"volumechange",(function(){t.j&&(t.j.setVolume(t.i.volume),t.i.muted&&t.j.setMuted(!0))}))}else t.g=n.getAdsManager(t.i,t.B);t.l(new ra("ima-ad-manager-loaded",(new Map).set("imaAdManager",t.g)));var i=t.g.getCuePoints();if(i.length){n=[];for(var a=(i=c(i)).next();!a.done;a=i.next())n.push({start:a.value,end:null});t.l(new ra("ad-cue-points-changed",(new Map).set("cuepoints",n)))}!function(e){function t(t,n){t=(new Map).set("originalEvent",t),e.l(new ra(n,t))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Df(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Pf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,(function(t){Pf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(e){t(e,"ad-first-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,(function(e){t(e,"ad-midpoint")})),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(e){t(e,"ad-third-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,(function(e){t(e,"ad-complete")})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Lf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Lf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,(function(e){t(e,"ad-skipped")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(e){t(e,"ad-volume-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(e){t(e,"ad-muted")})),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,(function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))})),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,(function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(n){e.j&&t(n,"ad-skip-state-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,(function(e){t(e,"ad-clicked")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(e){t(e,"ad-progress")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(e){t(e,"ad-buffering")})),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,(function(e){t(e,"ad-impression")})),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(e){t(e,"ad-duration-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,(function(e){t(e,"ad-closed")})),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,(function(e){t(e,"ad-loaded")})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){t(e,"all-ads-completed")})),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(e){t(e,"ad-linear-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,(function(e){t(e,"ad-metadata")})),e.h.D(e.g,google.ima.AdEvent.Type.LOG,(function(e){t(e,"ad-recoverable-error")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(e){t(e,"ad-break-ready")})),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,(function(e){t(e,"ad-interaction")}))}(t);try{t.g.init(t.i.offsetWidth,t.i.offsetHeight),t.h.D(t.i,"loadeddata",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight)})),"ResizeObserver"in e?(t.A=new ResizeObserver((function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight)})),t.A.observe(t.i)):t.h.D(document,"fullscreenchange",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight)})),t.F||t.o.skipPlayDetection?t.g.start():t.h.qa(t.i,"play",(function(){t.F=!0,t.g.start()}))}catch(o){Lf(t,null)}}(o,t)})),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){Df(o,e)})),this.h.D(this.i,"ended",(function(){o.m.contentComplete()})),this.h.qa(this.i,"play",(function(){o.F=!0}))}function Df(e,t){t.getError(),t=(new Map).set("originalEvent",t),e.l(new ra("ad-error",t)),Lf(e,null),e.l(new ra("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Pf(e,t){var n=t.getAd();n?(e.j=new Af(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new ra("ad-content-pause-requested")),t=(new Map).set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new ra("ad-started",t)),e.j.isLinear()&&(e.u.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?((t=e.j).j=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):Y("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Lf(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new ra("ad-content-resume-requested")),e.l(new ra("ad-stopped",(new Map).set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.u.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function Rf(e,t,n,r,i,a){this.g=e,this.i=t,this.j=(this.h=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.A=n,this.o=r,this.m=i,this.u=a,this.B=t.overlay}function Nf(e,t,n){this.g=e,this.j=t,this.h=n,this.i=null==e.overlay}function _f(e,t,n,r){var i=this;this.T=null,this.A=e,this.H=t,this.g=n,this.F=null,this.B=!0,this.h=this.g,this.i=r,this.W=new Set,this.G=new Set,this.C=new Map,this.L=new Map,this.j=new pd,Kf(this),this.I=new ee,this.l=new ee,this.K=!1,this.ea=this.m=this.u=this.o=null,this.fa=!1,this.O=-1,this.$=function(){if(!i.K&&i.o&&!i.H.Oa()){i.o=i.g.currentTime,i.u&&!i.u.pre&&!i.u.post&&i.o<i.u.startTime&&(i.u=null);var e=Bf(i);e&&Vf(i,e,1,1,Date.now())}},this.Z=function(){if(!(i.K||i.o||i.H.Oa())){i.o=i.g.currentTime;var e=Bf(i,!0);e&&Vf(i,e,1,1,Date.now())}},this.P=new He(this.$),this.M=new He((function(){var e,t,n,r,a,o,s,u,l,d,f;return R((function(p){switch(p.g){case 1:if(!i.G.size||null==i.o){p.s(0);break}if((e=i.H.m)==mf||e==vf)return p.return();t=!1,n=Array.from(i.G),r=i.H.Ta(),a=c(n),o=a.next();case 3:if(o.done){p.s(5);break}if((s=o.value)==i.u){p.s(4);break}if(u=s.endTime||s.startTime,!(1<=r.start-u)){0<(l=s.startTime-i.o)&&10>=l&&(!i.C.has(s)&&Wf(s)&&i.C.set(s,i.j.preload(s.uri,null,s.mimeType||void 0)),Xf(i,s)),p.s(4);break}if(!i.C.has(s)){p.s(7);break}return S(p,i.C.get(s),8);case 8:(d=p.h)&&d.destroy(),i.C.delete(s);case 7:Yf(i,s),f=JSON.stringify(s),i.W.has(f)&&i.W.delete(f),i.G.delete(s),jf(i),s.overlay||(t=!0);case 4:o=a.next(),p.s(3);break;case 5:t&&Gf(i),x(p)}}))}))}function jf(e){e.fa&&!e.G.size&&(e.I.Ia(e.g,"playing",e.Z),e.I.Ia(e.g,"timeupdate",e.Z),e.I.Ia(e.g,"ended",e.$),-1!=e.O&&(e.g.cancelVideoFrameCallback(e.O),e.O=-1),e.P&&e.P.stop(),e.M&&e.M.stop(),e.fa=!1)}function Of(e){if(e.A&&e.T&&!e.K){var t=e.T.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.B==t&&(e.B=!t,e.B?(e.h=e.g,e.F&&(e.F.parentElement&&e.A.removeChild(e.F),e.F=null)):(e.F||((t=document.createElement(e.g.tagName)).autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.F=t),e.h=e.F))}}function Uf(e,t){var n;R((function(r){if(1==r.g)return Kf(e),S(r,function(e,t){var n,r,i,a,o,s,u,l,c,d,f,p,h,g,m,v,y,b,w,x,k,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z,G,K,q,W;return R((function(R){switch(R.g){case 1:if(n=[],!t)return R.return(n);if(r=t.values.find((function(e){return"X-ASSET-URI"==e.key})),i=t.values.find((function(e){return"X-ASSET-LIST"==e.key})),!r&&!i)return R.return(n);if(a=null,(o=t.values.find((function(e){return"ID"==e.key})))&&(a=o.data),s=null==a?Math.floor(10*t.startTime)/10:t.startTime,(u=t.endTime)&&1/0!=t.endTime&&"number"==typeof t.endTime&&(u=null==a?Math.floor(10*t.endTime)/10:t.endTime),l=t.values.find((function(e){return"X-RESTRICT"==e.key})),d=c=!0,l&&l.data&&(f=l.data,c=!f.includes("SKIP"),d=!f.includes("JUMP")),p=c?0:null,(h=t.values.find((function(e){return"X-ENABLE-SKIP-AFTER"==e.key})))&&(g=h.data,p=parseFloat(g),isNaN(p)&&(p=c?0:null)),m=null,(v=t.values.find((function(e){return"X-ENABLE-SKIP-FOR"==e.key})))&&(y=v.data,m=parseFloat(y),isNaN(p)&&(m=null)),b=null,(w=t.values.find((function(e){return"X-RESUME-OFFSET"==e.key})))&&(x=w.data,b=parseFloat(x),isNaN(b)&&(b=null)),k=null,(I=t.values.find((function(e){return"X-PLAYOUT-LIMIT"==e.key})))&&(C=I.data,k=parseFloat(C),isNaN(k)&&(k=null)),P=D=M=!1,(L=t.values.find((function(e){return"CUE"==e.key})))&&(N=L.data,M=N.includes("ONCE"),D=N.includes("PRE"),P=N.includes("POST")),_=!1,(j=t.values.find((function(e){return"X-TIMELINE-OCCUPIES"==e.key})))?(O=j.data,_=O.includes("RANGE")):!w&&e.H.U()&&(_=!D&&!P),r){if(!(U=r.data))return R.return(n);n.push({id:a,groupId:null,startTime:s,endTime:u,uri:U,mimeType:null,isSkippable:c,skipOffset:p,skipFor:m,canJump:d,resumeOffset:b,playoutLimit:k,once:M,pre:D,post:P,timelineRange:_,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}),R.s(2);break}if(!i){R.s(2);break}return(F=i.data)?(T(R,4),S(R,qf(e,F,{type:11}),6)):R.return(n);case 6:for(B=R.h,V=yt(B),H=JSON.parse(V),(z=H["SKIP-CONTROL"])&&("number"==typeof(G=z["ENABLE-SKIP-AFTER"])&&(p=parseFloat(G),isNaN(G)&&(p=c?0:null)),"number"==typeof(K=z["ENABLE-SKIP-FOR"])&&(m=parseFloat(K),isNaN(K)&&(m=null))),q=0;q<H.ASSETS.length;q++)(W=H.ASSETS[q]).URI&&n.push({id:a+"_shaka_asset_"+q,groupId:a,startTime:s,endTime:u,uri:W.URI,mimeType:null,isSkippable:c,skipOffset:p,skipFor:m,canJump:d,resumeOffset:b,playoutLimit:k,once:M,pre:D,post:P,timelineRange:_,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});A(R,2);break;case 4:E(R);case 2:return R.return(n)}}))}(e,t),2);(n=r.h).length?Ff(e,n):Y("Unsupported HLS interstitial",t),x(r)}))}function Ff(e,t){var n,r,i,a,o,s,u,l;R((function(d){switch(d.g){case 1:n=!1,r=c(t),i=r.next();case 2:if(i.done){d.s(4);break}if(!(a=i.value).uri){Y("Missing URL in interstitial",a),d.s(3);break}if(a.mimeType){d.s(5);break}return T(d,6),o=e.j.xb(),S(d,Tc(a.uri,o,e.H.getConfiguration().streaming.retryParameters),8);case 8:a.mimeType=d.h,A(d,5);break;case 6:E(d);case 5:if(s=a.id||JSON.stringify(a),e.W.has(s)){d.s(3);break}a.loop&&!a.overlay&&Y("Loop is only supported in overlay interstitials",a),a.overlay||(n=!0),e.W.add(s),e.G.add(a),u=!1,a.pre&&null==e.o?u=!0:0!=a.startTime||a.canJump?null!=e.o&&(0<(l=a.startTime-e.o)&&10>=l&&(u=!0)):u=!0,u&&(!e.C.has(a)&&Wf(a)&&e.C.set(a,e.j.preload(a.uri,null,a.mimeType||void 0)),Xf(e,a));case 3:i=r.next(),d.s(2);break;case 4:n&&Gf(e),function(e){if(!e.fa&&e.G.size){if(e.I.D(e.g,"playing",e.Z),e.I.D(e.g,"timeupdate",e.Z),e.I.D(e.g,"ended",e.$),"requestVideoFrameCallback"in e.g&&!ut()){var t=e.g,n=function(){-1!=e.O&&(e.$(),-1!=e.O&&(e.O=t.requestVideoFrameCallback(n)))};e.O=t.requestVideoFrameCallback(n)}else e.P.ua(.025);e.M&&e.M.ua(1),e.fa=!0}}(e),x(d)}}))}function Bf(e,t,n){t=void 0!==t&&t,n=void 0===n?null:n;var r=0,i=null;if(e.G.size&&null!=e.o){var a=e.g.ended,o=Array.from(e.G).sort((function(e,t){return t.startTime-e.startTime})),s=o;for(s=t?o.filter((function(e){return e.pre})):a?o.filter((function(e){return e.post})):o.filter((function(e){return!e.pre&&!e.post})),s=(o=c(s)).next();!s.done;s=o.next()){s=s.value;var u=!1;if(t)u=s.pre;else if(a)u=s.post;else if(!s.pre&&!s.post){var l=e.o-Math.round(1e3*s.startTime)/1e3;0<l&&(1>=l||!s.canJump)&&(u=!(null==n&&e.u&&!e.u.pre&&!e.u.post&&e.u.startTime>=s.startTime))}u&&(!e.u||s.startTime>=e.u.startTime)&&(r==(n||0)?i=s:i&&!s.canJump&&.001<Math.round(1e3*s.startTime)/1e3-Math.round(1e3*i.startTime)/1e3&&(i=s,r=0),r++)}}return i}function Vf(e,t,n,r,i,a){a=void 0===a?0:a,e.u=t,Of(e),!e.h.parentElement&&e.A&&e.A.appendChild(e.h),1==r&&1==n&&(n=Array.from(e.G).filter((function(e){return t.pre?e.pre==t.pre:t.post?e.post==t.post:.001>Math.abs(e.startTime-t.startTime)})).length),t.once&&(a++,e.G.delete(t),jf(e),t.overlay||Gf(e)),t.mimeType&&(t.mimeType.startsWith("image/")||"text/html"===t.mimeType)?t.overlay?function(e,t,n,r,i){function a(){e.m&&(e.m.stop(),e.m=null),e.A.removeChild(u),zf(e,t),e.i(new ra("ad-stopped"));var a=Bf(e,t.pre,r-i);a?(e.l.Pa(),Vf(e,a,n,++r,Date.now(),i)):e.K=!1}var o=t.overlay,s="text/html"==t.mimeType?"iframe":"img",u=document.createElement(s);u.style.objectFit="contain",u.style.position="absolute",u.style.border="none",Hf(e,t),e.i(new ra("ad-started",(new Map).set("ad",new Nf(t,n,r)))),"iframe"==s?u.src=t.uri:(u.src=t.uri,u.onerror=function(t){e.i(new ra("ad-error",(new Map).set("originalEvent",t))),a()});var l=o.viewport,c=o.topLeft;o=o.size,0==l.x&&0==l.y?(u.width=t.overlay.size.x,u.height=t.overlay.size.y,u.style.bottom="10%",u.style.left="0",u.style.right="0",u.style.width="100%",t.overlay.size.y||"iframe"!=s||(u.style.height="auto")):(u.style.height=o.y/l.y*100+"%",u.style.left=c.x/l.x*100+"%",u.style.top=c.y/l.y*100+"%",u.style.width=o.x/l.x*100+"%"),e.A.appendChild(u);var d=Date.now();e.m&&e.m.stop(),e.m=new He((function(){t.playoutLimit&&(Date.now()-d)/1e3>t.playoutLimit||t.endTime&&e.g.currentTime>t.endTime?(e.i(new ra("ad-complete")),a()):e.g.currentTime<t.startTime&&(e.i(new ra("ad-skipped")),a())})),t.playoutLimit&&!t.endTime?e.m.da(t.playoutLimit):t.endTime&&e.m.ua(.025),e.l.D(e.g,"seeked",(function(){var n=e.g.currentTime;(n<t.startTime||t.endTime&&n>t.endTime)&&(e.m&&e.m.stop(),e.i(new ra("ad-skipped")),a())}))}(e,t,n,r,a):Y("Unsupported interstitial",t):e.B&&t.overlay?Y("Unsupported interstitial",t):function(e,t,n,r,i,a){var o,s,u,l,c,d,f,p,h,g,m,v,y,b,w,k,I;R((function(C){switch(C.g){case 1:if(o=Date.now(),e.K=!0,!e.B||1!=r){C.s(2);break}return e.i(new ra("ad-content-pause-requested",(new Map).set("saveLivePosition",!0))),s=new $i,u=function(t){return R((function(n){if(1==n.g)return"detach"!=t.state?n.s(0):ut()?S(n,new Promise((function(e){return new He(e).da(.1)})),3):n.s(3);s.resolve(),e.l.Ia(e.H,"onstatechange",u),x(n)}))},e.l.D(e.H,"onstatechange",u),S(C,s,2);case 2:return Hf(e,t),e.B||(e.h.style.display="",t.overlay?(e.h.loop=t.loop,l=t.overlay.viewport,c=t.overlay.topLeft,d=t.overlay.size,e.h.style.height=d.y/l.y*100+"%",e.h.style.left=c.x/l.x*100+"%",e.h.style.top=c.y/l.y*100+"%",e.h.style.width=d.x/l.x*100+"%"):(e.g.pause(),null!=t.resumeOffset&&0!=t.resumeOffset&&(e.g.currentTime+=t.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),f=!1,p=function(){if(!e.B&&!t.overlay&&null==t.resumeOffset)if(t.timelineRange&&t.endTime&&1/0!=t.endTime)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var n=Date.now();e.g.currentTime+=(n-i)/1e3,i=n}},h=function(o){var s,u;return R((function(l){if(1==l.g){if(p(),s=Bf(e,t.pre,r-a),o&&t.groupId)for(;s&&s.groupId==t.groupId;)r++,s=Bf(e,t.pre,r-a);return e.m&&(!t.groupId||s&&s.groupId!=t.groupId)&&(e.m.stop(),e.m=null),zf(e,t),s&&!s.overlay?l.s(2):(t.post&&(e.o=null,e.u=null),e.B?S(l,e.j.detach(),4):S(l,e.j.kc(),4))}2!=l.g&&(e.B&&(null==(u=t.resumeOffset)&&(u=t.timelineRange&&t.endTime&&1/0!=t.endTime?t.endTime-(e.o||0):(Date.now()-i)/1e3),e.i(new ra("ad-content-resume-requested",(new Map).set("offset",u)))),e.i(new ra("ad-stopped")),e.l.Pa(),e.K=!1,e.B?Gf(e):(e.h.style.display="none",p(),e.g.ended||e.g.play())),Of(e),s&&(e.i(new ra("ad-stopped")),e.l.Pa(),Vf(e,s,n,++r,i,a)),x(l)}))},g=function(t){return R((function(n){return f?n.return():(f=!0,e.i(new ra("ad-error",(new Map).set("originalEvent",t))),S(n,h(!1),0))}))},m=function(){return R((function(t){if(1==t.g)return f?t.return():(f=!0,S(t,h(!1),2));e.i(new ra("ad-complete")),x(t)}))},e.ea=function(){return R((function(t){return f?t.return():(f=!0,e.i(new ra("ad-skipped")),S(t,h(!0),0))}))},v=new Rf(e.h,t,e.ea,n,r,!e.B),e.B||(v.setMuted(e.g.muted),v.setVolume(e.g.volume)),e.i(new ra("ad-started",(new Map).set("ad",v))),(y=v.canSkipNow())&&e.i(new ra("ad-skip-state-changed")),e.l.qa(e.j,"error",g),e.l.D(e.h,"timeupdate",(function(){if(e.h.duration){var t=v.canSkipNow();y!=t&&0<v.getRemainingTime()&&0<v.getDuration()&&e.i(new ra("ad-skip-state-changed")),y=t}})),e.l.qa(e.j,"firstquartile",(function(){p(),e.i(new ra("ad-first-quartile"))})),e.l.qa(e.j,"midpoint",(function(){p(),e.i(new ra("ad-midpoint"))})),e.l.qa(e.j,"thirdquartile",(function(){p(),e.i(new ra("ad-third-quartile"))})),e.l.qa(e.j,"complete",m),e.l.D(e.h,"play",(function(){e.i(new ra("ad-resumed"))})),e.l.D(e.h,"pause",(function(){var t=e.j.getConfiguration();e.h.currentTime>=t.playRangeEnd?m():e.i(new ra("ad-paused"))})),e.l.D(e.h,"volumechange",(function(){e.h.muted?e.i(new ra("ad-muted")):e.i(new ra("ad-volume-changed"))})),T(C,4),Kf(e),t.startTime&&t.endTime&&1/0!=t.endTime&&t.startTime!=t.endTime&&(0<(b=t.endTime-t.startTime)&&e.j.configure("playRangeEnd",b)),t.playoutLimit&&!e.m&&(e.m=new He((function(){e.ea()})).da(t.playoutLimit),e.j.configure("playRangeEnd",t.playoutLimit)),S(C,e.j.Jb(e.h),6);case 6:return e.C.has(t)?S(C,e.C.get(t),10):S(C,e.j.load(t.uri,null,t.mimeType||void 0),8);case 10:return w=C.h,e.C.delete(t),S(C,w?e.j.load(w):e.j.load(t.uri,null,t.mimeType||void 0),8);case 8:e.h.play(),k=(Date.now()-o)/1e3,e.i(new ra("ads-loaded",(new Map).set("loadTime",k))),e.B&&e.g.play(),t.overlay&&(e.l.D(e.g,"seeking",(function(){var n=e.g.currentTime-t.startTime;.1<Math.abs(n-e.h.currentTime)&&(e.h.currentTime=n)})),e.l.D(e.g,"seeked",(function(){var n=e.g.currentTime;(n<t.startTime||t.endTime&&n>t.endTime)&&e.ea()}))),A(C,0);break;case 4:if(I=E(C),!e.K)return C.return();g(I),x(C)}}))}(e,t,n,r,i,a)}function Hf(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),null!=t.currentVideo){var n=t.currentVideo;e.g.style.transformOrigin="top left";var r=!0,i=[],a=n.topLeft.x/n.viewport.x*100;0<a&&100>=a&&(i.push("translateX("+a+"%)"),r=!1),0<(a=n.topLeft.y/n.viewport.y*100)&&100>=a&&(i.push("translateY("+a+"%)"),r=!1),1>(a=n.size.x/n.viewport.x)&&i.push("scaleX("+a+")"),n=n.size.y/n.viewport.y,1>a&&i.push("scaleY("+n+")"),i.length&&(e.g.style.transform=i.join(" ")),r&&(e.g.style.transition="transform 250ms")}e.A&&(e.A.style.pointerEvents="none",t.background&&(e.A.style.background=t.background)),e.F&&(e.F.style.background=t.overlay?"":"rgb(0, 0, 0)")}function zf(e,t){t&&!t.displayOnBackground||(e.g.style.zIndex=""),t&&null==t.currentVideo||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.A&&(e.A.style.pointerEvents="",!t||t.background)&&(e.A.style.background=""),e.F&&(e.F.style.background="")}function Gf(e){for(var t=[],n=c(e.G),r=n.next(),i={};!r.done;i={Yb:void 0},r=n.next())(r=r.value).overlay||(i.Yb={start:r.startTime,end:null},r.pre?(i.Yb.start=0,i.Yb.end=null):r.post?(i.Yb.start=-1,i.Yb.end=null):r.timelineRange&&(i.Yb.end=r.endTime),t.find(function(e){return function(t){return e.Yb.start==t.start&&e.Yb.end==t.end}}(i))||t.push(i.Yb));e.i(new ra("ad-cue-points-changed",(new Map).set("cuepoints",t)))}function Kf(e){e.j.configure(e.H.Ug()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),e.j.configure("playRangeEnd",1/0),da(e.H.xb(),e.j.xb())}function qf(e,t,n){var r,i;return R((function(a){return 1==a.g?(r=fa([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),S(a,e.H.xb().request(7,r,n).promise,2)):(i=a.h,a.return(i.data))}))}function Wf(e){return!(e=e.mimeType)||!e.startsWith("image/")&&"text/html"!==e}function Xf(e,t){if(!(e.L.has(t)||e.T&&!e.T.allowPreloadOnDomElements)){var n=function(e){var t=document.createElement("link");return t.rel="preload",t.href=e,t.as="image",document.head.appendChild(t),t},r=[];if(t.background){var i=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);i&&r.push(n(i[2]))}t.mimeType.startsWith("image/")&&r.push(n(t.uri)),e.L.set(t,r)}}function Yf(e,t){if(e.L.has(t)){for(var n=e.L.get(t),r=(n=c(n)).next();!r.done;r=n.next())(r=r.value).parentNode.removeChild(r);e.L.delete(t)}}function $f(e,t,n,r,i){this.h=e,this.j=yn(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}function Qf(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.o=new ee}function Jf(e,t){var n,r,i,a,o,s,u,l;R((function(c){return 1==c.g?t.staticResource?(n=Zf(t),e.F.get(n)?c.return():(r={type:9},i=fa([t.staticResource],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),T(c,2),e.F.set(n,[]),S(c,a.promise,4))):c.return():2!=c.g?(o=c.h,s=yt(o.data),u=JSON.parse(s),l=u.apps,e.F.set(n,l),A(c,0)):(E(c),e.F.delete(n),void x(c))}))}function Zf(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function ep(e){var t=e.h.currentTime;if(0!=t&&null==e.A){for(var n,r,i=c(e.j),a=i.next();!a.done;a=i.next())for(var o=c((a=a.value).ads),s=o.next();!s.done;s=o.next())if(s=s.value,r){if(s.startTimeInSeconds<t&&s.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=s,n=a;break}}else s.startTimeInSeconds<t&&(r=s,n=a);n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function tp(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,a=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),ip(e,"firstQuartile")):t>=i&&!e.u.includes("midpoint")?(e.u.push("midpoint"),ip(e,"midpoint")):t>=a&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),ip(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&ip(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&np(e)}if(!e.g||!e.g.isLinear()){e:for(r=c(e.j),i=r.next();!i.done&&(i=i.value,!e.g||!e.g.isLinear());i=r.next())for(a=0;a<i.ads.length;a++){var o=i.ads[a],s=o.startTimeInSeconds+o.durationInSeconds;if(o.startTimeInSeconds<=t&&s>t){if(e.M.includes(o.adId)){if(e.h.ended)continue;e.h.currentTime=s;break e}np(e),e.L=i,e.g=new $f(o,a+1,i.ads.length,!0,e.h),e.C=o,0===a&&ip(e,"breakStart"),rp(e);break}}if(!e.g)for(i=(r=c(e.j)).next();!i.done&&(i=i.value,!e.g);i=r.next())for(a=0;a<i.nonLinearAdsList.length;a++)if((o=i.nonLinearAdsList[a]).nonLinearAdList.length){s=i.startTimeInSeconds;var u=e.F.get(Zf(o.nonLinearAdList[0]));if(s<=t&&u&&u.length){np(e),s=e;for(var l=(u=c(u)).next();!l.done;l=u.next())if((l=l.value).data.source.length){var d=document.createElement("img");d.src=l.data.source[0].url,d.style.top=(l.placeholder.top||0)+"%",d.style.height=100-(l.placeholder.top||0)+"%",d.style.left=(l.placeholder.left||0)+"%",d.style.maxWidth=100-(l.placeholder.left||0)+"%",d.style.objectFit="contain",d.style.position="absolute",s.B.appendChild(d)}e.L=i,e.g=new $f(o,a+1,i.ads.length,!1,e.h),e.C=o,0===a&&ip(e,"breakStart"),rp(e);break}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function np(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;ip(e,void 0!==t&&t?"skip":"complete");for(var n=(t=c(e.m)).next();!n.done;n=t.next())n=n.value,e.o.Ia(n.target,n.type,n.listener);e.m=[],e.u=[],(t=e.g.getPositionInSequence())===(n=e.g.getSequenceLength())&&ip(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function rp(e){var t=!1;e.h.paused?t=!0:(ip(e,"impression"),ip(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&ip(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||ip(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(ip(e,"impression"),ip(e,"start"),t=!1):ip(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){ip(e,"pause")}});for(var n=c(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function ip(e,t){var n=e.C.trackingEvents.find((function(e){return e.eventType==t}));if(n||(n=e.L.adBreakTrackingEvents.find((function(e){return e.eventType==t}))),n)for(var r={type:10},i=(n=c(n.beaconUrls)).next();!i.done;i=n.next())(i=i.value)&&""!=i&&((i=fa([i],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",e.K.request(7,i,r));switch(t){case"impression":e.i(new ra("ad-impression"));break;case"start":e.i(new ra("ad-started",(new Map).set("ad",e.g)));break;case"mute":e.i(new ra("ad-muted"));break;case"unmute":e.i(new ra("ad-volume-changed"));break;case"resume":e.i(new ra("ad-resumed"));break;case"pause":e.i(new ra("ad-paused"));break;case"firstQuartile":e.i(new ra("ad-first-quartile"));break;case"midpoint":e.i(new ra("ad-midpoint"));break;case"thirdQuartile":e.i(new ra("ad-third-quartile"));break;case"complete":e.i(new ra("ad-complete")),e.i(new ra("ad-stopped"));break;case"skip":e.i(new ra("ad-skipped")),e.i(new ra("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new ra("ad-skip-state-changed"))}}function ap(e,t){this.g=e,this.i=null,this.h=t}function op(e,t,n,r){var i=this;this.u=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new ee,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new ra("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.i(new ra("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",(function(){var t=e.l.currentTime;if(0!=t){e.g.streamTimeForContentTime(t);var n=e.g.previousCuePointForStreamTime(t);n&&!n.played&&(e.o=t,e.l.currentTime=n.start)}}))}(i,e)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.m=new ap(e,i.l),i.A&&(i.m.i=i.A),i.i(new ra("ad-started",(new Map).set("ad",i.m))),i.u.setAttribute("ad-active","true")})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.u.removeAttribute("ad-active");var e=i.l.currentTime;i.o&&i.o>e&&(i.l.currentTime=i.o,i.o=null)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.A=e.getStreamData().adProgressData,i.m&&(i.m.i=i.A)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.i(new ra("ad-first-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.i(new ra("ad-midpoint"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.i(new ra("ad-third-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.i(new ra("ad-complete")),i.i(new ra("ad-stopped")),i.u.removeAttribute("ad-active"),i.m=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.i(new ra("ad-skipped")),i.i(new ra("ad-stopped"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=c(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push({start:n.start,end:n.end});i.C=e,i.i(new ra("ad-cue-points-changed",(new Map).set("cuepoints",e)))}))}function sp(){oa.call(this),this.h=this.i=this.j=this.g=null,this.m=new Tf,this.o=navigator.language,this.l=null}function up(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}function lp(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ra){var n={};for(r in t)(e=t[r])&&"object"==typeof e?"detail"==r&&(n[r]=e):r in Event||(n[r]=e);return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(e=(n=c(Object.getOwnPropertyNames(t))).next();!e.done;e=n.next())r.add(e.value);for(n={},e=(r=c(r)).next();!e.done;e=r.next())n[e=e.value]=t[e];t={__type__:"Error",contents:n}}else if(t instanceof TimeRanges){for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(t=c(Ts(t))).next();!n.done;n=t.next())e=(n=n.value).end,r.start.push(n.start),r.end.push(e);t=r}else t=ArrayBuffer.isView(t)&&1===t.BYTES_PER_ELEMENT?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return t}}))}function cp(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){for(n in e=t.contents,t=Error(e.message),e)t[n]=e[n];n=t}else n=t;return n}))}(r=Af.prototype).needsSkipUI=function(){return!1},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!0},r.isUsingAnotherMediaElement=function(){return!0},r.getDuration=function(){return this.g.getDuration()},r.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},r.getRemainingTime=function(){return this.h.getRemainingTime()},r.isPaused=function(){return this.i},r.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return this.h.getAdSkippableState()},r.skip=function(){return this.h.skip()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.resume()},r.getVolume=function(){return this.h.getVolume()},r.setVolume=function(e){return this.m.volume=e,this.h.setVolume(e)},r.isMuted=function(){return 0==this.h.getVolume()},r.isLinear=function(){return this.g.isLinear()},r.resize=function(e,t){this.h.resize(e,t)},r.setMuted=function(e){(this.m.muted=e)?(this.j=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.j)},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return this.g.getMediaUrl()},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.g=null},V("shaka.ads.ClientSideAd",Af),Af.prototype.release=Af.prototype.release,Af.prototype.getPodIndex=Af.prototype.getPodIndex,Af.prototype.getTimeOffset=Af.prototype.getTimeOffset,Af.prototype.getMediaUrl=Af.prototype.getMediaUrl,Af.prototype.getAdvertiserName=Af.prototype.getAdvertiserName,Af.prototype.getCreativeAdId=Af.prototype.getCreativeAdId,Af.prototype.getAdId=Af.prototype.getAdId,Af.prototype.getVastMediaWidth=Af.prototype.getVastMediaWidth,Af.prototype.getVastMediaHeight=Af.prototype.getVastMediaHeight,Af.prototype.getVastMediaBitrate=Af.prototype.getVastMediaBitrate,Af.prototype.getDescription=Af.prototype.getDescription,Af.prototype.getTitle=Af.prototype.getTitle,Af.prototype.getPositionInSequence=Af.prototype.getPositionInSequence,Af.prototype.getSequenceLength=Af.prototype.getSequenceLength,Af.prototype.setMuted=Af.prototype.setMuted,Af.prototype.resize=Af.prototype.resize,Af.prototype.isLinear=Af.prototype.isLinear,Af.prototype.isMuted=Af.prototype.isMuted,Af.prototype.setVolume=Af.prototype.setVolume,Af.prototype.getVolume=Af.prototype.getVolume,Af.prototype.play=Af.prototype.play,Af.prototype.pause=Af.prototype.pause,Af.prototype.skip=Af.prototype.skip,Af.prototype.canSkipNow=Af.prototype.canSkipNow,Af.prototype.getTimeUntilSkippable=Af.prototype.getTimeUntilSkippable,Af.prototype.isSkippable=Af.prototype.isSkippable,Af.prototype.isPaused=Af.prototype.isPaused,Af.prototype.getRemainingTime=Af.prototype.getRemainingTime,Af.prototype.getMinSuggestedDuration=Af.prototype.getMinSuggestedDuration,Af.prototype.getDuration=Af.prototype.getDuration,Af.prototype.isUsingAnotherMediaElement=Af.prototype.isUsingAnotherMediaElement,Af.prototype.hasCustomClick=Af.prototype.hasCustomClick,Af.prototype.isClientRendering=Af.prototype.isClientRendering,Af.prototype.needsSkipUI=Af.prototype.needsSkipUI,V("shaka.ads.Utils",Ef),Ef.ADS_LOADED="ads-loaded",Ef.AD_STARTED="ad-started",Ef.AD_FIRST_QUARTILE="ad-first-quartile",Ef.AD_MIDPOINT="ad-midpoint",Ef.AD_THIRD_QUARTILE="ad-third-quartile",Ef.AD_COMPLETE="ad-complete",Ef.AD_STOPPED="ad-stopped",Ef.AD_SKIPPED="ad-skipped",Ef.AD_VOLUME_CHANGED="ad-volume-changed",Ef.AD_MUTED="ad-muted",Ef.AD_PAUSED="ad-paused",Ef.AD_RESUMED="ad-resumed",Ef.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Ef.CUEPOINTS_CHANGED="ad-cue-points-changed",Ef.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Ef.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Ef.AD_CLICKED="ad-clicked",Ef.AD_PROGRESS="ad-progress",Ef.AD_BUFFERING="ad-buffering",Ef.AD_IMPRESSION="ad-impression",Ef.AD_DURATION_CHANGED="ad-duration-changed",Ef.AD_CLOSED="ad-closed",Ef.AD_LOADED="ad-loaded",Ef.ALL_ADS_COMPLETED="all-ads-completed",Ef.AD_LINEAR_CHANGED="ad-linear-changed",Ef.AD_METADATA="ad-metadata",Ef.AD_RECOVERABLE_ERROR="ad-recoverable-error",Ef.AD_ERROR="ad-error",Ef.AD_BREAK_READY="ad-break-ready",Ef.AD_INTERACTION="ad-interaction",Ef.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Ef.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Ef.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Mf.prototype.configure=function(e){this.o=e},Mf.prototype.stop=function(){this.g&&this.g.stop(),this.u&&Es(this.u)},Mf.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()},(r=Rf.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return this.u},r.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return this.h&&null!=this.l?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.h},r.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},r.canSkipNow=function(){return this.h&&0==this.getTimeUntilSkippable()},r.skip=function(){this.canSkipNow()&&this.A()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return null==this.B},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.o},r.getPositionInSequence=function(){return this.m},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.i.id||""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return this.i.uri},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.g=null},V("shaka.ads.InterstitialAd",Rf),Rf.prototype.release=Rf.prototype.release,Rf.prototype.getPodIndex=Rf.prototype.getPodIndex,Rf.prototype.getTimeOffset=Rf.prototype.getTimeOffset,Rf.prototype.getMediaUrl=Rf.prototype.getMediaUrl,Rf.prototype.getAdvertiserName=Rf.prototype.getAdvertiserName,Rf.prototype.getCreativeAdId=Rf.prototype.getCreativeAdId,Rf.prototype.getAdId=Rf.prototype.getAdId,Rf.prototype.getVastMediaWidth=Rf.prototype.getVastMediaWidth,Rf.prototype.getVastMediaHeight=Rf.prototype.getVastMediaHeight,Rf.prototype.getVastMediaBitrate=Rf.prototype.getVastMediaBitrate,Rf.prototype.getDescription=Rf.prototype.getDescription,Rf.prototype.getTitle=Rf.prototype.getTitle,Rf.prototype.getPositionInSequence=Rf.prototype.getPositionInSequence,Rf.prototype.getSequenceLength=Rf.prototype.getSequenceLength,Rf.prototype.setMuted=Rf.prototype.setMuted,Rf.prototype.resize=Rf.prototype.resize,Rf.prototype.isLinear=Rf.prototype.isLinear,Rf.prototype.isMuted=Rf.prototype.isMuted,Rf.prototype.setVolume=Rf.prototype.setVolume,Rf.prototype.getVolume=Rf.prototype.getVolume,Rf.prototype.play=Rf.prototype.play,Rf.prototype.pause=Rf.prototype.pause,Rf.prototype.skip=Rf.prototype.skip,Rf.prototype.canSkipNow=Rf.prototype.canSkipNow,Rf.prototype.getTimeUntilSkippable=Rf.prototype.getTimeUntilSkippable,Rf.prototype.isSkippable=Rf.prototype.isSkippable,Rf.prototype.isPaused=Rf.prototype.isPaused,Rf.prototype.getRemainingTime=Rf.prototype.getRemainingTime,Rf.prototype.getMinSuggestedDuration=Rf.prototype.getMinSuggestedDuration,Rf.prototype.getDuration=Rf.prototype.getDuration,Rf.prototype.isUsingAnotherMediaElement=Rf.prototype.isUsingAnotherMediaElement,Rf.prototype.hasCustomClick=Rf.prototype.hasCustomClick,Rf.prototype.isClientRendering=Rf.prototype.isClientRendering,Rf.prototype.needsSkipUI=Rf.prototype.needsSkipUI,(r=Nf.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return-1},r.isPaused=function(){return!1},r.isSkippable=function(){return!1},r.getTimeUntilSkippable=function(){return 0},r.canSkipNow=function(){return!1},r.skip=function(){},r.pause=function(){},r.play=function(){},r.getVolume=function(){return 1},r.setVolume=function(){},r.isMuted=function(){return!1},r.isLinear=function(){return this.i},r.resize=function(){},r.setMuted=function(){},r.getSequenceLength=function(){return this.j},r.getPositionInSequence=function(){return this.h},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.g.id||""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return this.g.uri},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){},V("shaka.ads.InterstitialStaticAd",Nf),Nf.prototype.release=Nf.prototype.release,Nf.prototype.getPodIndex=Nf.prototype.getPodIndex,Nf.prototype.getTimeOffset=Nf.prototype.getTimeOffset,Nf.prototype.getMediaUrl=Nf.prototype.getMediaUrl,Nf.prototype.getAdvertiserName=Nf.prototype.getAdvertiserName,Nf.prototype.getCreativeAdId=Nf.prototype.getCreativeAdId,Nf.prototype.getAdId=Nf.prototype.getAdId,Nf.prototype.getVastMediaWidth=Nf.prototype.getVastMediaWidth,Nf.prototype.getVastMediaHeight=Nf.prototype.getVastMediaHeight,Nf.prototype.getVastMediaBitrate=Nf.prototype.getVastMediaBitrate,Nf.prototype.getDescription=Nf.prototype.getDescription,Nf.prototype.getTitle=Nf.prototype.getTitle,Nf.prototype.getPositionInSequence=Nf.prototype.getPositionInSequence,Nf.prototype.getSequenceLength=Nf.prototype.getSequenceLength,Nf.prototype.setMuted=Nf.prototype.setMuted,Nf.prototype.resize=Nf.prototype.resize,Nf.prototype.isLinear=Nf.prototype.isLinear,Nf.prototype.isMuted=Nf.prototype.isMuted,Nf.prototype.setVolume=Nf.prototype.setVolume,Nf.prototype.getVolume=Nf.prototype.getVolume,Nf.prototype.play=Nf.prototype.play,Nf.prototype.pause=Nf.prototype.pause,Nf.prototype.skip=Nf.prototype.skip,Nf.prototype.canSkipNow=Nf.prototype.canSkipNow,Nf.prototype.getTimeUntilSkippable=Nf.prototype.getTimeUntilSkippable,Nf.prototype.isSkippable=Nf.prototype.isSkippable,Nf.prototype.isPaused=Nf.prototype.isPaused,Nf.prototype.getRemainingTime=Nf.prototype.getRemainingTime,Nf.prototype.getMinSuggestedDuration=Nf.prototype.getMinSuggestedDuration,Nf.prototype.getDuration=Nf.prototype.getDuration,Nf.prototype.isUsingAnotherMediaElement=Nf.prototype.isUsingAnotherMediaElement,Nf.prototype.hasCustomClick=Nf.prototype.hasCustomClick,Nf.prototype.isClientRendering=Nf.prototype.isClientRendering,Nf.prototype.needsSkipUI=Nf.prototype.needsSkipUI,(r=_f.prototype).configure=function(e){this.T=e,Of(this)},r.stop=function(){if(this.l&&this.l.Pa(),this.W.clear(),this.G.clear(),this.j.pf(),this.C.size)for(var e=Array.from(this.C.values()),t=(e=c(e)).next();!t.done;t=e.next())(t=t.value)&&t.then((function(e){e&&e.destroy()}));if(this.C.clear(),this.L.size)for(t=(e=c(e=Array.from(this.L.keys()))).next();!t.done;t=e.next())Yf(this,t.value);this.L.clear(),this.j.detach(),this.K=!1,this.u=this.o=null,this.B=!0,this.h=this.g,this.F=null,zf(this),jf(this),this.A&&Es(this.A),this.m&&(this.m.stop(),this.m=null)},r.release=function(){this.stop(),this.I&&this.I.release(),this.l&&this.l.release(),this.P&&(this.P.stop(),this.P=null),this.M&&(this.M.stop(),this.M=null),this.j.destroy()},r.If=function(){return this.j},r.addAdUrlInterstitial=function(e){var t,n,r,i,a,o,s,u,l,f=this;return R((function(p){switch(p.g){case 1:return S(p,qf(f,e,t={type:12}),2);case 2:if(n=p.h,!(r=Tn(n,"VAST,vmap:VMAP")))throw new Le(2,10,10007);if(i=[],"VAST"==r.tagName){i=If(r,f.o),p.s(3);break}if("vmap:VMAP"!=r.tagName){p.s(3);break}for(var h=[],g=c(Cn(r,"vmap:AdBreak")),m=g.next();!m.done;m=g.next()){var v=m.value,y=v.attributes.timeOffset;y&&(m=null,m="start"==y?0:"end"==y?1/0:yn(y),(v=Ln(v,"vmap:AdSource"))&&(v=Ln(v,"vmap:AdTagURI"))&&(v=Mn(v))&&h.push({time:m,uri:v}))}a=c(h),o=a.next();case 5:if(o.done){p.s(3);break}return s=o.value,S(p,qf(f,s.uri,t),8);case 8:if(u=p.h,!(l=Tn(u,"VAST")))throw new Le(2,10,10007);i.push.apply(i,d(If(l,s.time))),o=a.next(),p.s(5);break;case 3:Ff(f,i),x(p)}}))},(r=$f.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.h.durationInSeconds},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return"number"==typeof this.j},r.getTimeUntilSkippable=function(){if("number"!=typeof this.j)return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return this.o},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.l?this.l:1},r.getPositionInSequence=function(){return this.i?this.i:1},r.getTitle=function(){return this.h.adTitle},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.h.adId},r.getCreativeAdId=function(){return this.h.creativeId},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.l=this.i=this.g=this.h=null},V("shaka.ads.MediaTailorAd",$f),$f.prototype.release=$f.prototype.release,$f.prototype.getPodIndex=$f.prototype.getPodIndex,$f.prototype.getTimeOffset=$f.prototype.getTimeOffset,$f.prototype.getMediaUrl=$f.prototype.getMediaUrl,$f.prototype.getAdvertiserName=$f.prototype.getAdvertiserName,$f.prototype.getCreativeAdId=$f.prototype.getCreativeAdId,$f.prototype.getAdId=$f.prototype.getAdId,$f.prototype.getVastMediaWidth=$f.prototype.getVastMediaWidth,$f.prototype.getVastMediaHeight=$f.prototype.getVastMediaHeight,$f.prototype.getVastMediaBitrate=$f.prototype.getVastMediaBitrate,$f.prototype.getDescription=$f.prototype.getDescription,$f.prototype.getTitle=$f.prototype.getTitle,$f.prototype.getPositionInSequence=$f.prototype.getPositionInSequence,$f.prototype.getSequenceLength=$f.prototype.getSequenceLength,$f.prototype.setMuted=$f.prototype.setMuted,$f.prototype.resize=$f.prototype.resize,$f.prototype.isLinear=$f.prototype.isLinear,$f.prototype.isMuted=$f.prototype.isMuted,$f.prototype.setVolume=$f.prototype.setVolume,$f.prototype.getVolume=$f.prototype.getVolume,$f.prototype.play=$f.prototype.play,$f.prototype.pause=$f.prototype.pause,$f.prototype.skip=$f.prototype.skip,$f.prototype.canSkipNow=$f.prototype.canSkipNow,$f.prototype.getTimeUntilSkippable=$f.prototype.getTimeUntilSkippable,$f.prototype.isSkippable=$f.prototype.isSkippable,$f.prototype.isPaused=$f.prototype.isPaused,$f.prototype.getRemainingTime=$f.prototype.getRemainingTime,$f.prototype.getMinSuggestedDuration=$f.prototype.getMinSuggestedDuration,$f.prototype.getDuration=$f.prototype.getDuration,$f.prototype.isUsingAnotherMediaElement=$f.prototype.isUsingAnotherMediaElement,$f.prototype.hasCustomClick=$f.prototype.hasCustomClick,$f.prototype.isClientRendering=$f.prototype.isClientRendering,$f.prototype.needsSkipUI=$f.prototype.needsSkipUI,Qf.prototype.stop=function(){for(var e=c(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Ia(t.target,t.type,t.listener);np(this),this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},Qf.prototype.release=function(){this.stop(),this.o&&this.o.release()},Qf.prototype.onManifestUpdated=function(e){this.I=e,""!=this.G&&(function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b;R((function(w){if(1==w.g)return r={type:8},i=fa([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),T(w,2),S(w,a.promise,4);if(2!=w.g){if(o=w.h,s=[],u=yt(o.data),0<(l=JSON.parse(u)).avails.length){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,d=c(e.j),f=d.next();!f.done;f=d.next())for(p=f.value,h=c(p.nonLinearAdsList),g=h.next();!g.done;g=h.next())for(m=g.value,v=c(m.nonLinearAdList),y=v.next();!y.done;y=v.next())b=y.value,Jf(e,b);s=e.getCuePoints(),e.i(new ra("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else e.j.length&&e.i(new ra("ad-cue-points-changed",(new Map).set("cuepoints",s))),np(e),e.j=[];return n&&(e.I||0<s.length)&&function(e){tp(e),e.I||(ep(e),e.o.D(e.h,"seeked",(function(){ep(e)})),e.o.D(e.h,"ended",(function(){np(e)}))),e.o.D(e.h,"timeupdate",(function(){tp(e)}))}(e),A(w,0)}E(w),x(w)}))}(this,this.G,this.O),this.O=!1)},Qf.prototype.getCuePoints=function(){for(var e=[],t=c(this.j),n=t.next();!n.done;n=t.next())for(var r=(n=c(n.value.ads)).next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds});return e},(r=ap.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.hasCustomClick=function(){return!0},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.i?this.i.duration:-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},r.isPaused=function(){return this.h.paused},r.isSkippable=function(){return this.g.isSkippable()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.h.currentTime+=this.getRemainingTime()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.play()},r.getVolume=function(){return this.h.volume},r.setVolume=function(e){this.h.volume=e},r.isMuted=function(){return this.h.muted},r.isLinear=function(){return!0},r.resize=function(){},r.setMuted=function(e){this.h.muted=e},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.i=this.g=null},V("shaka.ads.ServerSideAd",ap),ap.prototype.release=ap.prototype.release,ap.prototype.getPodIndex=ap.prototype.getPodIndex,ap.prototype.getTimeOffset=ap.prototype.getTimeOffset,ap.prototype.getMediaUrl=ap.prototype.getMediaUrl,ap.prototype.getAdvertiserName=ap.prototype.getAdvertiserName,ap.prototype.getCreativeAdId=ap.prototype.getCreativeAdId,ap.prototype.getAdId=ap.prototype.getAdId,ap.prototype.getVastMediaWidth=ap.prototype.getVastMediaWidth,ap.prototype.getVastMediaHeight=ap.prototype.getVastMediaHeight,ap.prototype.getVastMediaBitrate=ap.prototype.getVastMediaBitrate,ap.prototype.getDescription=ap.prototype.getDescription,ap.prototype.getTitle=ap.prototype.getTitle,ap.prototype.getPositionInSequence=ap.prototype.getPositionInSequence,ap.prototype.getSequenceLength=ap.prototype.getSequenceLength,ap.prototype.setMuted=ap.prototype.setMuted,ap.prototype.resize=ap.prototype.resize,ap.prototype.isLinear=ap.prototype.isLinear,ap.prototype.isMuted=ap.prototype.isMuted,ap.prototype.setVolume=ap.prototype.setVolume,ap.prototype.getVolume=ap.prototype.getVolume,ap.prototype.play=ap.prototype.play,ap.prototype.pause=ap.prototype.pause,ap.prototype.skip=ap.prototype.skip,ap.prototype.canSkipNow=ap.prototype.canSkipNow,ap.prototype.getTimeUntilSkippable=ap.prototype.getTimeUntilSkippable,ap.prototype.isSkippable=ap.prototype.isSkippable,ap.prototype.isPaused=ap.prototype.isPaused,ap.prototype.getRemainingTime=ap.prototype.getRemainingTime,ap.prototype.getMinSuggestedDuration=ap.prototype.getMinSuggestedDuration,ap.prototype.getDuration=ap.prototype.getDuration,ap.prototype.isUsingAnotherMediaElement=ap.prototype.isUsingAnotherMediaElement,ap.prototype.hasCustomClick=ap.prototype.hasCustomClick,ap.prototype.isClientRendering=ap.prototype.isClientRendering,ap.prototype.needsSkipUI=ap.prototype.needsSkipUI,(r=op.prototype).configure=function(){},r.stop=function(){this.B="",this.o=null,this.C=[]},r.release=function(){this.stop(),this.h&&this.h.release()},r.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},r.getCuePoints=function(){return this.C},v(sp,oa),(r=sp.prototype).setLocale=function(e){this.o=e},r.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},r.initInterstitial=function(e,t,n){var r=this;this.g&&this.g.release(),this.g=new _f(e,t,n,(function(e){return up(r,e)})),this.g.configure(this.l)},r.initClientSide=function(t,n,r){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new Le(2,10,1e4);this.j&&this.j.release(),this.j=new Mf(t,n,this.o,r,(function(e){return up(i,e)})),this.j.configure(this.l)},r.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),oa.prototype.release.call(this)},r.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new ra("ad-stopped")),this.dispatchEvent(new ra("ad-content-attach-requested")),this.m=new Tf},r.requestClientSideAds=function(e){if(!this.j)throw new Le(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},r.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new Le(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},r.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new Qf(e,t,n,(function(e){return up(r,e)}))},r.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new Le(1,10,10005);var r=this.i;return n=void 0===n?"":n,r.l?e=Promise.reject(new Le(1,10,10004)):(r.l=new $i,function(e,t,n){var r,i,a,o,s,u,l,c,d,f,p,h;R((function(g){if(1==g.g)return r={type:7},(i=fa([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",n&&(a=JSON.stringify(n),i.body=St(a)),o=e.K.request(7,i,r),T(g,2),S(g,o.promise,4);if(2!=g.g){if(s=g.h,u=yt(s.data),!(l=JSON.parse(u)).manifestUrl||!l.trackingUrl)throw Error("Insufficient data from MediaTailor.");return c=new le(t),d=new le(l.trackingUrl),e.G=c.resolve(d).toString(),f=Date.now()/1e3,p=f-e.P,e.i(new ra("ads-loaded",(new Map).set("loadTime",p))),h=new le(l.manifestUrl),e.l.resolve(c.resolve(h).toString()),e.l=null,A(g,0)}if(E(g),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,g.return();e.l.resolve(e.H),e.l=null,x(g)}))}(r,e,t),r.H=n||"",r.P=Date.now()/1e3,e=r.l),e},r.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new Le(1,10,10005);var t=this.i;t.G=e,t.i(new ra("ads-loaded",(new Map).set("loadTime",0)))},r.initServerSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.dai)throw new Le(2,10,10002);this.h&&this.h.release(),this.h=new op(t,n,this.o,(function(e){return up(r,e)})),this.h.configure(this.l)},r.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.h)throw new Le(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.14.12",(n=this.h).j?e=Promise.reject(new Le(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new $i,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},r.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new Le(1,10,10003);(e.mpt||e.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.14.12",this.h.g.replaceAdTagParameters(e)},r.getServerSideCuePoints=function(){return ie("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},r.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},r.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:kf(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},r.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},r.onDashTimedMetadata=function(e){this.h&&"urn:google:dai:2018"==e.schemeIdUri&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},r.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},r.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},r.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&Uf(this.g,n))},r.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var r=n.schemeIdUri;if("urn:mpeg:dash:event:alternativeMPD:insert:2025"==r||"urn:mpeg:dash:event:alternativeMPD:replace:2025"==r){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t="urn:mpeg:dash:event:alternativeMPD:replace:2025"==n.schemeIdUri,r="urn:mpeg:dash:event:alternativeMPD:insert:2025"==n.schemeIdUri,t||r)){for(var i,a=n.startTime,o=n.endTime,s=null,u=0,l=c(n.eventNode.children),d=l.next();!d.done;d=l.next())if("AlternativeMPD"==(d=d.value).tagName){if(d=d.attributes.uri){i=d;break}}else if("InsertPresentation"==d.tagName||"ReplacePresentation"==d.tagName){var f=d.attributes.url;if(f){i=f,(l=Nn(d,"maxDuration",Vn))&&(s=l/n.timescale),(l=Nn(d,"returnOffset",Vn))&&(u=l/n.timescale),t&&u&&(o=a+u);break}}i&&Ff(e,[{id:n.id,groupId:null,startTime:a,endTime:o,uri:i,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:r?u:null,playoutLimit:s,once:!1,pre:!1,post:!1,timelineRange:t&&!r,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}])}}else("urn:mpeg:dash:event:2012"==r||"urn:scte:dash:scte214-events"==r)&&n.eventNode&&Ln(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&function(e,t){var n=Ln(t.eventNode,"OverlayEvent"),r=n.attributes.uri,i=n.attributes.mimeType,a="true"==n.attributes.loop,o=Nn(n,"z",Vn);if(r&&0!=o){var s={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920,y:1080}},u=Ln(n,"Viewport"),l=Ln(n,"TopLeft"),c=Ln(n,"Size");if(u&&l&&c){if(null==(s=Nn(u,"x",Vn)))return;if(null==(u=Nn(u,"y",Vn)))return;var d=Nn(l,"x",Vn);if(null==d)return;if(null==(l=Nn(l,"y",Vn)))return;var f=Nn(c,"x",Vn);if(null==f)return;if(null==(c=Nn(c,"y",Vn)))return;s={viewport:{x:s,y:u},topLeft:{x:d,y:l},size:{x:f,y:c}}}c=Ln(n,"SqueezeCurrent"),n=null,c&&(c=Nn(c,"percentage",Gn))&&(n={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*c,y:1080*c}}),Ff(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:r,mimeType:i,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:a,overlay:s,displayOnBackground:-1==o,currentVideo:n,background:null}])}}(this.g,n))}},r.addCustomInterstitial=function(e){if(!this.g)throw new Le(1,10,10006);Ff(this.g,[e])},r.addAdUrlInterstitial=function(e){if(!this.g)throw new Le(1,10,10006);return this.g.addAdUrlInterstitial(e)},r.getInterstitialPlayer=function(){if(!this.g)throw new Le(1,10,10006);return this.g.If()},V("shaka.ads.AdManager",sp),sp.prototype.getInterstitialPlayer=sp.prototype.getInterstitialPlayer,sp.prototype.addAdUrlInterstitial=sp.prototype.addAdUrlInterstitial,sp.prototype.addCustomInterstitial=sp.prototype.addCustomInterstitial,sp.prototype.onDASHInterstitialMetadata=sp.prototype.onDASHInterstitialMetadata,sp.prototype.onHLSInterstitialMetadata=sp.prototype.onHLSInterstitialMetadata,sp.prototype.onCueMetadataChange=sp.prototype.onCueMetadataChange,sp.prototype.onHlsTimedMetadata=sp.prototype.onHlsTimedMetadata,sp.prototype.onDashTimedMetadata=sp.prototype.onDashTimedMetadata,sp.prototype.onManifestUpdated=sp.prototype.onManifestUpdated,sp.prototype.getStats=sp.prototype.getStats,sp.prototype.getCuePoints=sp.prototype.getCuePoints,sp.prototype.getServerSideCuePoints=sp.prototype.getServerSideCuePoints,sp.prototype.replaceServerSideAdTagParameters=sp.prototype.replaceServerSideAdTagParameters,sp.prototype.requestServerSideStream=sp.prototype.requestServerSideStream,sp.prototype.initServerSide=sp.prototype.initServerSide,sp.prototype.addMediaTailorTrackingUrl=sp.prototype.addMediaTailorTrackingUrl,sp.prototype.requestMediaTailorStream=sp.prototype.requestMediaTailorStream,sp.prototype.initMediaTailor=sp.prototype.initMediaTailor,sp.prototype.updateClientSideAdsRenderingSettings=sp.prototype.updateClientSideAdsRenderingSettings,sp.prototype.requestClientSideAds=sp.prototype.requestClientSideAds,sp.prototype.onAssetUnload=sp.prototype.onAssetUnload,sp.prototype.release=sp.prototype.release,sp.prototype.initClientSide=sp.prototype.initClientSide,sp.prototype.initInterstitial=sp.prototype.initInterstitial,sp.prototype.configure=sp.prototype.configure,sp.prototype.setLocale=sp.prototype.setLocale,sp.ADS_LOADED="ads-loaded",sp.AD_STARTED="ad-started",sp.AD_FIRST_QUARTILE="ad-first-quartile",sp.AD_MIDPOINT="ad-midpoint",sp.AD_THIRD_QUARTILE="ad-third-quartile",sp.AD_COMPLETE="ad-complete",sp.AD_STOPPED="ad-stopped",sp.AD_SKIPPED="ad-skipped",sp.AD_VOLUME_CHANGED="ad-volume-changed",sp.AD_MUTED="ad-muted",sp.AD_PAUSED="ad-paused",sp.AD_RESUMED="ad-resumed",sp.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",sp.CUEPOINTS_CHANGED="ad-cue-points-changed",sp.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",sp.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",sp.AD_CLICKED="ad-clicked",sp.AD_PROGRESS="ad-progress",sp.AD_BUFFERING="ad-buffering",sp.AD_IMPRESSION="ad-impression",sp.AD_DURATION_CHANGED="ad-duration-changed",sp.AD_CLOSED="ad-closed",sp.AD_LOADED="ad-loaded",sp.ALL_ADS_COMPLETED="all-ads-completed",sp.AD_LINEAR_CHANGED="ad-linear-changed",sp.AD_METADATA="ad-metadata",sp.AD_RECOVERABLE_ERROR="ad-recoverable-error",sp.AD_ERROR="ad-error",sp.AD_BREAK_READY="ad-break-ready",sp.AD_INTERACTION="ad-interaction",sp.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",sp.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",sp.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",xf=function(){return new sp};var dp="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),fp="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),pp=["loop","playbackRate"],hp=["pause","play"],gp=(new Map).set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("getImageTracks",2).set("getThumbnails",2).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1),mp=(new Map).set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getTextTracks",2).set("getVariantTracks",2),vp=(new Map).set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),yp=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],bp=[["isTextTrackVisible","setTextTrackVisibility"]],wp="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure configurationForLowLatency getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),Sp=["attach","attachCanvas","detach","load","unload"];function xp(e,t,n,r,i,a,o){var s=this;this.G=e,this.K=o,this.l=new He(t),this.L=n,this.u=!1,this.A=r,this.F=i,this.M=a,this.i=this.m=!1,this.I="",this.o=null,this.B=function(){return Ep(s)},this.C=function(e,t){switch((e=cp(t)).type){case"event":var n=e.targetName,r=ia(e.event);s.A(n,r);break;case"update":for(r in n=e.update)for(var i in e=s.g[r]||{},n[r])e[i]=n[r][i];s.u&&(s.L(),s.u=!1);break;case"asyncComplete":if(i=e.id,r=e.error,t=e.res,e=s.h.get(i),s.h.delete(i),e)if(r){for(n in i=new Le(r.severity,r.category,r.code),r)i[n]=r[n];e.reject(i)}else e.resolve(t)}},this.g={video:{},player:{}},this.H=0,this.h=new Map,this.j=null,Rp.add(this)}function Tp(e,t){var n=e.M();Pp=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),Ep(e),Cp(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function kp(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new Le(2,8,n,t))}function Ap(e){var t=Pp;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function Ep(e){var t=!!Pp&&"connected"==Pp.status;if(e.i&&!t){for(var n in e.F(),e.g)e.g[n]={};Ip(e)}e.i=t,e.I=t?Pp.receiver.friendlyName:"",e.l.qb()}function Ip(e){if(e.h)for(var t=c(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var r=e.h.get(n);e.h.delete(n),r.reject(new Le(1,7,7e3))}}function Cp(e,t){t=lp(t);var n=Pp;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,(function(){}),Q)}catch(r){throw t=new Le(2,8,8005,r),n=new ra("error",(new Map).set("detail",t)),e.A("player",n),e.Nc(),t}}(r=xp.prototype).destroy=function(){return Rp.delete(this),Ip(this),Pp&&Ap(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.i=this.m=!1,this.C=this.B=this.j=this.h=this.g=this.o=null,Promise.resolve()},r.ob=function(){return this.i},r.ag=function(){return this.I},r.init=function(){if(this.G.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.qb();var t=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(Rp),n=t.next();!n.done;n=t.next()){var r=e;(n=n.value).j=new $i,n.u=!0,Tp(n,r)}}),(function(e){for(var t=c(Rp),n=t.next();!n.done;n=t.next())n=n.value,Dp="available"==e,n.l.qb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),Dp&&this.l.da(Mp),(t=Pp)&&t.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new $i,this.u=!0,Tp(this,t)):Pp=null}else e.__onGCastApiAvailable!==Np&&(Lp=e.__onGCastApiAvailable||null,e.__onGCastApiAvailable=Np)},r.ig=function(e){this.o=e,this.i&&Cp(this,{type:"appData",appData:this.o})},r.cast=function(){var e=this;return R((function(t){if(!e.m)throw new Le(1,8,8e3);if(!Dp)throw new Le(1,8,8001);if(e.i)throw new Le(1,8,8002);return e.j=new $i,chrome.cast.requestSession((function(t){return Tp(e,t)}),(function(t){return kp(e,t)})),S(t,e.j,0)}))},r.Nc=function(){if(this.i){if(Ip(this),Pp){Ap(this);try{Pp.stop((function(){}),(function(){}))}catch(TT){}Pp=null}Ep(this)}},r.get=function(e,t){var n=this;if("video"==e){if(hp.includes(t))return function(){return n.nh.apply(n,[e,t].concat(d(N.apply(0,arguments))))}}else if("player"==e){if(vp.has(t)&&!this.get("player","isLive")())return function(){};if(wp.includes(t))return function(){return n.nh.apply(n,[e,t].concat(d(N.apply(0,arguments))))};if(Sp.includes(t))return function(){return n.pj.apply(n,[e,t].concat(d(N.apply(0,arguments))))};if(gp.has(t)||mp.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},r.set=function(e,t,n){this.g[e][t]=n,Cp(this,{type:"set",targetName:e,property:t,value:n})},r.nh=function(e,t){Cp(this,{type:"call",targetName:e,methodName:t,args:N.apply(2,arguments)})},r.pj=function(e,t){var n=N.apply(2,arguments),r=new $i,i=this.H.toString();this.H++,this.h.set(i,r);try{Cp(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(a){r.reject(a)}return r};var Mp=.02,Dp=!1,Pp=null,Lp=null,Rp=new Set;function Np(t){if(Lp?e.__onGCastApiAvailable=Lp:delete e.__onGCastApiAvailable,Lp=null,t)for(var n=c(Rp),r=n.next();!r.done;r=n.next())r.value.init();"function"===typeof e.__onGCastApiAvailable&&e.__onGCastApiAvailable(t)}function _p(t,n,r,i){i=void 0!==i&&i,oa.call(this);var a=this;this.i=t,this.h=n,this.m=this.o=this.l=this.u=this.j=null,this.C=r,this.B=i,this.A=new Map,this.g=null,e.chrome?(this.g=new xp(r,(function(){return Up(a)}),(function(){return Fp(a)}),(function(e,t){return Hp(a,e,t)}),(function(){return Bp(a)}),(function(){return Op(a)}),i),function(e){e.g.init(),e.m=new ee;for(var t=c(dp),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,(function(t){e.g.ob()||(t=ia(t),e.l.dispatchEvent(t))}));for(var r in aa)e.m.D(e.h,aa[r],(function(t){e.g.ob()||e.o.dispatchEvent(t)}));for(var i in e.j={},t={},e.i)(t={ud:t.ud}).ud=i,Object.defineProperty(e.j,t.ud,{configurable:!1,enumerable:!0,get:function(t){return function(){return Vp(e,t.ud)}}(t),set:function(t){return function(n){var r=t.ud;e.g.ob()?e.g.set("video",r,n):e.i[r]=n}}(t)});e.u={},jp(e,(function(t){Object.defineProperty(e.u,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.A.has(t)&&(t=e.A.get(t)),"addEventListener"==t)return function(t,n,r){return e.o.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.o.removeEventListener(t,n,r)};if("getMediaElement"==t)return function(){return e.j};if("getSharedConfiguration"==t)return e.g.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.h.xb()};if("getDrmEngine"==t)return function(){return e.h.C};if("getAdManager"==t)return function(){return e.h.Pg()};if("setVideoContainer"==t)return function(t){return e.h.Bh(t)};if(e.g.ob()){if("getManifest"==t||"drmInfo"==t)return function(){return Y(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Y(t+"() does not work while casting!"),Promise.resolve()};if("getChapters"==t)return function(){return Y(t+"() does not work while casting!"),[]}}return e.g.ob()&&0==Object.keys(e.g.g.video).length&&(gp.has(t)||mp.has(t))||!e.g.ob()?e.h[t].bind(e.h):e.g.get("player",t)}(e,t)}})})),function(e){var t=new Map;jp(e,(function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)}))}(e),e.l=new oa,e.l.Re=e.j,e.o=new oa,e.o.Re=e.u}(this)):(this.j=this.i,this.u=this.h)}function jp(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!a.has(e)}var r,i=e.h,a=new Set;for(r in i)n(r)&&(a.add(r),t(r,i[r]));for(e=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});e&&e!=r;){for(var o=c(Object.getOwnPropertyNames(e)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),t(s,i[s]));e=Object.getPrototypeOf(e)}}function Op(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Oc(),startTime:null};e.i.pause();for(var n=c(pp),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),r=(n=c(yp)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(r=(n=c(bp)).next();!r.done;r=n.next())r=(i=r.value)[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function Up(e){var t=new ra("caststatuschanged");e.dispatchEvent(t)}function Fp(e){var t=new ra(e.j.paused?"pause":"play");e.l.dispatchEvent(t)}function Bp(e){for(var t=c(yp),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var a,o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime")),(r=e.g.get("player","getTextTracks")())&&r.length&&(a=r.find((function(e){return e.active})));var s=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var u={};for(r=(n=c(pp)).next();!r.done;r=n.next())r=r.value,u[r]=e.g.get("video",r);t.then((function(){if(e.i){for(var t=c(pp),n=t.next();!n.done;n=t.next())n=n.value,e.i[n]=u[n];for(n=(t=c(bp)).next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}e.h.yh(s),a&&e.h.hg(a.language,a.roles,a.forced),e.i.autoplay=o,i&&e.i.play()}}),(function(t){t=new ra("error",t=(new Map).set("detail",t)),e.h.dispatchEvent(t)}))}function Vp(e,t){if("addEventListener"==t)return function(t,n,r){return e.l.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.l.removeEventListener(t,n,r)};if(e.g.ob()&&0==Object.keys(e.g.g.video).length){var n=e.i[t];if("function"!=typeof n)return n}return e.g.ob()?e.g.get("video",t):("function"==typeof(t=e.i[t])&&(t=t.bind(e.i)),t)}function Hp(e,t,n){e.g.ob()&&("video"==t?e.l.dispatchEvent(n):"player"==t&&e.o.dispatchEvent(n))}function zp(e,t,n,r){oa.call(this);var i=this;this.g=e,this.h=t,this.j=new ee,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(e){return e},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.u=this.l=null,this.C=new He((function(){Wp(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Gp(e)},t.onSenderDisconnected=function(){return Gp(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Qp(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),Qp(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(t){return function(e,t){var n=cp(t.data);switch(n.type){case"PLAY":e.g.play(),Jp(e);break;case"PAUSE":e.g.pause(),Jp(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;null!=t&&(e.g.currentTime=Number(t)),r&&"PLAYBACK_START"==r?(e.g.play(),Jp(e)):r&&"PLAYBACK_PAUSE"==r&&(e.g.pause(),Jp(e));break;case"STOP":e.h.kc().then((function(){e.h&&Jp(e)}));break;case"GET_STATUS":Yp(e,Number(n.requestId));break;case"VOLUME":t=(r=n.volume).level,r=r.muted;var i=e.g.volume,a=e.g.muted;null!=t&&(e.g.volume=Number(t)),null!=r&&(e.g.muted=r),i==e.g.volume&&a==e.g.muted||Jp(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),a=n.autoplay||!0,e.F(t.customData),a&&(e.g.autoplay=!0),e.h.load(i,r).then((function(){e.h&&Yp(e)})).catch((function(t){var r="LOAD_FAILED";7==t.category&&7e3==t.code&&(r="LOAD_CANCELLED"),Qp(e,{requestId:Number(n.requestId),type:r},e.u)}));break;default:Qp(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}(e,t)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var n=cp(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,function(e,t,n){var r,i,a,o,s,u,l,c,d,f;R((function(p){switch(p.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),a=e.g.autoplay,t.manifest?(e.g.autoplay=!1,T(p,5),S(p,e.h.load(t.manifest,t.startTime),7)):S(p,Promise.resolve(),3);case 7:A(p,3);break;case 5:return o=E(p),s=(new Map).set("detail",o),u=new ra("error",s),e.h&&e.h.dispatchEvent(u),p.return();case 3:if(!e.h)return p.return();for(l in t.video)c=t.video[l],e.g[l]=c;for(d in t.playerAfterLoad)f=t.playerAfterLoad[d],e.h[d](f);e.g.autoplay=a,t.manifest&&(e.g.play(),Jp(e)),x(p)}}))}(e,n.initState,n.appData),Wp(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){t.setSystemVolumeLevel(n);break}if("muted"==i){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":(r=e.H[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(e.m=0,e.B=!1);var a=n.id,o=t.senderId;n=(t=e.H[r])[i].apply(t,n.args),"player"==r&&"load"==i&&(n=n.then((function(){e.A=!0}))),n.then((function(t){return $p(e,o,a,null,t)}),(function(t){return $p(e,o,a,t,null)}))}}(e,t)},t.start();for(var n=(t=c(dp)).next();!n.done;n=t.next())e.j.D(e.g,n.value,(function(t){return qp(e,"video",t)}));for(var r in aa)e.j.D(e.h,aa[r],(function(t){return qp(e,"player",t)}));e.j.D(e.g,"loadeddata",(function(){e.B=!0})),e.j.D(e.h,"loading",(function(){e.o=!1,Kp(e)})),e.j.D(e.g,"playing",(function(){e.o=!1,Kp(e)})),e.j.D(e.g,"pause",(function(){Kp(e)})),e.j.D(e.h,"unloading",(function(){e.o=!0,Kp(e)})),e.j.D(e.g,"ended",(function(){new He((function(){e.g&&e.g.ended&&(e.o=!0,Kp(e))})).da(eh)}))}(this)}function Gp(e){e.m=0,e.A=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Kp(e)}function Kp(e){var t;R((function(n){return 1==n.g?S(n,Promise.resolve(),2):e.h?(t=new ra("caststatuschanged"),e.dispatchEvent(t),Xp(e)||Jp(e),void x(n)):n.return()}))}function qp(e,t,n){e.h&&(Wp(e),Qp(e,{type:"event",targetName:t,event:n},e.l))}function Wp(e){e.C.da(Zp);for(var t={video:{},player:{}},n=c(fp),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];e.h.U()&&vp.forEach((function(n,r){0==e.m%n&&(t.player[r]=e.h[r]())})),gp.forEach((function(n,r){0==e.m%n&&(t.player[r]=e.h[r]())})),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Qp(e,{type:"update",update:t},e.l),mp.forEach((function(t,n){0==e.m%t&&((t={player:{}}).player[n]=e.h[n](),Qp(e,{type:"update",update:t},e.l))})),e.B&&(e.m+=1),Xp(e)}function Xp(e){return!(!e.A||!e.g.duration&&!e.h.U())&&(Yp(e),e.A=!1,!0)}function Yp(e,t){var n={contentId:e.h.Oc(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Jp(e,void 0===t?0:t,n)}function $p(e,t,n,r,i){e.h&&Qp(e,{type:"asyncComplete",id:n,error:r,res:i},e.l,t)}function Qp(e,t,n,r){e.G&&(e=lp(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Jp(e,t,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?th:e.h.Of()?rh:e.g.paused?ih:nh,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),Qp(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[r]},e.u)}v(_p,oa),(r=_p.prototype).destroy=function(e){return this.g&&e&&this.g.Nc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.j=this.i=null,oa.prototype.release.call(this),Promise.all(e)},r.Li=function(){return this.j},r.If=function(){return this.u},r.Wh=function(){return!!this.g&&(this.g.m&&Dp)},r.ob=function(){return!!this.g&&this.g.ob()},r.ag=function(){return this.g?this.g.ag():""},r.cast=function(){var e=this;return R((function(t){return 1==t.g?e.g?S(t,e.g.cast(),2):t.return():e.h?S(t,e.h.kc(),0):t.return()}))},r.ig=function(e){this.g&&this.g.ig(e)},r.Ej=function(){var e;this.g&&((e=this.g).i&&chrome.cast.requestSession((function(t){return Tp(e,t)}),(function(t){return kp(e,t)})))},r.Nc=function(){this.g&&this.g.Nc()},r.Xh=function(e,t){t=void 0!==t&&t;var n=this;return R((function(r){if(1==r.g)return e==n.C&&t==n.B?r.return():(n.C=e,n.B=t,n.g?(n.g.Nc(),S(r,n.g.destroy(),2)):r.return());n.g=null,n.g=new xp(e,(function(){return Up(n)}),(function(){return Fp(n)}),(function(e,t){return Hp(n,e,t)}),(function(){return Bp(n)}),(function(){return Op(n)}),t),n.g.init(),x(r)}))},V("shaka.cast.CastProxy",_p),_p.prototype.changeReceiverId=_p.prototype.Xh,_p.prototype.forceDisconnect=_p.prototype.Nc,_p.prototype.suggestDisconnect=_p.prototype.Ej,_p.prototype.setAppData=_p.prototype.ig,_p.prototype.cast=_p.prototype.cast,_p.prototype.receiverName=_p.prototype.ag,_p.prototype.isCasting=_p.prototype.ob,_p.prototype.canCast=_p.prototype.Wh,_p.prototype.getPlayer=_p.prototype.If,_p.prototype.getVideo=_p.prototype.Li,_p.prototype.destroy=_p.prototype.destroy,v(zp,oa),(r=zp.prototype).isConnected=function(){return this.G},r.Si=function(){return this.o},r.Bj=function(e){this.i=e},r.ai=function(){this.i=null},r.Cj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},r.Aj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},r.zj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var e,t=this;return R((function(n){if(1==n.g)return t.j&&(t.j.release(),t.j=null),e=[],t.h&&(e.push(t.h.destroy()),t.h=null),t.C&&(t.C.stop(),t.C=null),t.g=null,t.H=null,t.F=null,t.G=!1,t.o=!0,t.l=null,t.u=null,oa.prototype.release.call(t),S(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),x(n)}))},V("shaka.cast.CastReceiver",zp),zp.prototype.destroy=zp.prototype.destroy,zp.prototype.setContentArtist=zp.prototype.zj,zp.prototype.setContentImage=zp.prototype.Aj,zp.prototype.setContentTitle=zp.prototype.Cj,zp.prototype.clearContentMetadata=zp.prototype.ai,zp.prototype.setContentMetadata=zp.prototype.Bj,zp.prototype.isIdle=zp.prototype.Si,zp.prototype.isConnected=zp.prototype.isConnected;var Zp=.5,eh=5,th="IDLE",nh="PLAYING",rh="BUFFERING",ih="PAUSED";function ah(e,t,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,l="white",c="black",d=oh(r,i,s,u,l,c);a<=o;a++){for(var f=n[a],p=-1,h=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].g.trim()){p=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].g.trim()){h=g;break}if(-1===p||-1===h)f=sh(r,i),e.nestedCues.push(f);else{for(;p<=h;p++)if(g=f[p]){var m=g.l,v=g.i,y=g.j,b=g.h;m==s&&v==u&&y==l&&b==c||(d.payload&&e.nestedCues.push(d),d=oh(r,i,m,v,y,b),s=m,u=v,l=y,c=b),d.payload+=g.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=sh(r,i),e.nestedCues.push(d)),d=oh(r,i,s,u,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function oh(e,t,n,r,i,a){return e=new tr(e,t,""),n&&e.textDecoration.push(Ar),r&&(e.fontStyle=Tr),e.color=i,e.backgroundColor=a,e}function sh(e,t){return(e=new tr(e,t,"")).lineBreak=!0,e}function uh(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function lh(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.u=this.A=null,dh(this)}function ch(e,t,n){var r="CC"+(1+(e.C<<1|e.B)),i=new tr(t,n,"");i.lineInterpretation=1;var a=bh.get(e.g);return a&&(i.line=a),null!=e.u&&null!=e.A&&(i.position=10+Math.min(70,10*e.u)+2.5*e.A),(t=ah(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(a=bh.get(e.g+3-t.cue.nestedCues.length))&&(i.line=a),t}function dh(e){hh(e,0,15),e.g=1}function fh(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=gh.has(n)?gh.get(n):String.fromCharCode(n);break;case 1:r=mh.get(n);break;case 2:e.i[e.g].pop(),r=vh.get(n);break;case 3:e.i[e.g].pop(),r=yh.get(n)}r&&e.i[e.g].push(new uh(r,e.m,e.j,e.o,e.l))}}function ph(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map((function(e){return e}));else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map((function(e){return e}))}function hh(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var gh=new Map([[39,"\u2019"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"\u2588"]]),mh=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"\u2122"],[53,"\xa2"],[54,"\xa3"],[55,"\u266a"],[56,"\xe0"],[57," "],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),vh=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"\u2018"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xa9"],[44,"\u2120"],[45,"\xb7"],[46,"\u201c"],[47,"\u201d"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),yh=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"\u2502"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"\u250c"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]),bh=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function wh(e,t){this.h=0,this.o=new lh(e,t),this.i=new lh(e,t),this.g=this.j=new lh(e,t),this.l=0,this.m=null}function Sh(e,t,n){e.g=e.i;var r=e.g,i=null;return 3!==e.h&&4!==e.h&&(i=ch(r,e.l,n),(n=e.i).g=0<n.h?n.h:0,hh(n,0,15),(n=e.j).g=0<n.h?n.h:0,hh(n,0,15),r.g=15),e.h=3,r.h=t,i}function xh(e){e.h=1,e.g=e.j,e.g.h=0}function Th(e){$("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var kh="black green blue cyan red yellow magenta black".split(" "),Ah="white green blue cyan red yellow magenta white_italics".split(" ");function Eh(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.u="black",Ih(this)}function Ih(e){e.i=[];for(var t=0;16>t;t++)e.i.push(Ch())}function Ch(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Mh(e,t){Dh(e)&&(e.i[e.h][e.g]=new uh(t,e.C,e.A,e.u,e.B),e.g++)}function Dh(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}function Ph(e,t,n){var r=new tr(e.j,t,"");r.textAlign=0===e.F?"left":1===e.F?"right":lr;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?sn:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=ah(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}function Lh(){this.i=[],this.h=null,this.g=0}function Rh(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new Nh(e.h)),e.h=null,e.g=0))}function Nh(e){this.g=0,this.h=e}function _h(e){if(!e.ta())throw new Le(2,2,3e3);return e.h[e.g++]}function jh(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Oh(e,t,n,r){if(!e.g)return[];if(24==n)return n=_h(t).value,r=_h(t).value,n=[n,r].map((function(e){return("0"+(255&e).toString(16)).slice(-2)})).join(""),Mh(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var i=null;switch(n){case 8:!Dh(t)||0>=t.g&&0>=t.h||(0>=t.g?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(i=Ph(t,r,e.i)),t.h+1>=t.o?function(e){for(var t=0,n=1;16>n;n++,t++)e.i[t]=e.i[n];for(n=0;1>n;n++,t++)e.i[t]=Ch()}(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(i=Ph(t,r,e.i)),t.i[t.h]=Ch(),t.g=0;break;case 12:t.isVisible()&&(i=Ph(t,r,e.i)),Ih(t),t.h=0,t.g=0}return i?[i]:[]}function Uh(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=_h(t).value,t=[];for(var i=(n=c(Fh(e,n))).next();!i.done;i=n.next()){if((i=e.h[i.value]).isVisible()){var a=Ph(i,r,e.i);a&&t.push(a)}Ih(i)}return t}if(137===n)for(n=(t=c(Fh(e,t=_h(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.display();else{if(138===n){for(n=_h(t).value,t=null,i=(n=c(Fh(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=Ph(i,r,e.i)),i.l=!1;return t?[t]:[]}if(139===n){for(n=_h(t).value,t=null,i=(n=c(Fh(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=Ph(i,r,e.i):i.j=r,i.l=!i.l;return t?[t]:[]}if(140===n)return Bh(e,t=_h(t).value,r);if(143===n)return r=Bh(e,255,r),Vh(e),r;if(144===n)t.skip(1),r=_h(t).value,e.g&&(e.g.A=0<(128&r),e.g.C=0<(64&r));else if(145===n)r=_h(t).value,n=_h(t).value,t.skip(1),e.g&&(t=Hh((48&n)>>4,(12&n)>>2,3&n),e.g.B=Hh((48&r)>>4,(12&r)>>2,3&r),e.g.u=t);else if(146===n)r=_h(t).value,t=_h(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=_h(t).value,t.skip(1),e.g&&(e.g.F=3&r);else if(152<=n&&159>=n){n=(15&n)-8,(i=null!==e.h[n])||((a=new Eh(n,e.i)).j=r,e.h[n]=a),r=_h(t).value,a=_h(t).value;var o=_h(t).value,s=_h(t).value,u=_h(t).value;t=_h(t).value,i&&0===(7&t)||((t=e.h[n]).h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.u="black"),(t=e.h[n]).l=0<(32&r),t.L=127&a,t.H=o,t.G=(240&s)>>4,t.K=0<(128&a),t.o=1+(15&s),t.m=1+(63&u),e.g=e.h[n]}}}return[]}function Fh(e,t){for(var n=[],r=0;8>r;r++)1===(1&t)&&e.h[r]&&n.push(r),t>>=1;return n}function Bh(e,t,n){for(var r=[],i=(t=c(Fh(e,t))).next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(a=Ph(a,n,e.i))&&r.push(a),e.h[i]=null}return r}function Vh(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function Hh(e,t,n){var r={0:0,1:0,2:1,3:1};return Gh[(e=r[e])<<2|(t=r[t])<<1|(n=r[n])]}Eh.prototype.isVisible=function(){return this.l},Eh.prototype.display=function(){this.l=!0},Nh.prototype.ta=function(){return this.g<this.h.length},Nh.prototype.Aa=function(){return this.g},Nh.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Le(2,2,3e3);this.g+=e},Nh.prototype.ph=function(e){if(0>this.g-e)throw new Le(2,2,3e3);this.g-=e};var zh=new Map([[32," "],[33,"\xa0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201c"],[52,"\u201d"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215b"],[119,"\u215c"],[120,"\u215d"],[121,"\u215e"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250c"]]),Gh="black blue green cyan red magenta yellow white".split(" ");function Kh(){this.h=[],this.g=[],this.i=new Lh,this.l=0,this.m=new Map([["CC1",new wh(0,0)],["CC2",new wh(0,1)],["CC3",new wh(1,0)],["CC4",new wh(1,1)]]),this.u=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,qh(this)}function qh(e){e.o=0,e.u=0;for(var t=c(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=0,n.g=n.j,n.m=null,dh(n.i),dh(n.j),dh(n.o);e.B=!0}function Wh(e,t){var n=t.type;if(16===(112&t.kb)){var r=t.kb>>3&1;0===n?e.o=r:e.u=r}if(r="CC"+(1+(n<<1|(n?e.u:e.o))),n=e.m.get(r),255===t.kb&&255===t.Kb||!t.kb&&!t.Kb||!Yh(t.kb)||!Yh(t.Kb))return 45<=++e.l&&qh(e),null;e.l=0,t.kb&=127,t.Kb&=127;var i=t.kb;if(1<=i&&15>=i||!t.kb&&!t.Kb)return null;if(i=null,16===(112&t.kb))e:{if(e.A.add(r),r=t.kb,e=t.Kb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16===(240&r)&&64===(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1],r="white",i=!1;var a=null,o=95<e?e-96:e-64;13>=o?r=Ah[Math.floor(o/2)]:15>=o?i=!0:a=Math.floor((o-16)/2),e=1===(1&e),4!==n.h&&(o=n.g,3===n.h&&t!==o.g&&(ph(o,n=1+t-o.h,1+o.g-o.h,o.h),hh(o,0,n-1),hh(o,t+1,15-t)),o.g=t,o.m=e,o.j=i,o.l=r,o.u=a,o.o="black")}else if(17===(247&r)&&32===(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",fh(n.g,0,32),r=!1,"white_italics"===(t=Ah[(14&e)>>1])&&(t="white",r=!0),n.g.m=1===(1&e),n.g.j=r,n.g.l=t;else if(16===(247&r)&&32===(240&e)||23===(247&r)&&45===(255&e))t="black",0===(7&r)&&(t=kh[(14&e)>>1]),n.g.o=t;else if(17===(247&r)&&48===(240&e))fh(n.g,1,e);else if(18===(246&r)&&32===(224&e))fh(n.g,1&r?3:2,e);else{if(20===(246&r)&&32===(240&e)){switch(e=t.pts,r=null,t.Kb){case 32:xh(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Sh(n,2,e);break;case 38:r=Sh(n,3,e);break;case 39:r=Sh(n,4,e);break;case 40:fh(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:dh(n.o),Th(n);break;case 43:Th(n);break;case 44:t=n.i,r=null,4!==n.h&&(r=ch(t,n.l,e)),hh(t,0,15);break;case 45:t=n.g,3!==n.h?r=null:(r=ch(t,n.l,e),ph(t,(i=t.g-t.h+1)-1,i,t.h),hh(t,0,i-1),hh(t,t.g,15-t.g),n.l=e);break;case 46:hh(n.j,0,15);break;case 47:t=null,4!==n.h&&(t=ch(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,xh(n),n.l=e,r=t}i=r;break e}(23==r||31==r)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Kb,fh(n.g,0,t.kb),fh(n.g,0,e);return i}function Xh(e,t){var n=[];try{for(;t.ta();){var r=_h(t).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&_h(t).value),0!=i){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new jh(i));for(var o=e.j.get(i),s=t.Aa();t.Aa()-s<a;){i=o;var u=t,l=_h(u),c=l.value,f=l.pts;if(16===c)c=c<<16|_h(u).value;if(0<=c&&31>=c)var p=Oh(i,u,c,f);else if(128<=c&&159>=c)p=Uh(i,u,c,f);else{if(4096<=c&&4127>=c)i=u,8<=(u=255&c)&&15>=u?i.skip(1):16<=u&&23>=u?i.skip(2):24<=u&&31>=u&&i.skip(3);else if(4224<=c&&4255>=c)i=u,128<=(u=255&c)&&135>=u?i.skip(4):136<=u&&143>=u&&i.skip(5);else if(32<=c&&127>=c)u=c,i.g&&Mh(i.g,127===u?"\u266a":String.fromCharCode(u));else if(160<=c&&255>=c)i.g&&Mh(i.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(u=255&c,i.g)if(zh.has(u)){var h=zh.get(u);Mh(i.g,h)}else Mh(i.g,"_")}else 4256<=c&&4351>=c&&i.g&&Mh(i.g,160!=(255&c)?"_":"[CC]");p=[]}n.push.apply(n,d(p))}}}}catch(g){if(!(g instanceof Le&&3e3===g.code))throw g;$("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Yh(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function $h(e){for(var t=[],n=e,r=e=0;r<n.length;)2==e&&3==n[r]?(e=0,(n=[].concat(d(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;255==e[r];)n+=255,r++;n+=e[r++];for(var i=0;255==e[r];)i+=255,r++;i+=e[r++],4==n&&t.push(e.subarray(r,r+i)),r+=i}return t}function Qh(){this.j=new Map,this.i=this.h=0,this.g=Zh}function Jh(e,t,n,r,i,a,o,s,u){var l=0,f=a,p=s.map((function(e){return e.fg}));for((p=[].concat.apply([],d(p))).length&&(f=p[0].sampleSize||a),t.skip(o+s[0].nf);t.ta();){o=t.S();var h=t.X(),g=null;switch(g=!1,s=1,e.g){case eg:g=6==(g=31&h);break;case tg:s=2,t.skip(1),g=39==(g=h>>1&63)||40==g;break;case ng:s=2,t.skip(1),g=23==(g=h>>1&63)||24==g;break;default:return}if(g)for(h=0,l<p.length&&(h=p[l].ze||0),h=(n+h)/r,g=(s=c($h(t.Cb(o-s)))).next();!g.done;g=s.next())u.push({packet:g.value,pts:h});else try{t.skip(o-s)}catch(m){break}0==(f-=o+4)&&(n=l<p.length?n+(p[l].gg||i):n+i,f=++l<p.length&&p[l].sampleSize||a)}}Kh.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,qh(this);for(var t=(e=c(this.j.values())).next();!t.done;t=e.next())Vh(t.value)},Kh.prototype.extract=function(e,t){if(this.B){for(var n=c(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(!(8>(e=new Aa(e,0)).getLength())&&181===e.X()&&49===e.ma()&&1195456820===e.S()&&3===e.X()&&0!==(64&(n=e.X())))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.X(),a=(4&i)>>2,o=e.X(),s=e.X();a&&(0===(i&=3)||1===i?this.h.push({pts:t,type:i,kb:o,Kb:s,order:this.h.length}):(this.g.push({pts:t,type:i,value:o,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Kh.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=c(this.h),r=n.next();!r.done;r=n.next())(r=Wh(this,r.value))&&t.push(r);for(r=(n=c(this.g)).next();!r.done;r=n.next())Rh(this.i,r.value);for(r=(n=c(this.i.i)).next();!r.done;r=n.next())r=Xh(this,r.value),t.push.apply(t,d(r));return this.i.i=[],this.h=[],this.g=[],t},Kh.prototype.getStreams=function(){return Array.from(this.A)},V("shaka.cea.CeaDecoder",Kh),an=function(){return new Kh},Qh.prototype.init=function(e){function t(e){e=e.name,rg.has(e)&&(n.g=rg.get(e))}var n=this,r=[],i=[];if((new Ca).box("moov",Ma).box("mvex",Ma).R("trex",(function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.S(),t=t.S(),n.h=e,n.i=t})).box("trak",Ma).R("tkhd",(function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.S();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.ma(),t.ma(),t.ma(),t.ma(),r.push(n)})).box("mdia",Ma).R("mdhd",(function(e){e=Po(e.reader,e.version),i.push(e.timescale)})).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",Pa).box("sinf",Ma).box("frma",(function(e){e=No(e.reader).codec,rg.has(e)&&(n.g=rg.get(e))})).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new Le(2,2,2010);this.g==Zh&&Y("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(e,t){n.j.set(e,i[t])}))},Qh.prototype.parse=function(e){var t=this;if(this.g==Zh)return[];var n=[],r=0,i=[];return(new Ca).box("moof",(function(e){r=e.start,i=[],Ma(e)})).box("traf",(function(e){i.push({baseMediaDecodeTime:null,jd:t.h,kd:t.i,kh:[],timescale:9e4}),Ma(e)})).R("trun",(function(e){var t=i[i.length-1];e=Lo(e.reader,e.version,e.flags),t.kh.push(e)})).R("tfhd",(function(e){var n=i[i.length-1];e=Mo(e.reader,e.flags),n.jd=e.jd||t.h,n.kd=e.kd||t.i,e=e.trackId,t.j.has(e)&&(n.timescale=t.j.get(e))})).R("tfdt",(function(e){var t=i[i.length-1];e=Do(e.reader,e.version),t.baseMediaDecodeTime=e.baseMediaDecodeTime})).box("mdat",(function(e){for(var a=r-e.start-8,o=e.reader.Aa(),s=c(i),u=s.next();!u.done;u=s.next()){if(null===(u=u.value).baseMediaDecodeTime)throw Y("Unable to find base media decode time for CEA captions!"),new Le(2,2,2010);e.reader.seek(o),Jh(t,e.reader,u.baseMediaDecodeTime,u.timescale,u.jd,u.kd,a,u.kh,n)}})).parse(e,!1),n},V("shaka.cea.Mp4CeaParser",Qh);var Zh=0,eg=1,tg=2,ng=3,rg=(new Map).set("avc1",eg).set("avc3",eg).set("dvav",eg).set("dva1",eg).set("hev1",tg).set("hvc1",tg).set("dvh1",tg).set("dvhe",tg).set("vvc1",ng).set("vvi1",ng).set("dvc1",ng).set("dvi1",ng);function ig(){this.g=null}function ag(e){return(e=function(e){var t=0,n=De(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=Ce(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=Mt(Mn(e))).filter((function(e){return e.type===sg}))[0])&&(e=kn(e=bt(e.value,!0),"WRMHEADER"))?e:null}function og(e){try{var t=ag(e);if(t)e:{for(var n=c(Pn(t,"DATA")),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.children)for(var a=c(i.children),o=a.next();!o.done;o=a.next()){var s=o.value;if("LA_URL"==s.tagName){var u=Mn(s);break e}}}u=""}else u="";return u}catch(l){return""}}tn("video/mp4",(function(){return new Qh})),ig.prototype.init=function(){},ig.prototype.parse=function(e){this.g?this.g.clearData():this.g=new qs;var t=[];if(!$s(e=Ce(e)))return t;var n=(e=this.g.parse(e)).md(),r=e.de();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(r=(n=c(r)).next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&null!=r.time)for(var i=c($h(r.data)),a=i.next();!a.done;a=i.next())t.push({packet:a.value,pts:r.time});return t},V("shaka.cea.TsCeaParser",ig),tn("video/mp2t",(function(){return new ig}));var sg=1;function ug(t,n,r){var i=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=cg(n.value))&&t.push(n);return t}(t),a=null;t=[];var o=[],s=null,u=new Set(i.map((function(e){return e.keyId})));u.delete(null);var l="cenc";if(1<u.size)throw new Le(2,4,4010);if(!n){if(1<(o=i.filter((function(e){return"urn:mpeg:dash:sea:2012"==e.$c}))).length)throw new Le(2,4,4050);o.length&&(s=function(t){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Le(2,4,4042);var n=Rn(t.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!n)throw new Le(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=n.attributes.schemeIdUri)throw new Le(2,4,4051);if(n=Rn(t.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!n)throw new Le(2,4,4051);if(t=n.attributes.IV,n=kt(n.attributes.keyUriTemplate),!t||!n)throw new Le(2,4,4051);if(t=Dt(t.substr(2)),16!=t.byteLength)throw new Le(2,4,4048);return{Xi:n,iv:t}}(o[0])),(o=i.find((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.$c})))&&o.encryptionScheme&&(l=o.encryptionScheme),(o=i.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.$c?(a=e.init||a,!1):"urn:mpeg:dash:sea:2012"!=e.$c}))).length&&(t=function(e,t,n,r,i){for(var a=[],o=(n=c(n)).next();!o.done;o=n.next()){var s=r[(o=o.value).$c];if(s){var u;if((u=Rn(o.node,"urn:microsoft:playready","pro"))&&Mn(u)){u=Mt(u=Mn(u));var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:Ba(u,l,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(l=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.$c){l=o;var d=i;if(0==d.size)l=null;else{var f=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);l=[{initData:Ba(new Uint8Array([]),f,d,1),initDataType:"cenc",keyId:l.keyId}]}}u=Nt(s,t,o.init||e||u||l),(s=dg.get(s))&&(u.licenseServerUri=s(o)),a.push(u)}}return a}(a,l,o,r,u),0==t.length&&(t=[Nt("",l,a)]))}if(i.length&&!s&&(n||!o.length))for(t=[],r=(n=c(Object.values(r))).next();!r.done;r=n.next())"org.w3.clearkey"!=(r=r.value)&&t.push(Nt(r,l,a));if(u=Array.from(u)[0]||null)for(n=(l=c(t)).next();!n.done;n=l.next())for(r=(n=c(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=u;return{Jg:u,Pk:a,drmInfos:t,cf:s,Og:!0}}function lg(e){var t=Rn(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=Mn(t)))return t;if((t=Rn(e.node,"urn:microsoft:playready","pro"))&&Mn(t))return og(t);if((e=Rn(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=Mn(e))){t=Mt(e),e=8;var n=(t=De(t)).getUint8(e);return e+=20,0<n&&(e+=4+16*t.getUint32(e)),og(e=kn("<pro>"+(e=It(e=Ce(t,e+4)))+"</pro>"))}return""}function cg(e){var t=e.attributes.schemeIdUri,n=_n(e,"urn:mpeg:cenc:2013","default_KID"),r=jn(e,"urn:mpeg:cenc:2013","pssh").map(Dn),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Le(2,4,4009);var a=[];try{a=r.map((function(e){return{initDataType:"cenc",initData:Mt(e),keyId:null}}))}catch(o){throw new Le(2,4,4007)}return{node:e,$c:t,keyId:n,init:0<a.length?a:null,encryptionScheme:i}}var dg=(new Map).set("com.apple.fps",(function(t){if("apple"===e.shakaMediaKeysPolyfill)throw new Le(2,4,4054);return(t=Rn(t.node,"https://dashif.org/CPS","Laurl"))&&(t=Mn(t))?t:""})).set("com.widevine.alpha",(function(e){var t=Rn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Mn(t))?t:(e=Rn(e.node,"urn:microsoft","laurl"))&&kt(e.attributes.licenseUrl)||""})).set("com.microsoft.playready",lg).set("com.microsoft.playready.recommendation",lg).set("com.microsoft.playready.software",lg).set("com.microsoft.playready.hardware",lg).set("org.w3.clearkey",(function(e){var t=Rn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Mn(t))?t:(e=Rn(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.attributes.Lic_type&&e&&(e=Mn(e))?e:""}));function fg(t,n,r,i,a,o){var s=(new Map).set("RepresentationID",n).set("Number",r).set("SubNumber",i).set("Bandwidth",a).set("Time",o);return t.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=s.get(n);if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&"bigint"!=typeof a&&(.2<=Math.abs(a-Math.round(a))&&Y("Calculated $Time$ values must be close to integers"),a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function pg(e,t){var n=gg(e,t,"timescale"),r=1;n&&(r=Hn(n)||1);var i=(n=Hn((n=gg(e,t,"duration"))||""))?n/r:null,a=gg(e,t,"startNumber"),o=Number(gg(e,t,"presentationTimeOffset"))||0,s=zn(a||"");if(null!=a&&null!=s||(s=1),a=null,t=mg(e,t,"SegmentTimeline")){t=Cn(t,"S"),a=r,e=e.ha.duration||1/0;for(var u=s,l=[],c=-o,d=0;d<t.length;++d){var f=t[d],p=t[d+1],h=Nn(f,"t",zn),g=Nn(f,"d",zn),m=Nn(f,"r",Vn);if(f=Nn(f,"k",Vn)||0,null!=h&&(h-=o),g){if(h=null!=h?h:c,0>(m=m||0))if(p){if(null==(p=Nn(p,"t",zn)))break;if(h>=p)break;m=Math.ceil((p-h)/g)-1}else{if(1/0==e)break;if(h/a>=e)break;m=Math.ceil((e*a-h)/g)-1}for(0<l.length&&h!=c&&(l[l.length-1].end=h/a),p=0;p<=m;++p)c=h+g,l.push({start:h/a,end:c/a,xg:h,Hb:f,wj:l.length+u}),h=c}}a=l}return{timescale:r,Ie:n,Ua:i,Kd:s,hc:o/r||0,wg:o,timeline:a}}function hg(e,t){return[t(e.J),t(e.ga),t(e.pa)].filter(ii)}function gg(e,t,n){t=hg(e,t),e=null;for(var r=(t=c(t)).next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function mg(e,t,n){t=hg(e,t),e=null;for(var r=(t=c(t)).next();!r.done&&!(e=Ln(r.value,n));r=t.next());return e}function vg(e,t,n,r,i,a){if(a=void 0===a?0:a,_n(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=_n(e,"http://www.w3.org/1999/xlink","href"),s=_n(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=c(Object.keys(e.attributes)),l=u.next();!l.done;l=u.next()){var d=(l=l.value).split(":"),f=An("http://www.w3.org/1999/xlink");d[0]==f&&delete e.attributes[l]}if(5<=a)return Ji(new Le(2,4,4028));if("onLoad"!=s)return Ji(new Le(2,4,4027));var p=Rt([r],[o]);return i.request(0,fa(p,t)).Ga((function(r){if(!(r=Tn(r.data,e.tagName)))return Ji(new Le(2,4,4001,o));for(e.children=[];r.children.length;){var s=r.children.shift();e.children.push(s)}for(var u=(s=c(Object.keys(r.attributes))).next();!u.done;u=s.next())u=u.value,e.attributes[u]=r.attributes[u];return vg(e,t,n,p[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.Ga(void 0,(function(){return vg(e,t,n,r,i,a)}))),o}o=[];for(var s=c(In(e)),u=s.next(),l={};!u.done;l={fd:void 0},u=s.next())l.fd=u.value,"urn:mpeg:dash:resolve-to-zero:2013"==_n(l.fd,"http://www.w3.org/1999/xlink","href")?e.children=e.children.filter(function(e){return function(t){return t!==e.fd}}(l)):"SegmentTimeline"!=l.fd.tagName&&o.push(vg(l.fd,t,n,r,i,a));return na(o).Ga((function(){return e}))}function yg(e,t,n,r,i,a,o){var s,u=(new Ca).R("sidx",(function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var u=o.reader.S();if(0==u)throw new Le(2,3,3005);if(0==o.version)var l=o.reader.S(),c=o.reader.S();else l=o.reader.Zc(),c=o.reader.Zc();o.reader.skip(2);var d=o.reader.ma();for(e=e+o.size+c,c=0;c<d;c++){var f=o.reader.S(),p=(2147483648&f)>>>31;f&=2147483647;var h=o.reader.S();if(o.reader.skip(4),1==p)throw new Le(2,3,3006);s.push(new gs(l/u+n,(l+h)/u+n,(function(){return a}),e,e+f-1,t,n,r,i)),l+=h,e+=f}return o.parser.stop(),s}(t,r,i,a,o,n,e)}));if(e&&u.parse(e),s)return s;throw new Le(2,3,3004)}function bg(e){this.h=De(e),this.g=new Aa(this.h,0)}function wg(e){var t=Sg(e);if(7<t.length)throw new Le(2,3,3002);for(var n=0,r=(t=c(t)).next();!r.done;r=t.next())n=256*n+r.value;t=Sg(e);e:{for(var i=(r=c(xg)).next();!i.done;i=r.next())if(Ee(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.Aa();else{if(8==t.length&&224&t[1])throw new Le(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=0==i?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.Aa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Aa(),r=De(e.h,e.g.Aa(),t),e.g.skip(t),new Tg(n,r)}function Sg(e){var t=e.g.Aa(),n=e.g.X();if(0==n)throw new Le(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Ce(e.h,t,n)}bg.prototype.ta=function(){return this.g.ta()};var xg=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Tg(e,t){this.id=e,this.g=t}function kg(e){if(8<e.g.byteLength)throw new Le(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Le(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){t=256*t+e.g.getUint8(n)}return t}function Ag(e){var t=new bg(e.g);if(179!=(e=wg(t)).id)throw new Le(2,3,3013);if(e=kg(e),183!=(t=wg(t)).id)throw new Le(2,3,3012);t=new bg(t.g);for(var n=0;t.ta();){var r=wg(t);if(241==r.id){n=kg(r);break}}return{Jj:e,nj:n}}function Eg(e,t,n){if(!(t=mg(e,t,"Initialization")))return null;var r=e.J.Ra(),i=t.attributes.sourceURL;i&&(r=Rt(r,[kt(i)],e.sb())),i=0;var a=null;return(t=Nn(t,"range",Bn))&&(i=t.start,a=t.end),(n=new ps((function(){return r}),i,a,Lg(e),null,null,n,e.ga.encrypted)).codecs=e.J.codecs,n.mimeType=e.J.mimeType,e.ha&&(n.g=e.ha.start+e.ha.duration),n}function Ig(e,t,n){var r=Number(gg(e,Mg,"presentationTimeOffset"))||0,i=gg(e,Mg,"timescale"),a=1;i&&(a=Hn(i)||1);var o=r/a||0,s=Eg(e,Mg,n);!function(e,t){if(Pg(e,t),!Dg(e))throw new Le(2,4,4002)}(e,s);var u=Sn(e);return{rc:function(){var e=mg(u,Mg,"RepresentationIndex"),n=u.J.Ra();return e&&(e=kt(e.attributes.sourceURL))&&(n=Rt(n,[e],u.sb())),e=Dg(u),Cg(u,t,s,n,e.start,e.end,o)}}}function Cg(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E;return R((function(I){if(1==I.g)return s=e.presentationTimeline,u=!e.Mb||!e.ha.Zg,l=e.ha.start,d=e.ha.duration,f=e.J.mimeType.split("/")[1],h=null,g=[(p=t)(r,i,a,!1),"webm"==f?p(n.N(),n.startByte,n.endByte,!0):null],p=null,S(I,Promise.all(g),2);if(m=I.h,v=m[0],y=m[1]||null,null,w=l-o,x=l,T=d?l+d:1/0,"mp4"==f)var C=yg(v,i,r,n,w,x,T);else{C=v;var M=new bg(y);if(440786851!=wg(M).id)throw new Le(2,3,3008);var D=wg(M);if(408125543!=D.id)throw new Le(2,3,3009);M=D.g.byteOffset,D=new bg(D.g);for(var P=null;D.ta();){var L=wg(D);if(357149030==L.id){P=L;break}}if(!P)throw new Le(2,3,3010);for(P=new bg(P.g),L=1e6,D=null;P.ta();){var R=wg(P);if(2807729==R.id)L=kg(R);else if(17545==R.id)if(4==R.g.byteLength)D=R.g.getFloat32(0);else{if(8!=R.g.byteLength)throw new Le(2,3,3003);D=R.g.getFloat64(0)}}if(null==D)throw new Le(2,3,3011);if(D*=P=L/1e9,475249515!=(C=wg(new bg(C))).id)throw new Le(2,3,3007);C=function(e,t,n,r,i,a,o,s,u){function l(){return i}var c=[];e=new bg(e.g);for(var d=null,f=null;e.ta();){var p=wg(e);if(187==p.id){var h=Ag(p);h&&(p=n*h.Jj,h=t+h.nj,null!=d&&c.push(new gs(d+o,p+o,l,f,h-1,a,o,s,u)),d=p,f=h)}}return null!=d&&c.push(new gs(d+o,r+o,l,f,null,a,o,s,u)),c}(C,M,P,D,r,n,w,x,T)}for(k=c(b=C),A=k.next();!A.done;A=k.next())(E=A.value).codecs=e.J.codecs,E.mimeType=e.J.mimeType,E.bandwidth=e.bandwidth;return s.Cd(b),h=new Ku(b),u&&h.Mc(x,T,!0),I.return(h)}))}function Mg(e){return e.bd}function Dg(e){var t=mg(e,Mg,"RepresentationIndex");return e=Bn((e=gg(e,Mg,"indexRange"))||""),t&&(e=Nn(t,"range",Bn,e)),e}function Pg(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=Ft&&"mp4"!=n&&"webm"!=n)throw new Le(2,4,4006);if("webm"==n&&!t)throw new Le(2,4,4005)}function Lg(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.qe,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function Rg(e,t,n){var r=Eg(e,Ng,n),i=function(e){var t=function(e){return[e.J.Xb,e.ga.Xb,e.pa.Xb].filter(ii).map((function(e){return Cn(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.attributes.indexRange&&!e.Lf&&(e.Lf=!0),{cj:kt(t.attributes.media),start:(t=Nn(t,"mediaRange",Bn,{start:0,end:null})).start,end:t.end}}))}(e);e=pg(e,Ng);var n=e.Kd;0==n&&(n=1);var r=0;return e.Ua?r=e.Ua*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Ua:e.Ua,startTime:r,Kd:n,hc:e.hc,timeline:e.timeline,Vc:t}}(e);if(!i.Ua&&!i.timeline&&1<i.Vc.length)throw new Le(2,4,4002);if(!i.Ua&&!e.ha.duration&&!i.timeline&&1==i.Vc.length)throw new Le(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new Le(2,4,4002);var a=null,o=null;e.pa.id&&e.J.id&&(o=t.get(e.pa.id+","+e.J.id))&&(a=o.segmentIndex);var s=function(e,t,n,r,i,a,o,s,u,l){var c=r.Vc.length;r.timeline&&r.timeline.length!=r.Vc.length&&(c=Math.min(r.timeline.length,r.Vc.length));for(var d=e-r.hc,f=t?e+t:1/0,p=[],h=r.startTime,g={},m=0;m<c;g={Ke:void 0,Ae:void 0},m++){g.Ae=r.Vc[m];var v=h;h=void 0,h=null!=r.Ua?v+r.Ua:r.timeline?r.timeline[m].end:v+t,g.Ke=null,(g=new gs(e+v,e+h,function(e){return function(){return null==e.Ke&&(e.Ke=Rt(n(),[e.Ae.cj],l())),e.Ke}}(g),g.Ae.start,g.Ae.end,i,d,e,f,[],"",null,null,vs,a)).codecs=s,g.mimeType=o,g.bandwidth=u,p.push(g)}return p}(e.ha.start,e.ha.duration,e.J.Ra,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.sb);return t=!a,a?a.yd(s,e.presentationTimeline.nb()):a=new Ku(s),e.presentationTimeline.Cd(s),e.Mb&&e.ha.Zg||a.Mc(e.ha.start,e.ha.duration?e.ha.start+e.ha.duration:1/0,t),o&&(o.segmentIndex=a),{rc:function(){return a&&0!=a.getNumReferences()||a.me(s),Promise.resolve(a)}}}function Ng(e){return e.Xb}function _g(t,n,r,i,a,o,s,u,l){l||t.J.fe||(t.J.fe=gg(t,jg,"initialization"));var d=t.J.fe?function(e,t){var n=e.J.fe;if(n||(n=gg(e,jg,"initialization")),!n)return null;n=kt(n);var r=e.J.originalId,i=e.bandwidth||null,a=e.J.Ra,o=e.sb;return t=new ps((function(){var e=fg(n,r,null,null,i,null);return Rt(a(),[e],o())}),0,null,Lg(e),null,null,t,e.ga.encrypted),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,e.ha&&(t.g=e.ha.start+e.ha.duration),t}(t,s):null,f=function(e){var t=pg(e,jg),n=gg(e,jg,"media"),r=gg(e,jg,"index"),i=gg(e,jg,"k"),a=0;return i&&(a=parseInt(i,10)),{Ie:t.Ie,Ua:t.Ua,timescale:t.timescale,Kd:t.Kd,hc:t.hc,wg:t.wg,timeline:t.timeline,ec:n&&kt(n),td:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,dj:a}}(t);!function(e){var t=e.td?1:0;if(t+=e.timeline?1:0,t+=e.Ua?1:0,0==t)throw new Le(2,4,4002);if(1!=t&&(e.td&&(e.timeline=null),e.Ie=null,e.Ua=null),!e.td&&!e.ec)throw new Le(2,4,4002)}(f);var p=Sn(t);if(f.td)return Pg(t,d),{rc:function(){var e=fg(f.td,p.J.originalId,null,null,p.bandwidth||null,null);return e=Rt(p.J.Ra(),[e]),Cg(p,n,d,e,0,null,f.hc)}};if(f.Ua)return i||"image"===t.ga.contentType||"text"===t.ga.contentType||(r=t.ha.start,i=t.pa.id,l=t.ha.duration,i=(i=null!=i&&o.get(i)||l)?r+i:1/0,t.presentationTimeline.Tf(f.Ua),t.presentationTimeline.ih(r,i)),{rc:function(){return function(t,n,r,i,a,o,s,u){function l(r){var a=r-y,s=a*v,l=n.Ie,c=a*l;"BigInt"in e&&c>Number.MAX_SAFE_INTEGER&&(c=BigInt(a)*BigInt(l)),a=(s+=h)+v,l=Math.min(a,f());var d=[],p=n.dj;if(p)for(var g=(l-s)/p,m={},A=0;A<p;m={Dh:void 0},A++){var E=s+g*A,I=E+g;m.Dh=A+1,(m=new gs(E,I,function(e){return function(){var t=fg(b,S,r,e.Dh,w,c);return Rt(x(),[t],T())}}(m),0,null,i,k,h,f(),[],"",null,null,vs,o)).codecs=t.J.codecs,m.mimeType=t.J.mimeType,0==u?0<A&&m.Tc():0!=A%u&&m.Tc(),d.push(m)}return(s=new gs(s,l,(function(){if(p)return[];var e=fg(b,S,r,null,w,c);return Rt(x(),[e],T())}),0,null,i,k,h,f(),d,"",null,null,vs,o,0<d.length)).codecs=t.J.codecs,s.mimeType=t.J.mimeType,s.bandwidth=t.bandwidth,s.j=a,s}function d(){var e=[Math.max(p.nb(),h),Math.min(p.bc(),f())].map((function(e){return e-h}));return e=[Math.ceil(e[0]/v),Math.ceil(e[1]/v)-1],t.J.ab&&e[1]++,e.map((function(e){return e+y}))}function f(){var e=null!=g&&a.get(g)||m;return e?h+e:1/0}var p=t.presentationTimeline,h=t.ha.start,g=t.pa.id,m=t.ha.duration,v=n.Ua,y=n.Kd,b=n.ec,w=t.bandwidth||null,S=t.J.id,x=t.J.Ra,T=t.sb,k=h-n.hc,A=d();r=t.Mb?Math.max(A[0],A[1]-r+1):A[0],s=s||A[1],A=[];for(var E=r;E<=s;++E){var I=l(E);A.push(I)}var C=new Ku(A);if(A=p.bc()<f(),E=p.U(),A||E){var M=Math.max(r,s+1);r=v,t.J.ab&&(r=.1),C.Je(r,(function(){var e=p.nb();C.Na(e);var t=c(d());t.next(),t=t.next().value;for(var n=[];M<=t;){var r=l(M);n.push(r),M++}return e>f()&&!n.length?null:n}))}return Promise.resolve(C)}(p,f,a,d,o,s,u,t.J.Be)}};var h=null;i=i=null,t.pa.id&&t.J.id&&(i=t.pa.id+","+t.J.id,i=r.get(i))&&(h=i.segmentIndex);var g=t.ha.start,m=t.ha.duration?g+t.ha.duration:1/0;return h?(Ug(r=h,f,g,m,d),r.Na(t.presentationTimeline.nb())):h=new Og(f,t.J.originalId,t.bandwidth,t.J.Ra,t.sb,g,m,d,s,t.J.Be),f.timeline&&"image"!==t.ga.contentType&&"text"!==t.ga.contentType&&t.presentationTimeline.jh(h.h?h.h.timeline:[],g),i&&t.Mb&&(i.segmentIndex=h),{rc:function(){return h instanceof Og&&0==h.getNumReferences()&&Ug(h,f,g,m,d),Promise.resolve(h)}}}function jg(e){return e.ic}function Og(e,t,n,r,i,a,o,s,u,l){Ku.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=a,this.l=o,this.u=s,this.A=u,this.G=l,Fg(this)}function Ug(e,t,n,r,i){if(function(e,t){if(e.u!==t){e.u=t;for(var n=(e=c(e.g)).next();!n.done;n=e.next())(n=n.value)&&ms(n,t)}}(e,i),e.h){if(n=e.h.timeline,e.h.ec!==t.ec&&(e.h.ec=t.ec),n.length){var a=n[n.length-1];t=t.timeline.filter((function(e){return e.end>a.end}))}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,d(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;Fg(e)}function Fg(e){if(e.h&&!e.o){for(var t=[],n=c(e.h.timeline),r=n.next();!r.done;r=n.next())(r=r.value).start>=e.l||0>=r.end||t.push(r);e.h.timeline=t,e.Na(e.j)}}function Bg(e,t,n,r,i,a,o,s){return e=fg(e,t,n,a,r||null,i),Rt(o(),[e],s()).map((function(e){return e.toString()}))}function Vg(e){this.o=null,this.A=e,this.G=new sa,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.u="UNKNOWN"}function Hg(e,t){var n,r,i,a,o,s,u;return R((function(l){return 1==l.g?(n=Rt(e.i,[zg(e,t)]),r=fa(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),ua(e.G,i),T(l,2),S(l,i.promise,4)):2!=l.g?(a=l.h,o=yt(a.data),1==(s=JSON.parse(o)).VERSION&&function(e,t,n){null!=e.g&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new He((function(){Hg(e,r)})),(n=t.TTL)&&(e.C=n);e.g.da(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}(e,s,a.uri),A(l,0)):(u=E(l))&&7001==u.code?l.return():(null!=e.g&&(e.g.stop(),e.g=null),e.g=new He((function(){Hg(e,t)})),e.g.da(e.C),void x(l))}))}function zg(e,t){if(!e.m.length)return t;t=new le(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return"DASH"==e.u?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):"HLS"==e.u&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),ke(i)&&pe(t,i),t.toString()}function Gg(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}function Kg(e,t,n){n=void 0!==n&&n,t=e.l.get(t)||new Map;for(var r=[],i=c(e.m),a=i.next(),o={};!a.done;o={Xc:void 0},a=i.next())if(o.Xc=a.value,a=t.get(o.Xc))r.push({Yf:o.Xc,location:a});else if(a=e.F.find(function(e){return function(t){return t.ek==e.Xc}}(o))){var s=t.get(a["BASE-ID"]);s&&(a["URI-REPLACEMENT"].Nh?(de(s=new le(s),a["URI-REPLACEMENT"].Nh),r.push({Yf:o.Xc,location:s.toString()})):r.push({Yf:o.Xc,location:s}))}for(i=Date.now(),a=(o=c(e.j.keys())).next();!a.done;a=o.next())a=a.value,i>(s=e.j.get(a))&&e.j.delete(a);if(r=r.filter((function(t){for(var n=c(e.j.keys()),r=n.next();!r.done;r=n.next())if(r.value.includes(new le(t.location).lb))return!1;return!0})),r.length&&(e.B=r[0].Yf),r=r.map((function(e){return e.location})),!r.length&&e.h)for(o=(i=c(e.h.split(","))).next();!o.done;o=i.next())(o=t.get(o.value))&&(e.B=e.h,r.push(o));if(!r.length)for(i=(t=c(t.values())).next();!i.done;i=t.next())r.push(i.value);return n?r:Rt(e.i,r)}function qg(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=this.o=!1,this.m=new Set}function Wg(e,t){for(var n=[],r=[],i=[],a=[],o=(e=c(e)).next();!o.done;o=e.next()){var s=o.value;o=new Map(s.audioStreams.map((function(e){return[bm(e),e]})));var u=new Map(s.videoStreams.map((function(e){return[ym(e),e]}))),l=new Map(s.textStreams.map((function(e){return[wm(e),e]})));if(s=new Map(s.imageStreams.map((function(e){return[Sm(e),e]}))),t){var d=hm(Ft);l.set(wm(d),d),d=hm("image"),s.set(Sm(d),d)}n.push(o),r.push(u),i.push(l),a.push(s)}return{Dg:n,Lh:r,Hh:i,Xg:a}}function Xg(e){var t,n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E,I,C,M,D,P;return R((function(L){switch(L.g){case 1:if(t=Bt,1==e.length)return L.return(e[0]);for(n=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.V})).map((function(e){return[bm(e),e]})))})),r=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.la})).map((function(e){return[ym(e),e]})))})),i=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.va})).map((function(e){return[wm(e),e]})))})),a=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.$e})).map((function(e){return[Sm(e),e]})))})),o=c(i),s=o.next();!s.done;s=o.next())u=s.value,l=pm(t.va),u.set(wm(l),l);for(d=c(a),f=d.next();!f.done;f=d.next())p=f.value,h=pm(t.$e),p.set(Sm(h),h);return S(L,Yg(g=new qg,[],n,0,em,nm,0),2);case 2:return m=L.h,S(L,Yg(g,[],r,0,em,nm,0),3);case 3:return v=L.h,S(L,Yg(g,[],i,0,em,nm,0),4);case 4:return y=L.h,S(L,Yg(g,[],a,0,em,nm,0),5);case 5:if(b=L.h,w=0,v.length&&m.length)for(A=c(m),E=A.next();!E.done;E=A.next())for(I=E.value,C=c(v),M=C.next();!M.done;M=C.next())D=M.value,P=w++,D.variantIds.push(P),I.variantIds.push(P);else for(x=v.concat(m),T=c(x),k=T.next();!k.done;k=T.next())k.value.variantIds=[w++];return L.return(v.concat(m).concat(y).concat(b))}}))}function Yg(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E;return R((function(I){switch(I.g){case 1:for(s=[],u=0;u<n.length;u++)u>=r?s.push(new Set(n[u].values())):s.push(new Set);l=c(t),d=l.next();case 2:if(d.done){I.s(4);break}return f=d.value,S(I,function(e,t,n,r,i,a,o){return R((function(s){return 1==s.g?(rm(e,n,t,0<o),t.matchedStreams?t.segmentIndex?S(s,$g(t,r+o),2):s.s(2):s.return(!1)):(Jg(t,r,i,a,o),s.return(!0))}))}(e,f,n,r,a,s,o),5);case 5:if(!I.h)throw new Le(2,4,4037);d=l.next(),I.s(2);break;case 4:for(p=c(s),h=p.next();!h.done;h=p.next())for(g=h.value,m=c(g),v=m.next();!v.done;v=m.next())y=v.value,(b=Qg(e,y,n,i,a,s))&&t.push(b);for(w=c(s),x=w.next();!x.done;x=w.next())for(T=x.value,k=c(T),A=k.next(),E={};!A.done;E={ng:void 0},A=k.next())if(E.ng=A.value,!vm(E.ng)&&t.some(function(t){return function(n){return om(e,t.ng,n)}}(E)))throw new Le(2,4,4037);return I.return(t)}}))}function $g(e,t){var n,r,i,a,o,s;return R((function(u){if(1==u.g){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)a=r[i],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex()),a.dependencyStream&&!a.dependencyStream.segmentIndex&&n.push(a.dependencyStream.createSegmentIndex());return S(u,Promise.all(n),2)}if(e.segmentIndex instanceof Yu)for(o=t;o<r.length;o++)(s=r[o]).segmentIndex&&e.segmentIndex.h.push(s.segmentIndex);x(u)}))}function Qg(e,t,n,r,i,a){if(vm(t))return null;var o=r(t);return rm(e,n,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return R((function(e){return o.segmentIndex?e.s(0):(o.segmentIndex=new Yu,S(e,$g(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?(Jg(o,0,i,a,0),o):null}function Jg(e,t,n,r,i){var a=e.matchedStreams;for(t+=i;t<a.length;t++){var o=a[t];n(e,o);var s=!0;if("audio"==e.type&&0==di(e.language,o.language)&&(s=!1),s&&(r[t-i].delete(o),o.fullMimeTypes))for(s=(o=c(o.fullMimeTypes.values())).next();!s.done;s=o.next())e.fullMimeTypes.add(s.value)}}function Zg(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=c(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function em(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function tm(e,t){function n(e,t){e||(e=[]);for(var n=(t=c(t)).next();!n.done;n=t.next())n=n.value,e.includes(n)||e.push(n);return e}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=c(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(null==e.originalId?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=je(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new Le(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=(r=c(t.closedCaptions)).next();!i.done;i=r.next()){var a=c(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Zg(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var t=new Yu,n=c(e.trickModeVideo.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.trickModeVideo.segmentIndex=t,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),tm(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),tm(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=Zg(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var t=new Yu,n=c(e.dependencyStream.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.dependencyStream.segmentIndex=t,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),tm(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),tm(e.dependencyStream,t))}function nm(e,t){var n=e.roles;n||(n=[]);for(var r=c(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,r=(n=c(t.keyIds)).next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,d(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),n=(t=c(t.closedCaptions)).next();!n.done;n=t.next())n=(r=c(n.value)).next().value,r=r.next().value,e.closedCaptions.set(n,r)}function rm(e,t,n,r){r=void 0!==r&&r?n.matchedStreams:[];for(var i=(t=c(t)).next();!i.done;i=t.next()){if(!(i=im(e,i.value,n)))return;r.push(i)}n.matchedStreams=r}function im(e,t,n){var r={audio:bm,video:ym,text:wm,image:Sm}[n.type],i=null,a=r(n);if(t.has(a))i=t.get(a);else{a={audio:function(t,n){return om(e,t,n)},video:function(t,n){return om(e,t,n)},text:sm,image:um}[n.type];for(var o={audio:lm,video:cm,text:dm,image:fm}[n.type],s=c(t.values()),u=s.next();!u.done;u=s.next())!a(n,u=u.value)||n.fastSwitching!=u.fastSwitching||i&&!o(n,i,u)||(i=u)}return e.u&&!vm(i)&&t.delete(r(i)),i}function am(e,t){return e.mimeType==t.mimeType&&xm(e.codecs)===xm(t.codecs)}function om(e,t,n){return!(!am(t,n)&&!e.o||t.drmInfos&&!_e(t.drmInfos,n.drmInfos))}function sm(e,t){return!t.language||e.forced===t.forced&&0!=di(e.language,t.language)&&t.kind==e.kind}function um(){return!0}function lm(e,t,n){var r=am(e,t),i=am(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if(r=di(e.language,t.language),(i=di(e.language,n.language))>r)return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((r=gm(e.channelsCount,t.channelsCount,n.channelsCount))==Tm||r!=Am&&((r=gm(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==Tm||r!=Am&&!(!e.bandwidth||mm(e.bandwidth,t.bandwidth,n.bandwidth)!=Tm)))}function cm(e,t,n){var r=am(e,t),i=am(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if((r=gm(e.width*e.height,t.width*t.height,n.width*n.height))==Tm)return!0;if(r==Am)return!1;if(e.frameRate){if((r=gm(e.frameRate,t.frameRate,n.frameRate))==Tm)return!0;if(r==Am)return!1}return!(!e.bandwidth||mm(e.bandwidth,t.bandwidth,n.bandwidth)!=Tm)}function dm(e,t,n){var r=di(e.language,t.language),i=di(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function fm(e,t,n){return gm(e.width*e.height,t.width*t.height,n.width*n.height)==Tm}function pm(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function hm(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ku([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function gm(e,t,n){if(t==e&&e!=n)return Am;if(n==e&&e!=t)return Tm;if(t>e){if(n<=e||n-e<t-e)return Tm;if(n-e>t-e)return Am}else{if(n>e)return Am;if(e-n<e-t)return Tm;if(e-n>e-t)return Am}return km}function mm(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?Tm:t<e?Am:km}function vm(e){switch(e.type){case Ft:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function ym(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,xm(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function bm(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,xm(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function wm(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Sm(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function xm(e){if(!Em.has(e)){var t=Vr(e);Em.set(e,t)}return Em.get(e)}v(Og,Ku),(r=Og.prototype).getNumReferences=function(){return this.h?this.h.timeline.length:0},r.release=function(){Ku.prototype.release.call(this),this.h=null},r.Na=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.getNumReferences()&&this.release())}},r.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],a=i.start+this.j;if(i=r<n?t[r+1].start+this.j:1/0===this.l?i.end+this.j:this.l,e>=a&&e<i)return r+this.i}return null},r.get=function(e){var t=this;if(0>(e-=this.i)||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.wj,a=r.xg+this.h.wg;n=this.j-this.h.hc;var o=this.j+r.end,s=o;e===this.getNumReferences()-1&&1/0!==this.l&&(s=Math.min(s,this.l));for(var u=this.h.codecs,l=this.h.mimeType,c=this.h.bandwidth,d=[],f=(r.end-r.start)/r.Hb,p={},h=0;h<r.Hb;p={Le:void 0,Eh:void 0},h++){var g=r.start+f*h,m=g+f;p.Eh=h+1,p.Le=null,(p=new gs(this.j+g,this.j+m,function(e){return function(){return t.h?(null==e.Le&&(e.Le=Bg(t.h.ec,t.F,i,t.B,a,e.Eh,t.C,t.H)),e.Le):[]}}(p),0,null,this.u,n,this.j,this.l,[],"",null,null,vs,this.A)).codecs=u,p.mimeType=l,p.bandwidth=c,0==this.G?0<h&&p.Tc():0!=h%this.G&&p.Tc(),d.push(p)}(n=new gs(this.j+r.start,s,(function(){return 0<r.Hb||!t.h?[]:Bg(t.h.ec,t.F,i,t.B,a,null,t.C,t.H)}),0,null,this.u,n,this.j,this.l,d,"",null,null,vs,this.A,0<r.Hb)).codecs=u,n.mimeType=l,n.j=o,n.bandwidth=c,this.g[e]=n}return n},r.vb=function(e){Fg(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}},Vg.prototype.configure=function(e){this.o=e},Vg.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),null!=this.g&&(this.g.stop(),this.g=null),this.G.destroy()},Vg.prototype.setManifestType=function(e){this.u=e},Vg.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)},(r=qg.prototype).release=function(){for(var e=c(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=this.o=!1,this.m.clear()},r.Ki=function(){return this.l},r.Jf=function(){return this.j.slice()},r.oi=function(){return this.i},r.Kg=function(e,t){if(e){if("audio"==e.type)for(var n=c(this.h),r=n.next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("video"==e.type)for(r=(n=c(this.g)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e})),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter((function(t){return t!==e}))),r.dependencyStream&&(r.dependencyStream.matchedStreams=r.dependencyStream.matchedStreams.filter((function(t){return t!==e})));else if(e.type==Ft)for(r=(n=c(this.j)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("image"==e.type)for(r=(n=c(this.i)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}},r.gf=function(e,t,n){n=void 0!==n&&n;var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,T,k,A,E,I,C,M,D,P,L,N,_,j,O,U,F=this;return R((function(R){if(1==R.g){if(r=Bt,!t&&1==e.length)return i=Wg(e,!1),a=i.Dg,o=i.Lh,s=i.Hh,u=i.Xg,F.h=Array.from(a[0].values()),F.g=Array.from(o[0].values()),F.j=Array.from(s[0].values()),F.i=Array.from(u[0].values()),R.s(2);for(l=n?F.m.size:0,d=-1,f=0;f<e.length;f++)p=e[f],F.m.has(p.id)||(F.m.add(p.id),-1==d&&(d=f));return-1==d?R.return():(h=Wg(e,!0),g=h.Dg,m=h.Lh,v=h.Hh,y=h.Xg,S(R,Promise.all([Yg(F,F.h,g,d,Zg,tm,l),Yg(F,F.g,m,d,Zg,tm,l),Yg(F,F.j,v,d,Zg,tm,l),Yg(F,F.i,y,d,Zg,tm,l)]),2))}if(b=0,w=[],F.g.length&&F.h.length)for(M=c(F.h),D=M.next();!D.done;D=M.next())for(P=D.value,L=c(F.g),N=L.next();!N.done;N=L.next())_=N.value,j=je(P.drmInfos,_.drmInfos),P.drmInfos.length&&_.drmInfos.length&&!j.length||(O=(P.bandwidth||0)+(_.bandwidth||0),P.dependencyStream&&(O+=P.dependencyStream.bandwidth||0),_.dependencyStream&&(O+=_.dependencyStream.bandwidth||0),U=b++,w.push({id:U,language:P.language,disabledUntilTime:0,primary:P.primary,audio:P,video:_,bandwidth:O,drmInfos:j,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(T=F.g.length?F.g:F.h,k=c(T),A=k.next();!A.done;A=k.next())E=A.value,I=b++,C=E.bandwidth||0,E.dependencyStream&&(C+=E.dependencyStream.bandwidth||0),w.push({id:I,language:E.language,disabledUntilTime:0,primary:E.primary,audio:E.type==r.V?E:null,video:E.type==r.la?E:null,bandwidth:C,drmInfos:E.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});F.l=w,x(R)}))},r.th=function(e){this.o=e},r.zh=function(e){this.u=e},V("shaka.util.PeriodCombiner",qg),qg.prototype.setUseStreamOnce=qg.prototype.zh,qg.prototype.setAllowMultiTypeVariants=qg.prototype.th,qg.prototype.combinePeriods=qg.prototype.gf,qg.prototype.deleteStream=qg.prototype.Kg,qg.prototype.getImageStreams=qg.prototype.oi,qg.prototype.getTextStreams=qg.prototype.Jf,qg.prototype.getVariants=qg.prototype.Ki;var Tm=1,km=0,Am=-1,Em=new Map;function Im(e,t){try{return function(e,t){var n=new DOMParser,r=Cm.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(i){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}(wt(e),t)}catch(n){return null}}var Cm=new Ne((function(){if("undefined"!==typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}}));function Mm(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.oa=1,this.F=[],this.l={oe:"",type:"",profiles:[],Ub:null,ab:0,Ra:null,Gd:0},this.u=new Map,this.o=new Map,this.B=new Map,this.ka=new Map,this.m=new qg,this.I=0,this.na=new G(5),this.K=new He((function(){e.H&&!e.g.continueLoadingWhenPaused&&(e.G.Ia(e.H,"timeupdate"),e.H.paused)?e.G.qa(e.H,"timeupdate",(function(){return Gm(e)})):Gm(e)})),this.O=new sa,this.M=null,this.C=[],this.$=1/0,this.fa=!1,this.h=null,this.L=0,this.P=!1,this.G=new ee,this.H=null,this.T=!1,this.Z="",this.ea=function(){return!1},this.W=[]}function Dm(e){var t,n,r,i,a,o,s,u,l,f,p;return R((function(h){return 1==h.g?(t=4,n="MPD",r=function(e){var t=e.l.Gd;if(!e.l.oe||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter((function(e){return!(e=zn(e.attributes.ttl))||t+e>n})).map(Dn).filter(ii);return r.length?Rt(e.A,r):[]}(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&((a=Kg(e.h,"Location",!0)).length&&(i=a)),o=fa(i,e.g.retryParameters),s=Date.now(),S(h,Qm(e,o,0,{type:t}),2)):3!=h.g?(u=h.h,e.j?(u.uri&&u.uri!=u.originalUri&&!e.A.includes(u.uri)&&e.A.unshift(u.uri),l=new le(u.uri),e.Z=l.g.toString(),S(h,function(e,t,n,r){var i,a,o,s,u,l,f,p;return R((function(h){if(1==h.g){if(i=t,(a=e.g.dash.manifestPreprocessor)!=ic){if(ie("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),!(o=Im(i,r)))throw new Le(2,4,4001,n);a(o),i=St(o.outerHTML)}if(!(s=Tn(i,r)))throw new Le(2,4,4001,n);return(u=e.g.dash.manifestPreprocessorTXml)!=ac&&u(s),"Patch"===r?h.return(function(e,t){var n,r,i,a,o,s,u,l,f,p,h,g,m,v,y,b,w,T,k,A,E,I,C,M;return R((function(D){if(1==D.g){if(n=t.attributes.mpdId,r=Nn(t,"originalPublishTime",Un),!n||n!==e.l.oe||r!==e.l.Gd)throw e.F=[],new Le(1,4,4052);for(i=[],a=[],o=new Set,s=c(In(t)),u=s.next();!u.done;u=s.next())if(l=u.value,f=Wn(l.attributes.sel||""),p=f[f.length-1],h=Dn(l)||"","MPD"===p.name)if("mediaPresentationDuration"===p.Zb){var P=Fn(Dn(l)||"");if(null!=P){e.l.Ub=P;for(var L=c(e.u.values()),R=L.next();!R.done;R=L.next())R.value.Ub=P}}else if("type"===p.Zb){for(e.i.presentationTimeline.Ec("static"==h),e.l.type=h,L=(P=c(e.u.values())).next();!L.done;L=P.next())L.value.Mb="dynamic"==h;"static"==h&&(e.I=-1)}else"publishTime"===p.Zb?e.l.Gd=Un(h)||0:null===p.Zb&&"add"===l.tagName&&a.push(l);else if("PatchLocation"===p.name)Xn(e.F,l);else if("Period"===p.name)"add"===l.tagName?a.push(l):"remove"===l.tagName&&p.id&&Nm(e,p.id);else if("SegmentTemplate"===p.name){if((P=(L=Wn(l.attributes.sel||""))[L.length-1]).Zb){L=_m(e,L),R=Dn(l)||"";for(var N=c(L),_=N.next();!_.done;_=N.next())$n((_=e.u.get(_.value)).J.ic,l.tagName,P.Zb,R);P=L}else P=[];for(g=c(P),m=g.next();!m.done;m=g.next())v=m.value,o.add(v)}else if("SegmentTimeline"===p.name||"S"===p.name){for(P=Wn(l.attributes.sel||""),R=(L=c(P=_m(e,P))).next();!R.done;R=L.next())Xn(N=Cn(R=mg(R=e.u.get(R.value),jg,"SegmentTimeline"),"S"),l),R.children=N;for(y=c(P),b=y.next();!b.done;b=y.next())w=b.value,o.add(w)}for(T=c(o),k=T.next();!k.done;k=T.next())A=k.value,jm(e,A);for(E=c(a),I=E.next();!I.done;I=E.next())C=I.value,i.push.apply(i,d(Rm(e,C)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.L,S(D,Lm(e,i,!0),2)):D.s(2)}"static"==e.l.type&&(M=e.l.Ub,e.i.presentationTimeline.$a(M||1/0)),x(D)}))}(e,s)):e.g.dash.disableXlinkProcessing?h.return(Pm(e,s,n)):(l=e.g.dash.xlinkFailGracefully,f=vg(s,e.g.retryParameters,l,n,e.j.networkingEngine),ua(e.O,f),S(h,f.promise,2))}return p=h.h,h.return(Pm(e,p,n))}))}(e,u.data,u.uri,n),3)):h.return(0)):(f=Date.now(),p=(f-s)/1e3,e.na.sample(1,p),h.return(p))}))}function Pm(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,k,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z,G,K,q,W,X,$,Q,J,Z,ee,te,ne,re,ie,ae,oe,se,ue;return R((function(le){switch(le.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],a=new Map,o=Cn(t,"Location"),s=c(o),u=s.next();!u.done;u=s.next())l=u.value,d=l.attributes.serviceLocation,(f=Dn(l))&&(p=Rt(r,[f])[0],d&&(e.h?Gg(e.h,"Location",d,p):a.set(d,p)),i.push(p));if(e.h?0<(h=Kg(e.h,"Location",!0)).length&&(r=e.A=h):i.length&&(r=e.A=i),e.l.oe=t.attributes.id||"",e.l.Gd=Nn(t,"publishTime",Un)||0,e.F=Cn(t,"PatchLocation"),g=Promise.resolve(),(m=Ln(t,"ContentSteering"))&&e.j)for(v=m.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=v):(e.h=new Vg(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=v,(y=Dn(m))&&(Nn(m,"queryBeforeStart",Kn,!1)?g=Hg(e.h,y):Hg(e.h,y))),b=c(a.keys()),w=b.next();!w.done;w=b.next())k=w.value,I=a.get(k),Gg(e.h,"Location",k,I);if(C=Cn(t,"BaseURL"),M=!1,e.h)for(D=c(C),P=D.next();!P.done;P=D.next())L=P.value,N=L.attributes.serviceLocation,_=Dn(L),N&&_&&(Gg(e.h,"BaseURL",N,_),M=!0);if(e.W=null,M&&e.h||(j=C.map(Dn),e.W=Rt(r,j)),O=function(){return e.h&&M?Kg(e.h,"BaseURL"):e.W?e.W:[]},e.l.Ra=O,U=0,C&&C.length&&(U=Nn(C[0],"availabilityTimeOffset",Gn)||0),e.l.ab=U,e.I=Nn(t,"minimumUpdatePeriod",Fn,-1),F=Nn(t,"availabilityStartTime",Un),B=Nn(t,"timeShiftBufferDepth",Fn),V=e.g.dash.ignoreSuggestedPresentationDelay,H=null,V||(H=Nn(t,"suggestedPresentationDelay",Fn)),z=e.g.dash.ignoreMaxSegmentDuration,G=null,z||(G=Nn(t,"maxSegmentDuration",Fn)),K=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.T=e.i.presentationTimeline.U()&&"static"==K),e.l.type=K,e.i)for(q=e.i.presentationTimeline,W=q.nb(),X=c(e.o.values()),$=X.next();!$.done;$=X.next())(Q=$.value).segmentIndex&&Q.segmentIndex.Na(W);else J=e.g.dash.ignoreMinBufferTime,Z=0,J||(Z=Nn(t,"minBufferTime",Fn)||0),0,ee=null!=H?Math.min(H,B||1/0):0<e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:Math.min(1.5*Z,B||1/0),q=new Au(F,ee,e.g.dash.autoCorrectDrift);return q.Ec("static"==K),q.U()&&!isNaN(e.g.availabilityWindowOverride)&&(B=e.g.availabilityWindowOverride),null==B&&(B=1/0),q.De(B),te=t.attributes.profiles||"",e.l.profiles=te.split(","),ne={Mb:"static"!=K,presentationTimeline:q,pa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,ab:U,Ub:null,profiles:te.split(","),roles:null,sb:function(){return""}},S(le,g,2);case 2:return e.L=0,re=Fm(e,ne,O,t,!1),ie=re.duration,ae=re.periods,("static"!=K||e.T)&&re.Mg||q.$a(ie||1/0),e.P&&e.fa&&q.uh(e.$),q.Tf(G||1),e.P&&e.fa&&(oe=null!=H?H:e.g.defaultPresentationDelay,q.jg(oe)),e.i?(e.i.periodCount=ae.length,e.i.gapCount=e.L,S(le,Lm(e,ae,!1),4)):S(le,e.m.gf(ae,ne.Mb),6);case 6:if(e.i={presentationTimeline:q,variants:e.m.l,textStreams:e.m.Jf(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:Om(t),nextUrl:Um(t),periodCount:ae.length,gapCount:e.L,isLowLatency:e.P,startTime:null},!q.Jh()){le.s(7);break}return se=Cn(t,"UTCTiming"),S(le,function(e,t,n){var r,i,a,o,s,u,l,d;return R((function(f){switch(f.g){case 1:r=n.map((function(e){return{scheme:e.attributes.schemeIdUri,value:e.attributes.value}})),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=c(r),o=a.next();case 2:if(o.done){f.s(4);break}switch(s=o.value,T(f,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.s(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.s(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(l),f.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Y("NTP UTCTiming scheme is not supported");break;default:Y("Unrecognized scheme in UTCTiming element",u)}f.s(9);break;case 7:return S(f,Wm(e,t,l,"HEAD"),10);case 10:return f.return(f.h);case 8:return S(f,Wm(e,t,l,"GET"),11);case 11:return f.return(f.h);case 9:A(f,3);break;case 5:E(f);case 3:o=a.next(),f.s(2);break;case 4:return Y("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,O,se),8);case 8:if(ue=le.h,!e.j)return le.return();q.vh(ue);case 7:q.ke(),e.m&&!e.i.presentationTimeline.U()&&e.m.release();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),function(e){for(var t=Array.from(e.B.keys()).filter((function(t){return!e.C.includes(t)})),n=(t=c(t)).next();!n.done;n=t.next()){n=n.value;for(var r=!0,i=c(e.B.get(n)),a=i.next();!a.done;a=i.next()){a=a.value;var o=e.o.get(a);o&&(o.segmentIndex&&0!=o.segmentIndex.getNumReferences()?r=!1:(e.m&&e.m.Kg(o,n),e.o.delete(a)))}r&&e.B.delete(n)}}(e),x(le)}}))}function Lm(e,t,n){var r;return R((function(i){if(1==i.g)return S(i,e.m.gf(t,!0,n),2);e.i.variants=e.m.l,0<(r=e.m.Jf()).length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),x(i)}))}function Rm(e,t){return Fm(e,{Mb:"dynamic"==e.l.type,presentationTimeline:e.i.presentationTimeline,pa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,ab:e.l.ab,profiles:e.l.profiles,Ub:e.l.Ub,roles:null,sb:function(){return""}},e.l.Ra,t,!0).periods}function Nm(e,t){e.i.periodCount--;for(var n=c(e.u.keys()),r=n.next();!r.done;r=n.next())if((r=r.value).startsWith(t)){mg(e.u.get(r),jg,"SegmentTimeline").children=[],jm(e,r),e.u.delete(r)}e.C=e.C.filter((function(e){return e!==t}))}function _m(e,t){for(var n="",r="",i=-1,a="",o=(t=c(t)).next();!o.done;o=t.next())"Period"===(o=o.value).name?n=o.id:"AdaptationSet"===o.name?(r=o.id,null!==o.position&&(i=o.position)):"Representation"===o.name&&(a=o.id);if(t=[],a)t.push(n+","+a);else if(r)for(i=c(e.u.values()),e=i.next();!e.done;e=i.next())(e=e.value).pa.id===n&&e.ga.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=c(e.u.values()),e=r.next();!e.done;e=r.next())(e=e.value).pa.id===n&&e.ga.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function jm(e,t){var n=e.u.get(t),r=e.o.get(t);r.segmentIndex&&r.segmentIndex.Na(e.i.presentationTimeline.nb());try{var i=_g(n,(function(t,n,r,i){return Ym(e,t,n,r,i)}),e.o,!0,e.g.dash.initialSegmentLimit,e.ka,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return R((function(e){if(1==e.g)return r.segmentIndex?e.s(0):S(e,i.rc(),3);r.segmentIndex=e.h,x(e)}))}}catch(a){if((t=n.J.contentType)!=Ft&&"application"!=t&&"image"!=t||4002!=a.code)throw a}}function Om(e){var t=Ln(e,"ServiceDescription");if(!t)return null;if(e=Ln(t,"Latency"),t=Ln(t,"PlaybackRate"),!e&&!t)return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function Um(e){if(!(e=Cn(e,"SupplementalProperty")).length)return null;for(var t=(e=c(e)).next();!t.done;t=e.next())if("urn:mpeg:dash:chaining:2016"==(t=t.value).attributes.schemeIdUri)return t.attributes.value;return null}function Fm(e,t,n,r,i){var a=t.Ub;a||(a=Nn(r,"mediaPresentationDuration",Fn),e.l.Ub=a);var o=0;e.i&&e.i.presentationTimeline&&e.T&&(o=e.i.presentationTimeline.Fb());var s=[],u=o;r=Cn(r,"Period");for(var l=0;l<r.length;l++){var d=r[l],f=r[l+1],p=Nn(d,"start",Fn,u),h=d.attributes.id,g=Nn(d,"duration",Fn);p=0==l&&0==p&&e.T?o:p;var m=null;if(f){var v=Nn(f,"start",Fn);null!=v&&(m=v-p+o)}else null!=a&&(m=a-p+o);if(v=Vt,m&&g&&Math.abs(m-g)>v&&m>g&&e.L++,null==m&&(m=g),!(null!==e.M&&null!==h&&null!==p&&p<e.M)||e.C.includes(h)||l+1==r.length){if(null!==p&&(null===e.M||p>e.M)&&(e.M=p),u=Bm(e,t,n,{start:p,duration:m,node:d,Zg:null==m||!f}),s.push(u),t.pa.id&&m&&e.ka.set(t.pa.id,m),null==m){u=null;break}u=p+m}}if(i)for(n=(t=c(s)).next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=s.map((function(e){return e.id}));return null!=a?{periods:s,duration:a+o,Mg:!1}:{periods:s,duration:u,Mg:!0}}function Bm(e,t,n,r){t.pa=qm(e,r.node,null,n),t.ha=r,t.pa.ab=t.ab,t.pa.id||(t.pa.id="__shaka_period_"+r.start);var i=Cn(r.node,"EventStream");n=t.presentationTimeline.nb();for(var a=(i=c(i)).next();!a.done;a=i.next())Xm(e,r.start,r.duration,a.value,n);for(i=(n=c(n=Cn(r.node,"SupplementalProperty"))).next();!i.done;i=n.next())"urn:mpeg:dash:urlparam:2014"==(i=i.value).attributes.schemeIdUri&&(i=zm(e,i))&&(t.sb=i);if(n=Cn(r.node,"AdaptationSet").map((function(n,r){return Hm(e,t,r,n)})).filter(ii),t.Mb){i=[];for(var o=(a=c(n)).next();!o.done;o=a.next())for(var s=(o=c(o.value.rj)).next();!s.done;s=o.next())i.push(s.value);if(i.length!=new Set(i).size)throw new Le(2,4,4018)}for(i=new Map,o=(a=c(n)).next();!o.done;o=a.next())for(s=(o=c(o.value.di)).next();!s.done;s=o.next()){var u=c(s.value);s=u.next().value,u=u.next().value,i.set(s,u)}if(i.size)for(a=null,s=(o=c(n)).next();!s.done;s=o.next()){u=[];for(var l=c((s=s.value).streams),f=l.next(),p={};!f.done;p={og:void 0},f=l.next())if(p.og=f.value,i.has(p.og.originalId)){a||(a=Cn(r.node,"AdaptationSet").map((function(n,r){return Hm(e,t,r,n)})).filter(ii));for(var h=(f=c(a)).next();!h.done;h=f.next())(h=h.value.streams.find(function(e){return function(t){return t.originalId==e.og.originalId}}(p)))&&(h.dependencyStream=i.get(h.originalId),h.originalId+=h.dependencyStream.originalId,u.push(h))}u.length&&s.streams.push.apply(s.streams,d(u))}if(r=n.filter((function(e){return!e.vg})),n=n.filter((function(e){return e.vg})),!e.g.disableIFrames)for(i=(n=c(n)).next();!i.done;i=n.next())for(a=(i=i.value).vg.split(" "),s=(o=c(r)).next();!s.done;s=o.next())if(s=s.value,a.includes(s.id))for(u=(s=c(s.streams)).next();!u.done;u=s.next())Oi(u.value,i.streams);if(n=Vm(e.g.disableAudio,r,"audio"),i=Vm(e.g.disableVideo,r,"video"),a=Vm(e.g.disableText,r,Ft),r=Vm(e.g.disableThumbnails,r,"image"),0===i.length&&0===n.length)throw new Le(2,4,4004);return{id:t.pa.id,audioStreams:n,videoStreams:i,textStreams:a,imageStreams:r}}function Vm(e,t,n){return e||!t.length?[]:t.reduce((function(e,t){return t.contentType!=n||e.push.apply(e,d(t.streams)),e}),[])}function Hm(t,n,r,i){function a(e){var r=e.attributes["dvb:fontFamily"];e=e.attributes["dvb:url"],r&&e&&(e=Rt(n.ga.Ra(),[e],n.sb()),t.j.addFont(r,e[0]))}function o(e){switch(e){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}n.ga=qm(t,i,n.pa,null),n.ga.position=r;var u=!1,l=(r=Cn(i,"Role")).map((function(e){return e.attributes.value})).filter(ii),f=void 0,p=n.ga.contentType==Ft;p&&(f="subtitle");for(var h=(r=c(r)).next();!h.done;h=r.next()){var g=(h=h.value).attributes.schemeIdUri;if(null==g||"urn:mpeg:dash:role:2011"==g)switch(h=h.attributes.value,h){case"main":u=!0;break;case"caption":case"subtitle":f=h}}var m=Cn(i,"EssentialProperty");r=null;var v=!1;h=null,g=!1;for(var y=(m=c(m)).next();!y.done;y=m.next()){var b=(y=y.value).attributes.schemeIdUri;if("http://dashif.org/guidelines/trickmode"==b)r=y.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==b)var w=s(parseInt(y.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==b)var T=o(parseInt(y.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=b&&("urn:mpeg:dash:ssr:2023"==b&&t.g.dash.enableFastSwitching?v=!0:"urn:dvb:dash:fontdownload:2014"==b?a(y):"urn:mpeg:dash:urlparam:2014"==b&&(h=zm(t,y))||(g=!0))}if(g)return null;var k=null;for(m=(g=c(g=Cn(i,"SupplementalProperty"))).next();!m.done;m=g.next())"http://dashif.org/guidelines/last-segment-number"==(y=(m=m.value).attributes.schemeIdUri)?k=parseInt(m.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==y?w=s(parseInt(m.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==y?T=o(parseInt(m.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==y?a(m):"urn:mpeg:dash:urlparam:2014"==y&&(h=zm(t,m));h&&(n.sb=h),h=Cn(i,"Accessibility");var A,E=new Map;for(g=(h=c(h)).next();!g.done;g=h.next())if(g=(m=g.value).attributes.schemeIdUri,m=m.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=g||t.g.disableText)if("urn:scte:dash:cc:cea-708:2015"!=g||t.g.disableText)"urn:mpeg:dash:role:2011"==g?null!=m&&(l.push(m),"captions"==m&&(f="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==g&&("1"==m?A="visually impaired":"2"==m&&(A="hard of hearing"));else if(g=1,null!=m)for(y=(m=c(m.split(";"))).next();!y.done;y=m.next()){b=y.value;var I=y=void 0;b.includes("=")?(y="svc"+(b=b.split("="))[0],I=b[1].split(",")[0].split(":").pop()):(y="svc"+g,g++,I=b),E.set(y,ci(I))}else E.set("svc1","und");else if(g=1,null!=m)for(b=(y=c(m=m.split(";"))).next();!b.done;b=y.next()){I=b.value;var C=b=void 0;I.includes("=")?(b=(I=I.split("="))[0].startsWith("CC")?I[0]:"CC"+I[0],C=I[1]||"und"):(b="CC"+g,2==m.length?g+=2:g++,C=I),E.set(b,ci(C))}else E.set("CC1","und");var M=ug(h=Cn(i,"ContentProtection"),t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI);n.ga.encrypted=0<h.length;var D=ci(n.ga.language||"und"),P=n.ga.label,L=new Map;if(i=Cn(i,"Representation"),!t.g.ignoreSupplementalCodecs){for(h=[],m=(g=c(i)).next();!m.done;m=g.next())(m=_n(y=m.value,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&((y=wn(y)).attributes.codecs=m.split(" ").join(","),y.attributes.id&&(y.attributes.supplementalId=y.attributes.id+"_supplementalCodecs"),h.push(y));i.push.apply(i,d(h))}if(h=i.map((function(r){var i=function(t,n,r,i,a,o,s,u,l,c,d,f){n.J=qm(t,c,n.ga,null);var p=n.J.id;if(t.$=Math.min(t.$,n.J.ab),t.P=0<t.$,!function(e){var t=e.bd?1:0;return t+=e.Xb?1:0,t+=e.ic?1:0,0==t?e.contentType==Ft||"application"==e.contentType:(1!=t&&(e.bd&&(e.Xb=null),e.ic=null),!0)}(n.J))return null;var h=n.ha.start;n.bandwidth=Nn(c,"bandwidth",Hn)||0,n.roles=u;var g=Cn(c,"SupplementalProperty"),m=Cn(c,"EssentialProperty"),v=Cn(c,"ContentProtection");c=null;var y,b,w=m.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}));(w||(w=g.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}))))&&(c=zm(t,w)),c&&(n.sb=c),w=n.J.contentType,c=w==Ft||"application"==w,w="image"==w,v.length&&(n.ga.encrypted=!0);try{var T=void 0;if(r.cf){var k=n.J.Ra,A=n.sb,E=fa(Rt(k(),[r.cf.Xi],A()),t.g.retryParameters);T={bitsKey:128,blockCipherMode:"CBC",iv:r.cf.iv,firstMediaSequenceNumber:0,fetchKey:function(){var n,r,i;return R((function(a){if(1==a.g)return S(a,Qm(t,E,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new Le(2,4,4049);return r={name:"AES-CBC"},i=T,S(a,e.crypto.subtle.importKey("raw",n.data,r,!0,["decrypt"]),3)}i.cryptoKey=a.h,T.fetchKey=void 0,x(a)}))}}}if(n.J.aesKey=T,k=function(e,n,r,i){return Ym(t,e,n,r,i)},n.J.bd)var I=Ig(n,k,T);else if(n.J.Xb)I=Rg(n,t.o,T);else if(n.J.ic)I=_g(n,k,t.o,!!t.i,t.g.dash.initialSegmentLimit,t.ka,T,f,!1);else{var C=n.ha.duration||0,M=n.J.Ra,D=n.J.mimeType,P=n.J.codecs;I={rc:function(){var e=Wu(h,C,M());return e.vb((function(e){e.mimeType=D,e.codecs=P})),Promise.resolve(e)}}}}catch(N){if((c||w)&&4002==N.code)return null;throw N}if(f=function(e,t,n,r){var i=ug(e,n,r);if(t.Og)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.Og=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new Le(2,4,4008);return i.Jg||t.Jg}(v,r,t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI),f=new Set(f?[f]:[]),v=!1,g.some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.attributes.schemeIdUri&&"JOC"==e.attributes.value}))&&(v=!0),g=!1,c&&(g=u.includes("forced_subtitle")||u.includes("forced-subtitle")),w&&((m=m.find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.attributes.schemeIdUri)})))&&(y=m.attributes.value),!y))return null;c=n.J.codecs,n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&(b="PQ"),m=n.J.id?n.pa.id+","+n.J.id:"",t.F.length&&p&&t.u.set(n.pa.id+","+p,function(e){function t(e){return e?((e=Sn(e)).bd=null,e.Xb=null,e.ic=Jn(e.ic),e):null}return e=Sn(e),e.pa=t(e.pa),e.ga=t(e.ga),e.J=t(e.J),e.ha&&(e.ha=Sn(e.ha),e.ha.node=null),e}(n));var L=m&&t.o.has(m)?t.o.get(m):{id:t.oa++,originalId:n.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){L.segmentIndex&&(L.segmentIndex.release(),L.segmentIndex=null)},segmentIndex:null,mimeType:n.J.mimeType,codecs:c,frameRate:n.J.frameRate,pixelAspectRatio:n.J.pixelAspectRatio,bandwidth:n.bandwidth,width:n.J.width,height:n.J.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:f,language:a,originalLanguage:n.ga.language,label:o,type:n.ga.contentType,primary:s,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:n.J.emsgSchemeIdUris,roles:u,forced:g,channelsCount:n.J.qe,audioSamplingRate:n.J.audioSamplingRate,spatialAudio:v,closedCaptions:l,hdr:b,colorGamut:void 0,videoLayout:void 0,tilesLayout:y,accessibilityPurpose:d,external:!1,fastSwitching:!1,fullMimeTypes:new Set([jr(n.J.mimeType,n.J.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return L.createSegmentIndex=function(){var e;return R((function(t){if(1==t.g)return L.segmentIndex?t.s(0):(e=L,S(t,I.rc(),3));e.segmentIndex=t.h,x(t)}))},m&&n.Mb&&!t.o.has(m)&&(n=n.pa.id||"",t.B.has(n)||t.B.set(n,[]),t.o.set(m,L),t.B.get(n).push(m)),L}(t,n,M,f,D,P,u,l,E,r,A,k);return i&&(i.hdr=i.hdr||w,i.colorGamut=i.colorGamut||T,i.fastSwitching=v,r=r.attributes.dependencyId)?(i.baseOriginalId=r,L.set(r,i),null):i})).filter((function(e){return!!e})),0==h.length&&0==L.size){if(r="image"==n.ga.contentType,t.g.dash.ignoreEmptyAdaptationSet||p||r)return null;throw new Le(2,4,4003)}if(!n.ga.contentType||"application"==n.ga.contentType)for(n.ga.contentType=$m(h[0].mimeType,h[0].codecs),g=(p=c(h)).next();!g.done;g=p.next())g.value.type=n.ga.contentType;for(p=n.ga.id||"__fake__"+t.oa++,m=(g=c(h)).next();!m.done;m=g.next()){for(m=m.value,b=(y=c(M.drmInfos)).next();!b.done;b=y.next())(b=b.value).keyIds=b.keyIds&&m.keyIds?new Set([].concat(d(b.keyIds),d(m.keyIds))):b.keyIds||m.keyIds;m.groupId=p}return i=i.map((function(e){return e.attributes.supplementalId||e.attributes.id})).filter(ii),{id:p,contentType:n.ga.contentType,language:D,Qk:u,streams:h,drmInfos:M.drmInfos,vg:r,rj:i,di:L}}function zm(e,t){if((t=Rn(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Nn(t,"useMPDUrlQuery",Kn,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return"$querypart$"==n?e.Z:n.split("&").map((function(t){if("$querypart$"==t)return e.Z;var n=/\$query:(.*?)\$/g.exec(t);if(n&&2==n.length){n=n[1];var r=new xe(e.Z).get(n);if(r.length)return n+"="+r[0]}return t})).join("&")}}return null}function Gm(e){var t,n;return R((function(r){switch(r.g){case 1:return t=0,T(r,2),S(r,Dm(e),4);case 4:t=r.h,A(r,3);break;case 2:if(n=E(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),Km(e,t),x(r)}}))}function Km(e,t){if(!(0>e.I)){var n=e.I;0<=e.g.updatePeriod&&(n=e.g.updatePeriod),e.K.da(Math.max(n-t,K(e.na)))}}function qm(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,qe:null,audioSamplingRate:null,ab:0,Be:0,encrypted:!1},r=r||n.Ra;var i,a=t.attributes.id,o=t.attributes.supplementalId,s=Cn(t,"BaseURL"),u=!1;if(e.h)for(var l=c(s),d=l.next();!d.done;d=l.next()){var f=d.value;d=f.attributes.serviceLocation,f=Dn(f),d&&f&&(Gg(e.h,a,d,f),u=!0)}u&&e.h||(i=s.map(Dn)),l=t.attributes.contentType||n.contentType,d=t.attributes.mimeType||n.mimeType,f=yl([t.attributes.codecs||n.codecs]).join(",");var p=Nn(t,"frameRate",qn)||n.frameRate,h=t.attributes.sar||n.pixelAspectRatio,g=function(e,t){t=t.slice();for(var n=(e=c(e)).next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}(Cn(t,"InbandEventStream"),n.emsgSchemeIdUris),m=Cn(t,"AudioChannelConfiguration");m=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var n=(t=t.value).attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(t,10)))continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],!(t=parseInt(t,16)))continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),!(t=parseInt(t,16)))continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}(m)||n.qe;var v=Nn(t,"audioSamplingRate",zn)||n.audioSamplingRate;l||(l=$m(d,f));var y=Ln(t,"SegmentBase"),b=Ln(t,"SegmentTemplate"),w=y&&Nn(y,"availabilityTimeOffset",Gn)||0,S=b&&Nn(b,"availabilityTimeOffset",Gn)||0,x=s&&s.length&&Nn(s[0],"availabilityTimeOffset",Gn)||0;w=n.ab+x+w+S,S=null,(x=Ln(t,"SegmentSequenceProperties"))&&(x=Ln(x,"SAP"))&&(S=Nn(x,"cadence",Vn)),x=t.attributes.label;var T=Cn(t,"Label");return T&&T.length&&(Mn(T=T[0])&&(x=Mn(T))),{Ra:function(){return Rt(r(),s.length?e.h&&u?Kg(e.h,a):i||[]:[])},bd:y||n.bd,Xb:Ln(t,"SegmentList")||n.Xb,ic:b||n.ic,width:Nn(t,"width",zn)||n.width,height:Nn(t,"height",zn)||n.height,contentType:l,mimeType:d,codecs:f,frameRate:p,pixelAspectRatio:h,emsgSchemeIdUris:g,id:o||a,originalId:a,language:t.attributes.lang,qe:m,audioSamplingRate:v,ab:w,fe:null,Be:S||n.Be,label:x||null,encrypted:!1}}function Wm(e,t,n,r){var i,a,o,s,u,l,c;return R((function(d){if(1==d.g)return i=[kt(n)],a=Rt(t(),i),(o=fa(a,e.g.retryParameters)).method=r,s=e.j.networkingEngine.request(4,o,{isPreload:e.ea()}),ua(e.O,s),S(d,s.promise,2);if(u=d.h,"HEAD"==r){if(!u.headers||!u.headers.date)return d.return(0);l=u.headers.date}else l=yt(u.data);return c=Date.parse(l),isNaN(c)?d.return(0):d.return(c-Date.now())}))}function Xm(e,t,n,r,i){for(var a=r.attributes.schemeIdUri||"",o=r.attributes.value||"",s=Nn(r,"timescale",zn)||1,u=Nn(r,"presentationTimeOffset",zn)||0,l=(r=c(Cn(r,"Event"))).next();!l.done;l=r.next()){var d=Nn(l=l.value,"presentationTime",zn)||0,f=Nn(l,"duration",zn)||0;f=(d=Math.max((d-u)/s+t,t))+f/s,null!=n&&(d=Math.min(d,t+n),f=Math.min(f,t+n)),f<i||(l={schemeIdUri:a,value:o,startTime:d,endTime:f,id:l.attributes.id||"",timescale:s,eventElement:Qn(l),eventNode:Jn(l)},e.j.onTimelineRegionAdded(l))}}function Ym(e,t,n,r,i){var a,o,s,u;return R((function(l){return 1==l.g?(a=va,o=i?0:1,s=wl(t,n,r,e.g.retryParameters),S(l,Qm(e,s,a,{type:o}),2)):(u=l.h,l.return(u.data))}))}function $m(e,t){return Jr(t=jr(e,t))?Ft:e.split("/")[0]}function Qm(e,t,n,r){return r||(r={}),r.isPreload=e.ea(),t=e.j.networkingEngine.request(n,t,r),ua(e.O,t),t.promise}function Jm(){}(r=Mm.prototype).configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.ea=t),n&&this.i&&this.i.presentationTimeline.U()&&this.K.qb(),this.h&&this.h.configure(this.g),this.m&&(this.m.th(this.g.dash.multiTypeVariantsAllowed&&Xt()),this.m.zh(this.g.dash.useStreamOnceInPeriodFlattening))},r.start=function(e,t){var n,r=this;return R((function(i){if(1==i.g)return r.fa=t.isLowLatencyMode(),r.A=[e],r.j=t,S(i,Dm(r),2);if(n=i.h,r.j&&Km(r,n),!r.j)throw new Le(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var e=c(this.o.values()),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o.clear(),this.B.clear(),this.u.clear(),this.l={oe:"",type:"",profiles:[],Ub:null,ab:0,Ra:null,Gd:0},this.m=null,null!=this.K&&(this.K.stop(),this.K=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.O.destroy()},r.update=function(){var e,t=this;return R((function(n){return 1==n.g?(T(n,2),S(n,Dm(t),4)):2!=n.g?A(n,0):(e=E(n),t.j&&e?(t.j.onError(e),void x(n)):n.return())}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.bc();var n=t.segmentIndex.find(e);null!=n&&(t=t.segmentIndex.get(n))&&(this.I=t.endTime-e,Km(this,0))}}},r.banLocation=function(e){this.h&&this.h.banLocation(e)},r.setMediaElement=function(e){this.H=e},V("shaka.dash.DashParser",Mm),Eo("application/dash+xml",(function(){return new Mm})),Eo("video/vnd.mpeg.dash.mpd",(function(){return new Mm})),V("shaka.dependencies",Jm),Jm.has=function(e){return tv.has(e)},Jm.add=function(e,t){if(!ev[e])throw Error(e+" is not supported");e==Zm?ie("mux.js","mux.js is no longer used in Shaka Player."):tv.set(e,(function(){return t}))};var Zm="muxjs",ev={Rk:Zm,ISOBoxer:"ISOBoxer"};Jm.Allowed=ev;var tv=new Map([["ISOBoxer",function(){return e.ISOBoxer}]]);function nv(e,t,n){this.type=e,this.ca=t,this.segments=n||null}function rv(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=void 0===r?null:r}function iv(e,t){return t?e.toString():(t=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function av(e,t){return(e=e.attributes.filter((function(e){return e.name==t}))).length?e[0]:null}function ov(e,t,n){return(e=av(e,t))?e.value:n||null}function sv(e,t){if(!(e=av(e,t)))throw new Le(2,4,4023,t);return e.value}function uv(e,t,n){n=void 0===n?[]:n,this.ca=t,this.g=e,this.Hb=n}function lv(e,t){this.name=e,this.value=t}function cv(e,t){return e.filter((function(e){return e.name==t}))}function dv(e,t){return e.filter((function(e){return sv(e,"TYPE")==t}))}function fv(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if((n=n.value).name===t)return n;return null}function pv(e,t,n){return n=void 0===n?0:n,(e=fv(e,t))?Number(e.value):n}function hv(e,t,n){return t?gv(e,[t],n):[]}function gv(e,t,n){if(!t.length)return[];var r=t;return n&&n.size&&(r=t.map((function(e){return mv(e,n)}))),Rt(e,r)}function mv(e,t){if(!t||!t.size)return e;var n=(e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n)for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=(r=r.value).slice(2,r.length-1),a=t.get(i);if(!a)throw new Le(2,4,4039,i);e=e.replace(r,a)}return e}function vv(){this.g=0}function yv(e,t){var n=(t=(t=yt(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new Le(2,4,4015);t=0;for(var r=!0,i=c(n),a=i.next();!a.done;a=i.next())if(a=a.value,/^#(?!EXT)/m.test(a)||r)r=!1;else{if(a=bv(e,a),--e.g,wv.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(r=!0)}for(i=[],r=!0,a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=bv(e,o),Sv.includes(o.name)){if(1!=t)throw new Le(2,4,4017);o=n.splice(a,n.length-a),n=[],r=[],a=[],s=null;for(var u=(o=c(o)).next();!u.done;u=o.next())u=u.value,/^(#EXT)/.test(u)?(u=bv(e,u),wv.includes(u.name)?i.push(u):"EXT-X-MAP"==u.name?s=u:"EXT-X-PART"==u.name?a.push(u):"EXT-X-PRELOAD-HINT"==u.name?"PART"==ov(u,"TYPE")?a.push(u):"MAP"==ov(u,"TYPE")&&(u.name="EXT-X-MAP",s=u):r.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),s&&r.push(s),n.push(new uv(u,r,a)),r=[],a=[]);return a.length&&(s&&r.push(s),n.push(new uv("",r,a))),new nv(t,i,n)}i.push(o),"EXT-X-STREAM-INF"==o.name&&(o.attributes.push(new lv("URI",s)),r=!0)}}return new nv(t,i)}function bv(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new Le(2,4,4016,t);t=n[1];var r,i=n[2];if(n=[],i){var a;(a=gn(i=new pn(i),/^([^,=]+)(?:,|$)/g))&&(r=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=gn(i,o);)n.push(new lv(a[1],a[2]||a[3])),hn(i)}return new rv(e,t,n,r)}rv.prototype.toString=function(e){var t="#"+this.name,n=this.attributes?this.attributes.filter((function(t){return!e||!e.has(t.name)})).map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t};var wv="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Sv="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function xv(){}function Tv(e,t){try{var n=kv(e);return ea({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(r){return Ji(r)}}function kv(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new Le(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new Le(2,1,1004,t);var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?Mt(t):St(t),contentType:r}}function Av(){var t=this;this.g=this.h=null,this.F=1,this.A=new Map,this.I=new Map,this.M=new Map,this.M.set("video",new Map),this.M.set("audio",new Map),this.M.set(Ft,new Map),this.M.set("image",new Map),this.Qb=(new Map).set("com.apple.streamingkeydelivery",(function(n,r,i){return function(t,n,r,i){var a,o,s,u,l;return R((function(c){if(1==c.g){if("video/mp2t"==r)throw new Le(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Le(2,4,4041);if(a=sv(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(a))return c.return(null);o="cenc","SAMPLE-AES"==a&&(o="cbcs"),s=sv(n,"URI"),u=Nt("com.apple.fps",o,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],s);var d=new le(s).lb.replace(/-/g,"").toLowerCase();return(l=32===d.length&&/^[0-9a-f]+$/.test(d)?d:null)||!i?c.s(2):S(c,hy(t,i),3)}return 2!=c.g&&(l=c.h),l&&u.keyIds.add(l),c.return(u)}))}(t,n,r,i)})).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",(function(e){var t=sv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Nt("com.widevine.alpha",n,[{initDataType:"cenc",initData:t=Ce((t=kv((t=sv(e,"URI")).split("?")[0])).data)}]),(e=ov(e,"KEYID"))&&n.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(n)}else e=Promise.resolve(null);return e})).set("com.microsoft.playready",(function(e){var t=sv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Nt("com.microsoft.playready",n,[{initDataType:"cenc",initData:t=Ba(e=Ce((e=kv((e=sv(e,"URI")).split("?")[0])).data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}]),(e=kn(["<PLAYREADY>",Ct(e),"</PLAYREADY>"].join("\n")))&&(n.licenseServerUri=og(e)),n=Promise.resolve(n)}else n=Promise.resolve(null);return n})).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",(function(e){var t=sv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Nt("com.huawei.wiseplay",n,[{initDataType:"cenc",initData:t=Ce((t=kv((t=sv(e,"URI")).split("?")[0])).data)}]),(e=ov(e,"KEYID"))&&n.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(n)}else e=Promise.resolve(null);return e})),this.Ma=new Set,this.i=new Map,this.l=null,this.C="",this.Fa=new vv,this.K=-1,this.ea=1/0,this.$=this.Sb=this.La=!1,this.B=new He((function(){t.W&&!t.g.continueLoadingWhenPaused&&(t.T.Ia(t.W,"timeupdate"),t.W.paused)?t.T.qa(t.W,"timeupdate",(function(){return uy(t)})):uy(t)})),this.Da=xy,this.m=null,this.Ka=0,this.o=1/0,this.Ea=this.za=this.P=0,this.Z=new sa,this.G=new Map,this.H=new Map,this.sa=new Map,this.ka=new Map,this.L=new Map,this.na=new Map,this.oa=new Map,this.Rb=this.fa=!1,this.Nb=new G(5),this.j=null,this.O=!0,this.ya=new Set,this.T=new ee,this.u=this.W=null,this.Ob=function(){return!1}}function Ev(e,t){return ly(e)?e.M.get(t.type):t.le}function Iv(e,t){var n,r,i,a,o,s,u,l,f,p,h,g,m,v,y,b,w,k,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z,G;return R((function(R){switch(R.g){case 1:if(t.stream.isAudioMuxedInVideo)return R.return();for(n=[],r=c(t.N()),i=r.next();!i.done;i=r.next())a=i.value,o=new le(a),s=o.g,t.Ud&&(0<=t.Ab&&s.add("_HLS_msn",String(t.Ab)),0<=t.Bb&&s.add("_HLS_part",String(t.Bb))),t.Vd&&s.add("_HLS_skip","YES"),ke(s)&&pe(o,he(s.toString())),n.push(o.toString());return T(R,2),S(R,sy(e,n,!0).promise,4);case 4:u=R.h,A(R,3);break;case 2:throw l=E(R),e.h&&e.h.disableStream(t.stream),l;case 3:if(!t.stream.segmentIndex)return R.return();if(1!=(f=yv(e.Fa,u.data)).type)throw new Le(2,4,4017);return(p=u.uri)==u.originalUri||t.N().includes(p)||t.we.push(p),h=cv(f.ca,"EXT-X-DEFINE"),g=Lv(e,h,p),m=t.stream,v=Ev(e,t),S(R,Wv(e,f,m.mimeType,t.N,g),5);case 5:for(y=R.h,b=y.keyIds,w=y.drmInfos,k=y.encrypted,I=y.Bg,m.encrypted||!k||I||(m.encrypted=!0),function(e,t){return e.size===t.size&&[].concat(d(e)).every((function(e){return t.has(e)}))}(m.keyIds,b)||(m.keyIds=b,m.drmInfos=w,e.h.newDrmInfo(m)),C=ny(e,f,v,g,t.N,t.type),M=C.segments,(D=C.bandwidth)&&(m.bandwidth=D),P=nl(m),L=c(M),N=L.next();!N.done;N=L.next())(_=N.value).Y&&(_.Y.Uc=P);m.segmentIndex.yd(M,e.l.nb()),M.length&&(j=pv(f.ca,"EXT-X-MEDIA-SEQUENCE",0),U=(O=fv(f.ca,"EXT-X-SKIP"))?Number(ov(O,"SKIPPED-SEGMENTS")):0,F=Kv(j,M),B=F.Ab,V=F.Bb,t.Ab=B+U,t.Bb=V,H=v.get(j),m.segmentIndex.Na(H)),(z=qu(m.segmentIndex))&&(t.zc=z.startTime,G=M[M.length-1],t.Tb=G.endTime),fv(f.ca,"EXT-X-ENDLIST")&&(t.pd=!0),$v(e,f),ty(e,f.ca,m.type,g,t.N),x(R)}}))}function Cv(e,t,n){n=void 0!==n&&n;for(var r=-1==e.K,i=c(t),a=i.next();!a.done;a=i.next()){var o=(a=a.value).stream.segmentIndex,s=Ev(e,a);if(o=qu(o))for(var u=(s=c(s)).next();!u.done;u=s.next()){var l=(u=c(u.value)).next().value;if(u.next().value==o.startTime){r&&(e.K=Math.max(e.K,l)),a.qf=l;break}}}if(!(0>e.K))for(r=(t=c(t)).next();!r.done;r=t.next())(zv(e,(r=r.value).type)||n)&&(i=r.stream.segmentIndex)&&(0<(a=e.K-r.qf)&&(i.g.splice(0,a),i=qu(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),Mv(e,r,i)))}function Mv(e,t,n){if(!(.001>Math.abs(n))){t.zc+=n,t.Tb+=n;for(var r=c(e=Ev(e,t)),i=r.next();!i.done;i=r.next()){var a=c(i.value);i=a.next().value,a=a.next().value,e.set(i,a+n)}t.N()}}function Dv(e,t,n){var r,i,a,o,s;return R((function(u){switch(u.g){case 1:return t?(r=va,i=wl(t.N(),t.cc(),t.ac(),e.g.retryParameters),S(u,dy(e,i,r,{type:t instanceof gs?1:0}).promise,2)):u.return({mimeType:null,data:null});case 2:if(a=u.h,o=a.data,!t.aesKey){u.s(3);break}return S(u,bl(o,t.aesKey,n),4);case 4:o=u.h;case 3:return t instanceof gs?t.Jd(o,!0):t.Jd(o),(s=a.headers["content-type"])&&(s=s.split(";")[0].toLowerCase()),u.return({mimeType:s,data:o})}}))}function Pv(e){if(ly(e)){if(e.Da==ky){for(var t=1/0,n=1/0,r=c(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).stream.segmentIndex&&"text"!=i.stream.type&&!i.stream.isAudioMuxedInVideo&&(t=Math.min(t,i.Tb),n=Math.min(n,i.zc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.De(t)}}else e.l.$a(Bv(e));if(!e.l.u)for(n=(t=c(e.i.values())).next();!n.done;n=t.next())!(n=n.value).stream.segmentIndex||"audio"!=n.type&&"video"!=n.type||(n=qu(n.stream.segmentIndex))&&n.h&&e.l.wh(n.h);e.l.ke()}function Lv(e,t,n){n=new le(n).g;for(var r=new Map,i=(t=c(t)).next();!i.done;i=t.next()){var a=i.value,o=ov(a,"NAME"),s=ov(a,"VALUE");i=ov(a,"QUERYPARAM"),a=ov(a,"IMPORT"),o&&s&&(r.has(o)||r.set(o,s)),i&&(o=n.get(i)[0])&&!r.has(o)&&r.set(i,o),a&&(i=e.A.get(a))&&r.set(a,i)}return r}function Rv(e){var t=new Set([jr(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.vb((function(n){n.mimeType&&t.add(jr(n.mimeType,e.codecs))})),e.fullMimeTypes=t}function Nv(e,t,n){for(var r={audio:[],video:[]},i=new Map,a=[],o=!1,s=!1,u=c(t),l=u.next();!l.done;l=u.next()){var f=l.value;l=ov(f,"AUDIO");var p=ov(f,"VIDEO"),h=l||p;h&&(a.includes(h)||a.push(h),(f=ov(f,"PATHWAY-ID"))&&i.set(h,f),l?o=!0:p&&(s=!0))}a.length&&n.length&&function(e,t,n){t=t.filter((function(e){var t=ov(e,"URI")||"";return"SUBTITLES"!=(e=ov(e,"TYPE"))&&(""!=t||"AUDIO"==e)}));for(var r={},i=(t=c(t)).next();!i.done;i=t.next()){var a=iv(i=i.value,!e.j);r[a]?r[a].push(i):r[a]=[i]}for(var o in r)Ov(e,r[o],n,!1)}(e,n=n.filter((function(e){return a.includes(sv(e,"GROUP-ID"))})),i),n=(i=a.sort().join(","))&&e.I.has(i)?e.I.get(i):[],o?r.audio.push.apply(r.audio,d(n)):s&&r.video.push.apply(r.video,d(n)),o=!1;var g=t.map((function(e){return sv(e,"URI")}));return l=r.audio.find((function(e){return e&&e.N().find((function(e){return g.includes(e)}))})),n=Ot("video",s=_v(e,t[0])),(u=Ot("audio",s))&&!n?(l="audio",o=0<r.audio.length):!r.audio.length&&!r.video.length&&u&&n?(l="video",s=[[n,u].join()]):r.audio.length&&l?(l="audio",o=!0):l=r.video.length&&!r.audio.length?"audio":"video",o||(e=function(e,t,n,r){for(var i=e.F++,a=[],o=c(t),s=o.next();!s.done;s=o.next()){var u=s.value;s=sv(u,"URI"),u=ov(u,"PATHWAY-ID"),e.j&&u&&Gg(e.j,i,u,s),a.push(s)}if(o=a.sort().join(",")+n.sort().join(","),e.i.has(o))return e.i.get(o);s=a.join(",");e:{if(t=ov(t[0],"CLOSED-CAPTIONS"),"video"==r){if(e.g.disableText){e.O=!1,t=null;break e}if(t){if("NONE"!=t){t=e.G.get(t);break e}e.O=!1}else if(!t&&e.G.size)for(t=c(e.G.keys()).next();!t.done;){t=e.G.get(t.value);break e}}t=null}return n=jt(r,n),r=Fv(e,i,a,n,r,null,!1,s,null,t,null,!1,null,!1),e.i.set(o,r),r}(e,t,s,l),i&&(e.stream.groupId=i),r[e.stream.type]=[e]),r}function _v(e,t){return t=ov(t,"CODECS")||"",e.$=0<t.length,e.$||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),yl(t.split(/\s*,\s*/))}function jv(e,t,n,r,i,a,o,s,u,l,d,f){for(var p=c(n),h=p.next();!h.done;h=p.next())oy(h.value.stream,i,a,o,s,u,null);for(i=e.g.disableAudio,t.length&&!i||(t=[null]),i=e.g.disableVideo,n.length&&!i||(n=[null]),i=[],a=(t=c(t)).next();!a.done;a=t.next())for(a=a.value,s=(o=c(n)).next();!s.done;s=o.next()){var g=s.value;(s=a?a.stream:null)&&(s.drmInfos=l,s.keyIds=d),(u=g?g.stream:null)&&(u.drmInfos=l,u.keyIds=d,e.g.disableIFrames||Oi(u,f)),u&&!s&&(u.bandwidth=r),!u&&s&&(s.bandwidth=r),p=a?a.stream.drmInfos:null,h=g?g.stream.drmInfos:null,g=g?g.N().sort().join(","):"";var m=a?a.N().sort().join(","):"",v=[];s&&s.codecs&&v.push(s.codecs),u&&u.codecs&&v.push(u.codecs),g=[g,m,v.sort()].join("-"),s&&u&&!_e(p,h)||e.Ma.has(g)||(s={id:e.F++,language:s?s.language:"und",disabledUntilTime:0,primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(s),e.Ma.add(g))}return i}function Ov(e,t,n,r){r=void 0===r||r;for(var i=[],a=[],o=new Map,s=c(t),u=s.next();!u.done;u=s.next()){var l=u.value;u=r?sv(l,"URI"):ov(l,"URI")||"shaka://hls-muxed",l=sv(l,"GROUP-ID"),i.push(u),a.push(l),o.set(l,u)}if(r=a.sort().join(","),u=t[0],t="","subtitles"==(s=sv(u,"TYPE").toLowerCase())&&(s=Ft),s==Ft)t=ov(u,"CODECS")||"";else for(l=(a=c(a)).next();!l.done;l=a.next())if(l=l.value,e.H.has(l)){t=e.H.get(l);break}if(a=i.sort().join(","),e.i.has(a))return e.i.get(a);if(l=e.F++,e.j)for(var d=(o=c(o)).next();!d.done;d=o.next()){var f=c(d.value);d=f.next().value,f=f.next().value,(d=n.get(d))&&Gg(e.j,l,d,f)}var p;return n=ov(u,"LANGUAGE"),o=ov(u,"NAME"),d="YES"==ov(u,"DEFAULT"),f="audio"==s&&(f=ov(u,"CHANNELS"))?parseInt(f.split("/")[0],10):null,"audio"==s&&(p=ov(u,"CHANNELS"))?p=2==(p=p.split("/")).length&&("JOC"===p[1]||p[1].includes("ATMOS")):p=!1,(i=Fv(e,l,i,t,s,n,d,o,f,null,ov(u,"CHARACTERISTICS"),"YES"==ov(u,"FORCED"),u="audio"==s&&(u=ov(u,"SAMPLE-RATE"))?parseInt(u,10):null,p)).stream&&(i.stream.groupId=r),e.I.has(r)?e.I.get(r).push(i):e.I.set(r,[i]),e.i.set(a,i),i}function Uv(e,t){var n="video",r=sv(t,"URI"),i=ov(t,"CODECS")||"";if("mjpg"==i&&(n="image"),e.i.has(r))return e.i.get(r);var a=ov(t,"LANGUAGE"),o=ov(t,"NAME"),s=ov(t,"CHARACTERISTICS");return n=Fv(e,e.F++,[r],i,n,a,!1,o,null,null,s,!1,null,!1),a=c((i=ov(t,"RESOLUTION"))?i.split("x"):[null,null]),i=a.next().value,a=a.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(a)||void 0,(t=ov(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function Fv(e,t,n,r,i,a,o,s,u,l,d,f,p,h){function g(t){var n,g,y,w,k,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z;return R((function(R){switch(R.g){case 1:return n=Bt,T(R,2),S(R,t.promise,4);case 4:if(g=R.h,t.aborted)return R.return();if((y=g.uri)!=g.originalUri&&(b.N().includes(y)||b.we.push(y)),1!=(w=yv(e.Fa,g.data)).type)throw new Le(2,4,4017);return k=cv(w.ca,"EXT-X-DEFINE"),I=Lv(e,k,y),C=!1,(!e.$&&e.g.hls.disableCodecGuessing||e.O&&i==n.la&&!e.g.hls.disableClosedCaptionsDetection)&&0<w.segments.length&&(e.O=!1,C=!0),M=!e.$&&e.g.hls.disableCodecGuessing,D=ly(e),S(R,Gv(e,0,I,w,m,r,i,a,o,s,u,l,d,f,p,h,void 0,C,M),5);case 5:if(P=R.h,t.aborted)return R.return();if(L=P.stream,Yv(e,w),ly(e)&&!D&&Qv(e,w),b.zc=P.zc,b.Tb=P.Tb,b.Vd=P.Vd,b.Ud=P.Ud,b.pd=P.pd,b.le=P.le,b.Ab=P.Ab,b.Bb=P.Bb,b.Rf=!0,v.segmentIndex=L.segmentIndex,v.encrypted=L.encrypted,v.drmInfos=L.drmInfos,v.keyIds=L.keyIds,v.mimeType=L.mimeType,v.bandwidth=v.bandwidth||L.bandwidth,v.codecs=v.codecs||L.codecs,v.closedCaptions=v.closedCaptions||L.closedCaptions,v.width=v.width||L.width,v.height=v.height||L.height,v.hdr=v.hdr||L.hdr,v.colorGamut=v.colorGamut||L.colorGamut,v.frameRate=v.frameRate||L.frameRate,"und"==v.language&&"und"!=L.language&&(v.language=L.language),v.language=v.language||L.language,v.channelsCount=v.channelsCount||L.channelsCount,v.audioSamplingRate=v.audioSamplingRate||L.audioSamplingRate,Rv(v),v.drmInfos.length&&e.h.newDrmInfo(v),N=!1,(!l&&v.closedCaptions||l&&v.closedCaptions&&l.size!=v.closedCaptions.size)&&(N=!0),e.m&&N&&e.h.makeTextStreamsForClosedCaptions(e.m),i==n.la||i==n.V)for(_=c(e.i.values()),j=_.next();!j.done;j=_.next())(O=j.value).Rf||O.type!=i||(O.stream.mimeType=L.mimeType,Rv(O.stream));i==n.va&&(U=qu(L.segmentIndex))&&U.Y&&(v.mimeType="application/mp4",Rv(v)),F=nl(v),v.segmentIndex.vb((function(e){e.Y&&(e.Y.Uc=F)})),function(e){if(!e.m)return!1;for(var t=[],n=[],r=(e=c(e.m.variants)).next();!r.done;r=e.next())(r=r.value).video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some((function(e){return e.segmentIndex}))||0<n.length&&!n.some((function(e){return e.segmentIndex})))}(e)&&(e.Sb?Hv(e,[b]):(e.Sb=!0,B=Array.from(e.i.values()),V=B.filter((function(e){return e.stream.segmentIndex})),Hv(e,V),Pv(e),0<(H=e.o)&&e.B.da(H))),ty(e,w.ca,v.type,I,m),e.m&&(e.m.startTime=e.u),A(R,0);break;case 2:if(z=E(R),v.closeSegmentIndex(),7001===z.code)return R.return();if(!e.h.disableStream(v))throw z;x(R)}}))}function m(){return e.j&&1<n.length?Kg(e.j,t):b.we.concat(gv([e.C],n,e.A))}var v=qv(e,r,i,a,o,s,u,l,d,f,p,h);n.includes("shaka://hls-muxed")&&(v.isAudioMuxedInVideo=!0,v.mimeType="video/mp2t",Rv(v));var y,b={stream:v,type:i,we:[],zc:0,Tb:0,le:new Map,Vd:!1,Ud:!1,pd:!1,qf:-1,Ab:-1,Bb:-1,Rf:!1,N:m},w=null;return v.createSegmentIndex=function(){return w||(v.isAudioMuxedInVideo?(v.segmentIndex=new Ku([]),Promise.resolve()):(y=sy(e,b.N(),!0),w=new Promise((function(e){e(g(y))}))))},v.closeSegmentIndex=function(){w&&!v.segmentIndex&&y.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),w=null},b}function Bv(e){for(var t=1/0,n=(e=c(e.i.values())).next();!n.done;n=e.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Tb));return t}function Vv(e,t){for(var n=[],r=(t=c(t)).next();!r.done;r=t.next())(r=r.value).segmentIndex&&r.segmentIndex.vb((function(e){n.push(e)}));e.l.Cd(n)}function Hv(e,t){if(!ly(e))for(var n=Bv(e),r=c(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Mc(0,n);Vv(e,t.map((function(e){return e.stream}))),n=(r=Array.from(e.i.values()).filter((function(e){return e.stream.segmentIndex}))).some((function(e){return"audio"==e.stream.type})),i=r.some((function(e){return"video"==e.stream.type})),r=ly(e)&&!e.La,n=!ly(e)&&e.La&&!(n&&i),e.g.hls.ignoreManifestProgramDateTime||r||n?Cv(e,t,r):(function(e,t){if(1/0==e.ea)for(var n=(t=c(t)).next();!n.done;n=t.next())null!=(n=qu(n.value.stream.segmentIndex))&&null!=n.h&&(e.ea=Math.min(e.ea,n.h));if(1/0!=(t=e.ea))for(var r=(n=c(e.i.values())).next();!r.done;r=n.next())if(!zv(e,(r=r.value).type)){var i=r.stream.segmentIndex;if(null!=i){var a=qu(i);if(a)if(null==a.h)X("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(Mv(e,r,a.h-t-a.startTime),i=(r=c(i)).next();!i.done;i=r.next())i.value.qg(t)}}}(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&Cv(e,t))}function zv(e,t){return!!e.g.hls.ignoreManifestProgramDateTime||e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function Gv(e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b){var w,x,k,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z,G,K,q,W,X,Y,$,Q,J,Z;return y=void 0===y||y,b=void 0===b||b,R((function(t){switch(t.g){case 1:if(w=r.segments||[],x=w.every((function(e){return!!fv(e.ca,"EXT-X-GAP")})),!w.length||x)throw new Le(2,4,4053);if(function(e,t){var n=fv(t.ca,"EXT-X-PLAYLIST-TYPE");t=fv(t.ca,"EXT-X-ENDLIST"),t=n&&"VOD"==n.value||t,n=n&&"EVENT"==n.value&&!t,n=!t&&!n,cy(e,t?xy:n?ky:Ty)}(e,r),ly(e)&&$v(e,r),k=ly(e)?e.M.get(o):new Map,I=ny(e,r,k,n,i,o),C=I.segments,M=I.bandwidth,_=N=L=P=D=null,!(0<C.length&&y)){t.s(2);break}return S(t,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b;return R((function(w){if(1==w.g)return n=ml(e.g.hls.mediaPlaylistFullMimeType),t.length?(r=ay(e,t),i=r.segment,a=r.segmentIndex,o=i.N(),s=o[0],u=new le(s),l=u.Za.split(".").pop(),(d=gy.get(l))?w.return(ml(d)):S(w,Promise.all([Dv(e,i.Y,0),Dv(e,i,a)]),2)):w.return(n);if(f=w.h,p=f[1].mimeType,h=f[0].data,g=f[1].data,m="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),v=["audio/mp4","video/mp4","video/iso.segment"],$s(Ce(g))){var x=g,T=e.g.disableAudio,k=e.g.disableVideo,A=e.g.disableText,E=Ce(x),I=(new qs).parse(E),C=I.md();E=I.Kf();var M=[],D=!1,P=!1;if(!T)switch(C.audio){case"aac":case"aac-loas":I.cb().length&&(M.push("mp4a.40.2"),D=!0);break;case"mp3":I.cb().length&&(M.push("mp4a.40.34"),D=!0);break;case"ac3":I.cb().length&&(M.push("ac-3"),D=!0);break;case"ec3":I.cb().length&&(M.push("ec-3"),D=!0);break;case"opus":I.cb().length&&(M.push("opus"),D=!0)}if(!k)switch(C.video){case"avc":E.codec?M.push(E.codec):M.push("avc1.42E01E"),P=!0;break;case"hvc":E.codec?M.push(E.codec):M.push("hvc1.1.6.L93.90"),P=!0;break;case"av1":M.push("av01.0.01M.08"),P=!0}if(M.length){if(T=D&&!P,k=new Map,P&&!A){for((A=new en("video/mp2t")).i(x),P=(x=c(A.j())).next();!P.done;P=x.next())P=P.value,k.set(P,P);A.g()}E={type:T?"audio":"video",mimeType:"video/mp2t",codecs:M.join(", "),language:null,height:E.height,width:E.width,channelCount:null,sampleRate:null,closedCaptions:k,Md:null,colorGamut:null,frameRate:E.frameRate}}else E=null;if(y=E)return w.return(y)}else if((i.Y||m.includes(l)||v.includes(p))&&(b=vl(h,g,e.g.disableText)))return w.return(b);return p?w.return(ml(p)):w.return(n)}))}(e,C),3);case 3:j=t.h,o=j.type,s=j.language,d=j.channelCount,g=j.sampleRate,e.g.disableText||(f=j.closedCaptions),P=j.height,D=j.width,L=j.Md,N=j.colorGamut,_=j.frameRate,b&&(v=j.mimeType,a=j.codecs);case 2:if(v){t.s(4);break}return S(t,function(e,t,n,r){var i,a,o,s,u,l,c,d,f,p,h,g,m;return R((function(v){switch(v.g){case 1:return i=va,a=ay(e,r),2==(o=a.segment).status?v.return(iy(t)):(s=o.N(),u=new le(s[0]),l=u.Za.split(".").pop(),c=wy.get(t),(d=c.get(l))||(d=gy.get(l))||(d=ry(t,n))?v.return(d):(p=1,h=fa(s,e.g.retryParameters),T(v,2),h.method="HEAD",S(v,dy(e,h,i,{type:p}).promise,4)));case 4:g=v.h,f=g.headers["content-type"],A(v,3);break;case 2:if(!(m=E(v))||1002!=m.code&&1001!=m.code){v.s(3);break}return h.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(h.headers.Range="bytes=0-0"),S(v,dy(e,h,i,{type:p}).promise,6);case 6:g=v.h,f=g.headers["content-type"];case 3:if(!f){v.s(7);break}if("application/octet-stream"!=(d=f.toLowerCase().split(";")[0])){v.s(8);break}if(g.data.byteLength){v.s(9);break}return h.method="GET",S(v,dy(e,h,i,{type:p}).promise,10);case 10:g=v.h;case 9:$s(Ce(g.data))&&(d="video/mp2t");case 8:if("application/octet-stream"!=d)return v.return(d);case 7:return v.return(iy(t))}}))}(e,o,a,C),5);case 5:v=t.h,o!=Ft||a||"application/mp4"!=v||!C[0]||C[0].Y||(v="text/vtt");case 4:return S(t,Wv(e,r,v,i,n),6);case 6:if(O=t.h,U=O.drmInfos,F=O.keyIds,B=O.encrypted,V=O.Bg,B&&!U.length&&!V)throw new Le(2,4,4026);return(H=qv(e,a,o,s,u,l,d,f,p,h,g,m)).encrypted=B&&!V,H.drmInfos=U,H.keyIds=F,H.mimeType=v,M&&(H.bandwidth=M),Rv(H),"video"==o&&(D||P||L||N)&&oy(H,D,P,_,L,null,N),ly(e)&&$v(e,r),z=C[0].startTime,G=C[C.length-1],K=G.endTime,q=new Ku(C),H.segmentIndex=q,X=!!(W=fv(r.ca,"EXT-X-SERVER-CONTROL"))&&null!=av(W,"CAN-SKIP-UNTIL"),Y=!!W&&null!=av(W,"CAN-BLOCK-RELOAD"),$=pv(r.ca,"EXT-X-MEDIA-SEQUENCE",0),Q=Kv($,C),J=Q.Ab,Z=Q.Bb,t.return({stream:H,type:o,we:[],N:i,zc:z,Tb:K,Vd:X,Ud:Y,pd:!1,qf:-1,Ab:J,Bb:Z,le:k,Rf:!1})}}))}function Kv(e,t){e=e+t.length-1;var n=-1;if(!t.length)return{Ab:++e,Bb:n};var r=(t=t[t.length-1]).g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{Ab:e,Bb:n}):(e++,t.m&&(n=0),{Ab:e,Bb:n})}function qv(e,t,n,r,i,a,o,s,u,l,d,f){var p=ry(n,t)||iy(n),h=[];if(u)for(var g=(u=c(u.split(","))).next();!g.done;g=u.next())h.push(g.value);return u=void 0,g=null,n==Ft?u=h.includes("public.accessibility.transcribes-spoken-dialog")&&h.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":h.includes("public.accessibility.describes-video")&&(g="visually impaired"),h.length||"subtitle"!==u||h.push("subtitle"),Rv(e={id:e.F++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:p,codecs:t,kind:n==Ft?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:ci(r||"und"),originalLanguage:r,label:a,type:n,primary:i,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:h,forced:l,channelsCount:o,audioSamplingRate:d,spatialAudio:f,closedCaptions:s,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:g,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}),e}function Wv(e,t,n,r,i){var a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E,I,C,M,D,P,L,N,_,j;return R((function(R){switch(R.g){case 1:if(a=new Map,!e.g.ignoreDrmInfo&&t.segments)for(o=c(t.segments),s=o.next();!s.done;s=o.next())if(u=s.value,l=cv(u.ca,"EXT-X-KEY"),d=null,l.length)for(d=Jv(e,t,u.ca,r,i),f=c(l),p=f.next();!p.done;p=f.next())h=p.value,a.set(h,d);m=g=!1,v=[],y=new Set,b=c(a),w=b.next();case 2:if(w.done){R.s(4);break}if(x=w.value,T=c(x),k=T.next().value,A=T.next().value,I=A,"NONE"==(C=sv(E=k,"METHOD"))){R.s(3);break}if(g=!0,M=ov(E,"KEYFORMAT")||"identity",D=null,fy(C)){m=!0,R.s(3);break}if("identity"==M)return S(R,py(e,E,n,r,I,i),11);if(!(P=e.Qb.get(M))){L=null,R.s(9);break}return S(R,P(E,n,I),10);case 10:L=R.h;case 9:D=L,R.s(6);break;case 11:D=R.h;case 6:if(D){if(D.keyIds)for(N=c(D.keyIds),_=N.next();!_.done;_=N.next())j=_.value,y.add(j);v.push(D)}case 3:w=b.next(),R.s(2);break;case 4:return R.return({drmInfos:v,keyIds:y,encrypted:g,Bg:m})}}))}function Xv(t,n,r,i,a){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new Le(2,4,4042);var o=0,s=ov(n,"IV","");if(s){var u=Dt(s.substr(2));if(16!=u.byteLength)throw new Le(2,4,4048)}else o=pv(r.ca,"EXT-X-MEDIA-SEQUENCE",0);var l=hv(i(),sv(n,"URI"),a),c=l.sort().join("");if(r=n.toString()+"-"+o+"-"+c,!t.ka.has(r)){var d={bitsKey:128,blockCipherMode:"CBC",iv:u,firstMediaSequenceNumber:o};switch(sv(n,"METHOD")){case"AES-256":d.bitsKey=256;break;case"AES-256-CTR":d.bitsKey=256,d.blockCipherMode="CTR"}d.fetchKey=function(){var n,r,i,a;return R((function(o){if(1==o.g)return t.L.has(c)||(n=fa(l,t.g.retryParameters),r=dy(t,n,6).promise,t.L.set(c,r)),S(o,t.L.get(c),2);if(3!=o.g){if(!(i=o.h).data||i.data.byteLength!=d.bitsKey/8)throw new Le(2,4,4049);return a={name:"CTR"==d.blockCipherMode?"AES-CTR":"AES-CBC",length:d.bitsKey},S(o,e.crypto.subtle.importKey("raw",i.data,a,!0,["decrypt"]),3)}d.cryptoKey=o.h,d.fetchKey=void 0,x(o)}))},t.ka.set(r,d)}return t.ka.get(r)}function Yv(e,t){null==e.u&&(t=fv(t.ca,"EXT-X-START"))&&(e.u=Number(sv(t,"TIME-OFFSET")))}function $v(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var a=fv(r[i].ca,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}i--}if(!(r=fv(t.ca,"EXT-X-TARGETDURATION")))throw new Le(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=fv(t.ca,"EXT-X-PART-INF"))&&(e.P=Number(sv(i,"PART-TARGET"))),t=fv(t.ca,"EXT-X-SERVER-CONTROL"),e.fa&&e.P?(e.o=e.Rb?5*e.P<=n?Math.min(e.P,e.o):Math.min(n,e.o):Math.min(e.P,e.o),e.Ea=t?Number(sv(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?av(t,"HOLD-BACK"):null,e.za=n?Number(n.value):0),e.Ka=Math.max(r,e.Ka)}function Qv(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Ea)n=e.Ea;else if(e.za)n=e.za;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var a=fv(t.segments[i].ca,"EXTINF");n=a?n+Math.ceil(Number(a.value.split(",")[0])):n+e.Ka}}e.u&&0>e.u&&(n=Math.min(-e.u,n),e.u+=n),e.l.xh(0),e.l.jg(n),e.l.Ec(!1)}function Jv(e,t,n,r,i){var a=fv(n,"EXT-X-MAP");if(!a)return null;var o=sv(a,"URI"),s=hv(r(),o,i);if(o=[s.toString(),ov(a,"BYTERANGE","")].join("-"),!e.sa.has(o)){for(var u=void 0,l=null,d=!1,f=(n=c(n)).next();!f.done;f=n.next())"EXT-X-KEY"==(f=f.value).name?fy(d=sv(f,"METHOD"))&&f.id<a.id?(d=!1,u=Xv(e,f,t,r,i)):d="NONE"!=d:"EXT-X-BYTERANGE"==f.name&&f.id<a.id&&(l=f);t=function(e,t,n,r,i){var a=0,o=null;return t=ov(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(a=t.split("@"),o=Number(a[0]),a=Number(a[1]),o=a+o-1,r&&(n=o+1-a,n%16&&(o+=16-n%16))),new ps((function(){return e}),a,o,null,null,null,r,i)}(s,a,l,u,d),e.sa.set(o,t)}return e.sa.get(o)}function Zv(t,n,r,i,a,o,s,u,l){function d(e){e=new le(e).Za.split(".").pop();var t=wy.get(s).get(e);return t||(t=gy.get(e)),t}var f=i.ca,p=fv(f,"EXTINF"),h=0,g=0,m=null;i.Hb.length&&(t.m.isLowLatency=!0);var v=null;if(!t.g.hls.ignoreManifestProgramDateTime){var y=fv(f,"EXT-X-PROGRAM-DATE-TIME");y&&y.value&&(v=Un(y.value),t.La=!0)}var b=vs;if(fv(f,"EXT-X-GAP")&&(t.m.gapCount++,b=2),!p){if(0==i.Hb.length)throw new Le(2,4,4024,"EXTINF");if(!t.fa)return null}var w=[];y=!1;var S=null,x=!1,T=!1;if(t.fa&&i.Hb.length){h=n&&e.ReadableStream&&t.g.hls.allowLowLatencyByteRangeOptimization;for(var k=v,A={},E=0;E<i.Hb.length;A={Me:void 0,te:void 0},E++){var I=i.Hb[E],C=0==E?r:w[w.length-1],M=0==E?a:C.endTime,D=Number(ov(I,"DURATION"))||t.P;if(D){var P=M+D,L=0,R=null;if("EXT-X-PRELOAD-HINT"==I.name?(L=(L=ov(I,"BYTERANGE-START"))?Number(L):0,(C=ov(I,"BYTERANGE-LENGTH"))?R=L+Number(C)-1:L&&(R=Number.MAX_SAFE_INTEGER)):(L=(R=c(ey(C,L=ov(I,"BYTERANGE")))).next().value,R=R.next().value),A.te=ov(I,"URI"),A.te){C=vs,"YES"==ov(I,"GAP")&&(t.m.gapCount++,C=2,x=!0),A.Me=null;var N=function(e){return function(){return null==e.Me&&(e.Me=hv(u(),e.te,o)),e.Me}}(A);h&&0<=L&&null!=R&&(S=N,y=!0),M=new gs(M,P,N,L,R,n,0,0,1/0,[],"",null,k,C,l),"EXT-X-PRELOAD-HINT"==I.name&&(M.Sf(),T=!0),"YES"!=ov(I,"INDEPENDENT")&&0<E&&M.Tc(),(A=d(A.te))&&(M.mimeType=A,Sy.has(A)&&(M.Y=null)),w.push(M),k&&(k+=D)}}}}if(p){if(0==(p=Number(p.value.split(",")[0])))return null;h=a+p}else{if(!w.length)return null;h=w[w.length-1].endTime}y&&(x||0!=w[0].startByte?(y=!1,S=null):w=[]),(p=fv(f,"EXT-X-BYTERANGE"))?(g=(m=c(ey(r,p.value))).next().value,m=m.next().value):w.length&&(g=w[0].startByte,m=w[w.length-1].endByte),r="",p=null,"image"==s&&(r="1x1",f=fv(f,"EXT-X-TILES"))&&(r=sv(f,"LAYOUT"),(f=ov(f,"DURATION"))&&(p=Number(f)));var _=null;return n=new gs(a,h,(function(){return S?S():(null==_&&(_=hv(u(),i.g,o)),_||[])}),g,m,n,0,0,1/0,w,r,p,v,b,l,0<w.length&&!!i.g),(a=d(i.g))&&(n.mimeType=a,Sy.has(a)&&(n.Y=null)),y&&(t.Rb=!0,n.bh(),T&&n.Sf()),n}function ey(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),r=(n=n[1]?Number(n[1]):e.endByte+1)+t-1),[n,r]}function ty(e,t,n,r,i){if("video"==n||"audio"==n){var a=e.l.m;if(a&&!zv(e,n))for(t=(t=cv(t,"EXT-X-DATERANGE")).filter((function(e){return null!=av(e,"START-DATE")})).sort((function(e,t){return(e=sv(e,"START-DATE"))<(t=sv(t,"START-DATE"))?-1:e>t?1:0})),n=0;n<t.length;n++){var o=t[n];try{var s=sv(o,"ID");if(!e.ya.has(s)){var u=Un(sv(o,"START-DATE"));if(!isNaN(u)){var l=Math.max(0,u-a),d=null,f=ov(o,"END-DATE");if(f){var p=Un(f);if(!isNaN(p)&&0>(d=p-a))continue}if(null==d){var h=ov(o,"DURATION")||ov(o,"PLANNED-DURATION");if(h){var g=parseFloat(h);if(isNaN(g)||(d=l+g),0>u-a+g)continue}}var m=ov(o,"CLASS")||"com.apple.quicktime.HLS",v="YES"==ov(o,"END-ON-NEXT");if(null==d&&v){for(var y=n+1;y<t.length;y++){if(m==(ov(t[y],"CLASS")||"com.apple.quicktime.HLS")){var b=Un(sv(t[y],"START-DATE"));if(!isNaN(b)&&b&&b>u){d=Math.max(0,b-a);break}}}if(null==d)continue}y=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var w=[],S=c(o.attributes),x=S.next();!x.done;x=S.next()){var T=x.value;if(!y.includes(T.name)){var k=mv(T.value,r);"X-ASSET-URI"!=T.name&&"X-ASSET-LIST"!=T.name||(k=hv(i(),T.value,r)[0]),w.push({key:T.name,description:"",data:k,mimeType:null,pictureType:null})}}1<w.length&&e.h.onMetadata(m,l,d,w),e.ya.add(s)}}}catch(A){}}}}function ny(e,t,n,r,i,a){var o=t.segments,s=void 0,u=pv(t.ca,"EXT-X-DISCONTINUITY-SEQUENCE",-1),l=pv(t.ca,"EXT-X-MEDIA-SEQUENCE",0),d=fv(t.ca,"EXT-X-SKIP"),f=d?Number(ov(d,"SKIPPED-SEGMENTS")):0,p=l+f,h=0;ly(e)&&n.has(p)&&(h=n.get(p)),0===h&&e.Da==ky&&0<n.size&&!n.has(p)&&null!=e.l.i&&(h=e.l.nb());var g=[],m=null;d=[];for(var v=0;v<o.length;v++){var y=o[v],b=0==v?h:m.endTime;p=l+f+v,fv(y.ca,"EXT-X-DISCONTINUITY")&&(u++,m&&m.Y&&(m.Y.g=b));for(var w=c(y.ca),S=w.next();!S.done;S=w.next())"EXT-X-KEY"==(S=S.value).name&&(s=fy(sv(S,"METHOD"))?Xv(e,S,t,i,r):void 0);n.set(p,b),(b=Zv(e,w=Jv(e,t,y.ca,i,r),m,y,b,r,a,i,s))&&((m=pv(y.ca,"EXT-X-BITRATE"))?d.push({bitrate:m,duration:b.endTime-b.startTime}):d.length&&((m=d.pop()).duration+=b.endTime-b.startTime,d.push(m)),m=b,b.i=u,zv(e,a)&&null!=e.K&&p<e.K||g.push(b))}if(t=void 0,d.length&&(t=d.reduce((function(e,t){return e+t.duration}),0),t=Math.round(d.reduce((function(e,t){return e+t.bitrate*t.duration}),0)/t*1e3)),d=g.some((function(e){return null!=e.h})))for(n={},r=0;r<g.length;n={Zd:void 0,Yd:void 0,Rd:void 0,Bc:void 0,Qd:void 0},r++)if(n.Bc=g[r],null==n.Bc.h)for(n.Yd=0,n.Zd=r,i=function(e){return function(){var t=g[e.Zd];if(t){if(null!=t.h)return t.h+e.Yd;e.Yd-=t.endTime-t.startTime,e.Zd+=1}return null}}(n),n.Qd=0,n.Rd=r,o=function(e){return function(){var t=g[e.Rd];if(t){if(t!=e.Bc&&(e.Qd+=t.endTime-t.startTime),null!=t.h)return t.h+e.Qd;--e.Rd}return null}}(n);null==n.Bc.h;)n.Bc.h=o(),null==n.Bc.h&&(n.Bc.h=i());if(d)for(r=(n=c(g)).next();!r.done;r=n.next())for(r=(i=r.value).h,o=(i=c(i.g)).next();!o.done;o=i.next())(o=o.value).h=r,r+=o.endTime-o.startTime;if(n=e.ea,d&&1/0!=n&&!zv(e,a))for(a=(e=c(g)).next();!a.done;a=e.next())a.value.qg(n);return{segments:g,bandwidth:t}}function ry(e,t){if(e==Ft){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=e||t&&"jpeg"!=t?"audio"==e&&"mp4a.40.34"==t?"audio/mpeg":"mjpg"==t?"application/mp4":null:"image/jpeg"}function iy(e){return e==Ft?"text/vtt":wy.get(e).get("mp4")}function ay(e,t){for(var n=t[e=ly(e)?Math.trunc((t.length-1)/2):0];2==n.dc()&&e+1<t.length;)n=t[++e];return{segment:n,segmentIndex:e}}function oy(e,t,n,r,i,a,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=a||void 0,e.colorGamut=o||void 0)}function sy(e,t,n){return dy(e,fa(t,e.g.retryParameters),0,{type:n?2:3})}function uy(e){var t,n,r,i,a,o;return R((function(s){switch(s.g){case 1:return e.h?(T(s,2),t=Date.now(),S(s,e.update(),4)):s.return();case 4:n=Date.now(),ly(e)&&(r=(n-t)/1e3,e.Nb.sample(1,r),i=0<e.g.updatePeriod?e.g.updatePeriod:e.o,a=Math.max(0,i-K(e.Nb)),e.B.da(a)),A(s,3);break;case 2:if(o=E(s),!e.h)return s.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(o),s.return();o.severity=1,e.h.onError(o),e.B.da(.1);case 3:if(!e.h)return s.return();e.h.onManifestUpdated(),x(s)}}))}function ly(e){return e.Da!=xy}function cy(e,t){e.Da=t,e.l&&e.l.Ec(!ly(e)),ly(e)||e.B.stop()}function dy(e,t,n,r){if(!e.Z)throw new Le(2,7,7001);return r||(r={}),r.isPreload=e.Ob(),t=e.h.networkingEngine.request(n,t,r),ua(e.Z,t),t}function fy(e){return"AES-128"==e||"AES-256"==e||"AES-256-CTR"==e}function py(t,n,r,i,a,o){var s,u,l,c,d,f,p,h,g,m,v;return R((function(y){switch(y.g){case 1:if("video/mp2t"==r)throw new Le(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Le(2,4,4041);if(s=sv(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(s))return y.return(null);if((u=hv(i(),sv(n,"URI"),o))[0].startsWith("data:text/plain;base64,")){l=Pt(Mt(u[0].split("data:text/plain;base64,").pop())),y.s(2);break}return c=u.sort().join(""),t.na.has(c)||(d=fa(u,t.g.retryParameters),f=dy(t,d,6).promise,t.na.set(c,f)),S(y,t.na.get(c),3);case 3:p=y.h,l=Pt(p.data);case 2:if(h="00000000000000000000000000000000",!a){y.s(4);break}return S(y,hy(t,a),5);case 5:(g=y.h)&&(h=g);case 4:return(m=new Map).set(h,l),v="cenc","SAMPLE-AES"==s&&(v="cbcs"),y.return(_t(m,v))}}))}function hy(e,t){var n,r,i;return R((function(a){return 1==a.g?(n=null,e.oa.has(t)?(n=e.oa.get(t),a.s(2)):(r=wl(t.N(),t.cc(),t.ac(),e.g.retryParameters),S(a,dy(e,r,va,{type:0}).promise,3))):(2!=a.g&&(i=a.h,t.Jd(i.data),n=function(e){var t=null;return(new Ca).box("moov",Ma).box("trak",Ma).box("mdia",Ma).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("encv",Pa).box("enca",La).box("sinf",Ma).box("schi",Ma).R("tenc",(function(e){(e=e.reader).X(),e.X(),e.X(),e.X(),t=Pt(e.Cb(16))})).parse(e,!0),t}(i.data),e.oa.set(t,n)),a.return(n))}))}V("shaka.net.DataUriPlugin",xv),xv.parse=Tv,ca("data",Tv),(r=Av.prototype).configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.Ob=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.B.qb()},r.start=function(e,t){var n,r=this;return R((function(i){return 1==i.g?(r.h=t,r.fa=t.isLowLatencyMode(),S(i,sy(r,[e]).promise,2)):3!=i.g?(n=i.h,r.C=n.uri,S(i,function(e,t){var n,r,i,a,o,s,u,l,f,p,h,g,m,v,y,b,w,k,A,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z,G,K,q,W,X,Y,$;return R((function(Q){switch(Q.g){case 1:return n=Bt,r=yv(e.Fa,t),i=cv(r.ca,"EXT-X-DEFINE"),a=[],o=[],s=[],e.l=new Au(null,0),e.l.Ec(!0),u=function(){return[e.C]},l=null,f=new Map,1==r.type?(e.O=!1,B=cv(r.ca,"EXT-X-DEFINE"),f=Lv(e,B,e.C),l=n.la,V="",H=new Map,S(Q,Gv(e,e.F++,f,r,u,"",l,V,!0,"Media Playlist",null,H,null,!1,null,!1),7)):(function(e,t){for(var n=new le(e.C).g,r=(t=c(t)).next();!r.done;r=t.next()){var i=r.value;r=ov(i,"NAME");var a=ov(i,"VALUE");i=ov(i,"QUERYPARAM"),r&&a&&(e.A.has(r)||e.A.set(r,a)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}(e,i),p=cv(r.ca,"EXT-X-MEDIA"),h=cv(r.ca,"EXT-X-STREAM-INF"),g=cv(r.ca,"EXT-X-IMAGE-STREAM-INF"),m=cv(r.ca,"EXT-X-I-FRAME-STREAM-INF"),v=cv(r.ca,"EXT-X-SESSION-KEY"),y=cv(r.ca,"EXT-X-SESSION-DATA"),b=cv(r.ca,"EXT-X-CONTENT-STEERING"),function(e,t){for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=ov(r,"DATA-ID");n=ov(r,"URI");var a=ov(r,"LANGUAGE");r=ov(r,"VALUE"),i=(new Map).set("id",i),n&&i.set("uri",hv([e.C],n,e.A)[0]),a&&i.set("language",a),r&&i.set("value",r),n=new ra("sessiondata",i),e.h&&e.h.onEvent(n)}}(e,y),S(Q,function(e,t){var n,r,i,a,o,s;return R((function(u){if(!e.h||!e.g)return u.return();for(r=c(t),i=r.next();!i.done;i=r.next())if(a=i.value,o=ov(a,"PATHWAY-ID"),s=ov(a,"SERVER-URI"),o&&s){e.j=new Vg(e.h),e.j.configure(e.g),e.j.i=[e.C],e.j.setManifestType("HLS"),e.j.h=o,n=Hg(e.j,s);break}return S(u,n,0)}))}(e,b),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(w=[],k=c(h),A=k.next(),I={};!A.done;I={Fh:void 0},A=k.next())C=A.value,(M=ov(C,"SUPPLEMENTAL-CODECS"))&&(I.Fh=M.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),D=C.attributes.map(function(e){return function(t){var n=t.name,r=t.value;return"CODECS"==n&&(r=e.Fh.join(","),1<(t=t.value.split(",")).length&&(t=Ot("audio",t))&&(r+=","+t)),new lv(n,r)}}(I)),w.push(new rv(C.id,C.name,D,null)));for(h.push.apply(h,d(w)),P=[],L=c(m),N=L.next(),_={};!N.done;_={Gh:void 0},N=L.next())j=N.value,(O=ov(j,"SUPPLEMENTAL-CODECS"))&&(_.Gh=O.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),U=j.attributes.map(function(e){return function(t){var n=t.name;return t=t.value,"CODECS"==n&&(t=e.Gh.join(",")),new lv(n,t)}}(_)),P.push(new rv(j.id,j.name,U,null)));m.push.apply(m,d(P))}return function(e,t){for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=ov(r,"AUDIO");n=ov(r,"VIDEO");var a=ov(r,"SUBTITLES");if(r=_v(e,r),a){var o=Ot(Ft,r);e.H.set(a,o),cn(r,o)}i&&((a=Ot("audio",r))||(a=e.g.hls.defaultAudioCodec),e.H.set(i,a)),n&&((i=Ot("video",r))||(i=e.g.hls.defaultVideoCodec),e.H.set(n,i))}}(e,h),function(e,t){t=dv(t,"CLOSED-CAPTIONS"),e.O=0==t.length;for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=ov(r,"LANGUAGE");n=ci(i||"und"),i||(i=ov(r,"NAME"))&&(n=i),i=sv(r,"GROUP-ID"),r=sv(r,"INSTREAM-ID").replace("SERVICE","svc"),e.G.get(i)||e.G.set(i,new Map),e.G.get(i).set(r,n)}}(e,p),F=function(e,t){return t.map((function(t){return"video"!==(t=Uv(e,t)).stream.type?null:t.stream})).filter((function(e){return e}))}(e,m),S(Q,function(e,t,n,r,i,a,o){var s,u,l,f,p,h,g,m,v,y,b,w,x,T,k,A,E,I,C,M,D,P,L,N,_,j,O,U,F,B,V,H,z,G,K,q;return R((function(R){switch(R.g){case 1:if(s=[],u=new Set,e.g.ignoreDrmInfo||!(0<n.length)){R.s(2);break}l=c(n),f=l.next();case 3:if(f.done){R.s(2);break}if(p=f.value,h=sv(p,"METHOD"),g=ov(p,"KEYFORMAT")||"identity",m=null,"NONE"==h){R.s(4);break}if(fy(h)){v=hv(i(),sv(p,"URI"),a),y=v.sort().join(""),e.L.has(y)||(b=fa(v,e.g.retryParameters),w=dy(e,b,6).promise,e.L.set(y,w)),R.s(4);break}if("identity"==g)return S(R,py(e,p,"",i,null,a),12);if(!(x=e.Qb.get(g))){T=null,R.s(10);break}return S(R,x(p,"",null),11);case 11:T=R.h;case 10:m=T,R.s(6);break;case 12:m=R.h;case 6:if(m){if(m.keyIds)for(k=c(m.keyIds),A=k.next();!A.done;A=k.next())E=A.value,u.add(E);s.push(m)}case 4:f=l.next(),R.s(3);break;case 2:for(I={},C=c(t),M=C.next();!M.done;M=C.next())D=M.value,P=iv(D,!e.j),I[P]?I[P].push(D):I[P]=[D];for(N in L=[],I)_=I[N],j=_[0],O=ov(j,"FRAME-RATE"),U=Number(ov(j,"AVERAGE-BANDWIDTH"))||Number(sv(j,"BANDWIDTH")),F=ov(j,"RESOLUTION"),B=c(F?F.split("x"):[null,null]),V=B.next().value,H=B.next().value,z=ov(j,"VIDEO-RANGE"),(G=ov(j,"REQ-VIDEO-LAYOUT"))&&G.includes(",")&&(K=G.split(",").filter((function(e){return"CH-STEREO"==e||"CH-MONO"==e})),G=K[0]),G=G||"CH-MONO",q=Nv(e,_,r),L.push.apply(L,d(jv(e,q.audio,q.video,U,V,H,O,z,G,s,u,o)));return R.return(L.filter((function(e){return null!=e})))}}))}(e,h,v,p,u,e.A,F),5);case 5:return a=Q.h,o=function(e,t){var n=dv(t,"SUBTITLES");t=n.map((function(t){if(e.g.disableText)return null;try{return Ov(e,[t],new Map).stream}catch(s){if(e.g.hls.ignoreTextStreamFailures)return null;throw s}}));for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=sv(r.value,"GROUP-ID");if((r=e.H.get(i))&&(i=e.I.get(i)))for(var a=(i=c(i)).next();!a.done;a=i.next())(a=a.value).stream.codecs=r,a.stream.mimeType=ry(Ft,r)||iy(Ft),Rv(a.stream)}return t.filter((function(e){return e}))}(e,p),S(Q,function(e,t,n){var r,i;return R((function(a){return 1==a.g?(r=t.map((function(t){var n,r;return R((function(i){if(1==i.g)return e.g.disableThumbnails?i.return(null):(T(i,2),S(i,function(e,t){var n,r,i,a,o,s,u,l,c,d;return R((function(f){return 1==f.g?(n=sv(t,"URI"),r=ov(t,"CODECS","jpeg")||"",e.i.has(n)?f.return(e.i.get(n)):(i=ov(t,"LANGUAGE"),a=ov(t,"NAME"),o=ov(t,"CHARACTERISTICS"),s=Fv(e,e.F++,[n],r,"image",i,!1,a,null,null,o,!1,null,!1),(u=ov(t,"RESOLUTION"))?S(f,s.stream.createSegmentIndex(),3):f.s(2))):(2!=f.g&&(l=qu(s.stream.segmentIndex),c=l.tilesLayout)&&(s.stream.width=Number(u.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(u.split("x")[1])*Number(c.split("x")[1])),(d=ov(t,"BANDWIDTH"))&&(s.stream.bandwidth=Number(d)),e.i.set(n,s),f.return(s))}))}(e,t),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=E(i),e.g.hls.ignoreImageStreamFailures)return i.return(null);throw r}))})).concat(n.map((function(t){if(e.g.disableThumbnails)return null;try{var n=Uv(e,t);return"image"!==n.stream.type?null:n.stream}catch(u){if(e.g.hls.ignoreImageStreamFailures)return null;throw u}}))),S(a,Promise.all(r),2)):(i=a.h,a.return(i.filter((function(e){return e}))))}))}(e,g,m),6);case 6:s=Q.h,Q.s(3);break;case 7:z=Q.h,e.i.set(e.C,z),z.stream&&(G=nl(z.stream),z.stream.segmentIndex.vb((function(e){e.Y&&(e.Y.Uc=G)}))),l=z.stream.type,a.push({id:0,language:ci(V||"und"),disabledUntilTime:0,primary:!0,audio:"audio"==l?z.stream:null,video:"video"==l?z.stream:null,bandwidth:z.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new Le(2,7,7001);if(Yv(e,r),1==r.type&&(ly(e)&&(Qv(e,r),K=e.o,e.B.da(K)),q=Array.from(e.i.values()),Hv(e,q),Pv(e),ty(e,r.ca,l,f,u)),e.m={presentationTimeline:e.l,variants:a,textStreams:o,imageStreams:s,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},e.$||!e.g.hls.disableCodecGuessing){Q.s(8);break}for(W=[],X=c(e.m.variants),Y=X.next();!Y.done;Y=X.next())($=Y.value).audio&&""===$.audio.codecs&&W.push($.audio.createSegmentIndex()),$.video&&""===$.video.codecs&&W.push($.video.createSegmentIndex());return S(Q,Promise.all(W),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),x(Q)}}))}(r,n.data),3)):i.return(r.m)}))},r.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.Z&&(e.push(this.Z.destroy()),this.Z=null),this.g=this.h=null,this.Ma.clear(),this.m=null,this.i.clear(),this.I.clear(),this.H.clear(),this.A.clear(),this.sa.clear(),this.ka.clear(),this.L.clear(),this.na.clear(),this.oa.clear(),this.ya.clear(),this.j&&this.j.destroy(),this.T&&(this.T.release(),this.T=null),Promise.all(e)},r.update=function(){var e,t,n,r,i,a,o,s,u,l,f,p=this;return R((function(h){if(1==h.g){if(!ly(p))return h.return();for(e=[],t=Array.from(p.i.values()),p.o=1/0,p.m.gapCount=0,n=t.filter((function(e){return e.stream.segmentIndex})),r=c(n),i=r.next();!i.done;i=r.next())a=i.value,e.push(Iv(p,a));return S(h,Promise.all(e),2)}for(Vv(p,n.map((function(e){return e.stream}))),o=n.some((function(e){return 0==e.pd})),n.length&&!o&&(cy(p,Ay.Oh),s=n.map((function(e){return e.Tb})),p.l.$a(Math.min.apply(Math,d(s))),p.h.updateDuration()),o&&Pv(p),u=c(n),l=u.next();!l.done;l=u.next())(f=l.value).stream.isAudioMuxedInVideo||!f.stream.segmentIndex||qu(f.stream.segmentIndex)||p.h.disableStream(f.stream);x(h)}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(e){this.j&&this.j.banLocation(e)},r.setMediaElement=function(e){this.W=e},V("shaka.hls.HlsParser",Av);var gy=(new Map).set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),my=(new Map).set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),vy=(new Map).set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),yy=(new Map).set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),by=(new Map).set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),wy=(new Map).set("audio",my).set("video",vy).set("text",yy).set("image",by),Sy=new Set(["video/mp2t"].concat(d(Xr))),xy="VOD",Ty="EVENT",ky="LIVE",Ay={Oh:xy,Zj:Ty,gk:ky};function Ey(e){return og(e)}Eo("application/x-mpegurl",(function(){return new Av})),Eo("application/vnd.apple.mpegurl",(function(){return new Av}));var Iy=(new Map).set("com.microsoft.playready",Ey).set("com.microsoft.playready.recommendation",Ey).set("com.microsoft.playready.software",Ey).set("com.microsoft.playready.hardware",Ey);function Cy(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.C=new G(5),this.o=new He((function(){!function(e){var t;R((function(n){switch(n.g){case 1:return T(n,2),S(n,My(e),4);case 4:A(n,3);break;case 2:t=E(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();x(n)}}))}(e)})),this.B=new sa,this.m=new Map,this.A=function(){return!1}}function My(e){var t,n,r,i,a,o,s;return R((function(u){if(1==u.g)return t=fa(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),ua(e.B,i),S(u,i.promise,2);if(a=u.h,!e.h)return u.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var l=a.uri,f=a.data,p=e.g.mss.manifestPreprocessor;if(p!=ic){if(ie("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),!(f=Im(f,"SmoothStreamingMedia")))throw new Le(2,4,4046,l);p(f),f=St(f.outerHTML)}var h=Tn(f,"SmoothStreamingMedia");if(!h)throw new Le(2,4,4046,l);if((l=e.g.mss.manifestPreprocessorTXml)!=ac&&l(h),e.i||(e.i=new Au(null,0)),l=Nn(h,"IsLive",Kn,!1))throw new Le(2,4,4047);e.i.Ec(!l),p=Nn(h,"TimeScale",zn,1e7),f=Nn(h,"DVRWindowLength",zn),l&&(0===f||isNaN(f))&&(f=1/0);var g,m=Nn(h,"CanSeek",Kn,!1);for(0===f&&m&&(f=1/0),m=null,f&&0<f&&(m=f/p),l&&!isNaN(e.g.availabilityWindowOverride)&&(m=e.g.availabilityWindowOverride),null==m&&(m=1/0),e.i.De(m),f=Nn(h,"Duration",zn,1/0),l||e.i.$a(f/p),l={variants:[],textStreams:[],timescale:p,duration:f/p},m=Cn(h,"Protection"),p=e.g.mss.keySystemsBySystemId,f=[],g=(m=c(m)).next();!g.done;g=m.next())f=f.concat(Cn(g.value,"ProtectionHeader"));if(f.length){for(m=[],g=0;g<f.length;g++){var v=f[g],y=v.attributes.SystemID.toLowerCase(),b=p[y];if(b){var w;e:{if(w=ag(v))for(var T=(w=c(Pn(w,"DATA"))).next();!T.done;T=w.next())if(T=Ln(T.value,"KID")){w=Mt(Mn(T)),w=Pt(w=new Uint8Array([w[3],w[2],w[1],w[0],w[5],w[4],w[7],w[6]].concat(d(w.slice(8)))));break e}w=null}y=Nt(b,"cenc",y=[{initData:Ba(T=Mt(Mn(v)),y=Dt(y.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:w}]),w&&y.keyIds.add(w),(b=Iy.get(b))&&(y.licenseServerUri=b(v)),m.push(y)}}p=m}else p=[];for(g=p,m=[],p=[],f=[],v=(h=c(h=Cn(h,"StreamIndex"))).next();!v.done;v=h.next()){b=Cn(v=v.value,"QualityLevel"),y=l.timescale,w=l.duration,T=Cn(v,"c");for(var k=[],A=0,E=0;E<T.length;++E){var I=T[E],C=T[E+1],M=Nn(I,"t",zn),D=Nn(I,"d",zn);if(I=Nn(I,"r",Vn),!D)break;if(M=null!=M?M:A,(I=I||0)&&I--,0>I)if(C){if(null==(C=Nn(C,"t",zn)))break;if(M>=C)break;I=Math.ceil((C-M)/D)-1}else{if(1/0==w)break;if(M/y>=w)break;I=Math.ceil((w*y-M)/D)-1}for(C=0;C<=I;++C)A=M+D,k.push({start:M/y,end:A/y,xg:M}),M=A}for(y=k,w=(b=c(b)).next();!w.done;w=b.next())(w=Dy(e,v,w.value,y,g,l))&&("audio"!=w.type||e.g.disableAudio?"video"!=w.type||e.g.disableVideo?w.type!=Ft||e.g.disableText||f.push(w):p.push(w):m.push(w))}for(h=[],g=(m=c(0<m.length?m:[null])).next();!g.done;g=m.next())for(g=g.value,k=(v=c(0<p.length?p:[null])).next();!k.done;k=v.next())y=(b=h).push,w=e,T=g,k=k.value,E=0,T&&T.bandwidth&&0<T.bandwidth&&(E+=T.bandwidth),k&&k.bandwidth&&0<k.bandwidth&&(E+=k.bandwidth),w={id:w.u++,language:T?T.language:"und",disabledUntilTime:0,primary:!!T&&T.primary||!!k&&k.primary,audio:T,video:k,bandwidth:E,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(b,w);l.variants=h,l.textStreams=f,e.j?(e.j.variants=l.variants,e.j.textStreams=l.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.ke()),Promise.resolve(),o=Date.now(),s=(o-r)/1e3,e.C.sample(1,s),x(u)}))}function Dy(e,t,n,r,i,a){var o=t.attributes.Type;if("audio"!==o&&"video"!==o&&"text"!==o)return Y("Ignoring unrecognized type:",o),null;var s=t.attributes.Language,u=e.u++,l=Nn(n,"Bitrate",Hn),d=Nn(n,"MaxWidth",Hn),f=Nn(n,"MaxHeight",Hn),p=Nn(n,"Channels",Hn),h=Nn(n,"SamplingRate",Hn),g=a.duration;r.length&&(g=r[r.length-1].end-r[0].start);var m=e.i.getDuration();e.i.$a(Math.min(g,m));var v={id:u,originalId:t.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:d||void 0,height:f||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:ci(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:p,audioSamplingRate:h,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((i=t.attributes.Subtype)&&((i=Ly.get(i))&&v.roles.push(i),"main"===i&&(v.primary=!0)),null!==(i=n.attributes.FourCC)&&""!==i||(i=t.attributes.FourCC),!i)if("audio"===o)i="AAC";else if("video"===o)return Y('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!Py.includes(i.toUpperCase()))return Y("Codec not supported:",i),null;switch(n=function(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if("audio"!==t)return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],"AACH"===n?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,o,i,v),v.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="audio",v.mimeType="mss/audio/mp4",v.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="video",v.mimeType="mss/video/mp4",v.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":v.type=Ft,v.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(v.codecs="stpp")}return v.fullMimeTypes.add(jr(v.mimeType,v.codecs)),v.createSegmentIndex=function(){if(v.segmentIndex)return Promise.resolve();if(e.m.has(v.id))var n=e.m.get(v.id);else n=[],"video"==v.type&&(n=v.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=Uo(new Oo([n={id:v.id,type:v.type,codecs:v.codecs,encrypted:v.encrypted,timescale:v.mssPrivateData.timescale,duration:v.mssPrivateData.duration,jb:n,ra:new Uint8Array([]),Ba:new Uint8Array([]),Ha:0,Ja:0,data:null,stream:v}])),e.m.set(v.id,n);return n=function(e,t,n,r,i){var a=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[];for(var o=(i=c(i)).next(),s={};!o.done;s={Ge:void 0},o=i.next())s.Ge=o.value,r.push(new gs(s.Ge.start,s.Ge.end,function(t){return function(){return Rt(e.l,[a.replace("{start time}",String(t.Ge.xg))])}}(s),0,null,t,0,0,n.mssPrivateData.duration));return r}(e,new ps((function(){return[]}),0,null,nl(v),v.mssPrivateData.timescale,n,null,v.encrypted),v,t,r),v.segmentIndex=new Ku(n),Promise.resolve()},v.closeSegmentIndex=function(){v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null)},v}(r=Cy.prototype).configure=function(e,t){this.g=e,t&&(this.A=t)},r.start=function(e,t){var n=this;return R((function(r){if(1==r.g)return n.l=[e],n.h=t,S(r,My(n),2);if(!n.h)throw new Le(2,7,7001);return r.return(n.j)}))},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},r.update=function(){var e,t=this;return R((function(n){return 1==n.g?(T(n,2),S(n,My(t),4)):2!=n.g?A(n,0):(e=E(n),t.h&&e?(t.h.onError(e),void x(n)):n.return())}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},V("shaka.mss.MssParser",Cy);var Py="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Ly=(new Map).set("CAPT","main").set("SUBT","alternate").set("DESC","main");function Ry(e,t,n,r,i,a,o){if(200<=n&&299>=n&&202!=n||304==n)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:a};a=null;try{a=wt(t)}catch(s){}throw new Le(401==n||403==n?2:1,1,1001,r,n,a,e,o,i||r)}function Ny(){}function _y(e,t,n,r,i,a){var o=new Vy;Ta(t.headers).forEach((function(e,t){o.append(t,e)}));var s=new Fy,u={Gg:!1,Ih:!1};if(e=function(e,t,n,r,i,a,o,s,u){var l,c,d,f,p,h,g,m,v,y,b,w,k;return R((function(I){switch(I.g){case 1:return l=Uy,c=By,f=new ArrayBuffer(0),h=p=0,g=Date.now(),T(I,2),S(I,l(e,r),4);case 4:if(d=I.h,o(jy(d.headers)),"HEAD"==r.method){I.s(5);break}return v=(m=d.headers.get("Content-Length"))?parseInt(m,10):0,d.body?(y=d.clone().body.getReader(),new c({start:function(e){function t(){var n,r,i,o;return R((function(l){switch(l.g){case 1:return T(l,2),S(l,y.read(),4);case 4:n=l.h,A(l,3);break;case 2:return E(l),l.return();case 3:if(n.done){l.s(5);break}if(p+=n.value.byteLength,!s){l.s(5);break}return S(l,s(n.value),5);case 5:r=Date.now(),i=p-h,(100<r-g&&i>=u||n.done)&&(o=n.done?0:v-p,a(r-g,i,o),h=p,g=r),n.done?e.close():(e.enqueue(n.value),t()),x(l)}}))}t()}}),S(I,d.arrayBuffer(),8)):S(I,d.arrayBuffer(),9);case 8:f=I.h,I.s(5);break;case 9:f=I.h,b=Date.now(),a(b-g,f.byteLength,0);case 5:A(I,3);break;case 2:if(w=E(I),i.Gg)throw new Le(1,1,7001,e,n);if(i.Ih)throw new Le(1,1,1003,e,n);throw new Le(1,1,1002,e,w,n);case 3:return k=jy(d.headers),I.return(Ry(k,f,d.status,e,d.url,t,n))}}))}(e,t,n,{body:t.body||void 0,headers:o,method:t.method,signal:s.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,r,i,t.streamDataCallback,a.minBytesForProgressEvents||0),e=new Qi(e,(function(){return u.Gg=!0,s.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var l=new He((function(){u.Ih=!0,s.abort()}));l.da(t/1e3),e.finally((function(){l.stop()}))}return e}function jy(e){var t={};return e.forEach((function(e,n){t[n.trim()]=e})),t}function Oy(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(TT){return!1}return!!e.Response&&(!!new Response("").body&&!(!e.fetch||"polyfill"in e.fetch||!e.AbortController))}Eo("application/vnd.ms-sstr+xml",(function(){return new Cy})),V("shaka.net.HttpFetchPlugin",Ny),Ny.isSupported=Oy,Ny.parse=_y;var Uy=e.fetch,Fy=e.AbortController,By=e.ReadableStream,Vy=e.Headers;function Hy(){}function zy(e,t,n,r,i,a){var o=new Ky,s=Date.now(),u=0;return new Qi(new Promise((function(l,c){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){c(new Le(1,1,7001,e,n))};var d=!1;for(var f in o.onreadystatechange=function(){if(2==o.readyState&&!d){var e=Gy(o);i(e),d=!0}},o.onload=function(i){var a=Gy(o),d=o.response;try{r(Date.now()-s,i.loaded-u,0);var f=Ry(a,d,o.status,e,o.responseURL,t,n);l(f)}catch(p){c(p)}},o.onerror=function(t){c(new Le(1,1,1002,e,t,n))},o.ontimeout=function(){c(new Le(1,1,1003,e,n))},o.onprogress=function(e){var t=Date.now(),n=a.minBytesForProgressEvents||0,i=e.loaded-u;(100<t-s&&i>=n||e.lengthComputable&&e.loaded==e.total)&&(r(t-s,i,4==o.readyState?0:e.total-e.loaded),u=e.loaded,s=t)},t.headers)o.setRequestHeader(f.toLowerCase(),t.headers[f]);o.send(t.body)})),(function(){return o.abort(),Promise.resolve()}))}function Gy(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={};for(var n=(t=c(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}Oy()&&(ca("http",_y,2,!0),ca("https",_y,2,!0),ca("blob",_y,2,!0)),V("shaka.net.HttpXHRPlugin",Hy),Hy.parse=zy;var Ky=e.XMLHttpRequest;function qy(e,t,n,r,i){this.g=e,this.i=t,this.groupId=n,this.h=r,this.j=i}function Wy(e){var t=e.Gb(!1);return t?Ct(t):e.N().map((function(e){return"{"+encodeURI(e.split("#xywh=")[0])+"}"})).join("")+":"+e.startByte+":"+e.endByte}function Xy(e,t){return wl(e.g.N(),e.g.startByte,e.g.endByte,t.streaming.retryParameters)}function Yy(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function $y(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}function Qy(e){return 0==e.i?0:e.j/e.i}function Jy(e){var t=this;this.u=e,this.i=new Map,this.h=new wa((function(){return Zy(t).catch((function(){}))})),this.j=[],this.o=function(){},this.m=function(){},this.g=new Yy,this.l=!1}function Zy(e){e.l=!0;var t=e.j.map((function(e){return e()}));return e.j=[],Promise.all(t)}function eb(e,t,n,r,i,a){Sa(e.h);var o=(e.i.get(t)||Promise.resolve()).then((function(){var t,o,s,u,l,c,d;return R((function(f){if(1==f.g)return S(f,function(e,t){var n,r,i,a;return R((function(o){return 1==o.g?(n=va,r=e.u.request(n,t),i=function(){return r.abort()},e.j.push(i),S(o,r.promise,2)):(a=o.h,cn(e.j,i),o.return(a.data))}))}(e,n),2);if(t=f.h,e.h.g)throw new Le(2,9,7001);if(i)for(u in o=Ce(t),(s=new Fa(o)).data)l=Number(u),c=s.data[l],d=s.g[l],e.m(c,d);return e.g.close(r,t.byteLength),e.o(Qy(e.g),e.g.g),f.return(a(t))}))}));e.i.set(t,o)}function tb(e,t,n,r,i,a){Sa(e.h);var o=(e.i.get(t)||Promise.resolve()).then((function(){if(e.h.g)throw new Le(2,9,7001);if(i){var t=Ce(n);for(var o in(t=new Fa(t)).data){var s=Number(o);e.m(t.data[s],t.g[s])}}return e.g.close(r,n.byteLength),e.o(Qy(e.g),e.g.g),a(n)}));e.i.set(t,o)}function nb(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new $i,e.onabort=function(e){e.preventDefault(),n.g.reject()},e.onerror=function(e){e.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}function rb(e,t){return new Promise((function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var e;return R((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(e=i.result,S(r,t(e.key,e.value,e),2));e.continue(),x(r)}))}}))}function ib(e){this.h=e,this.g=[]}function ab(e,t){return ob(e,t,"readwrite")}function ob(e,t,n){var r=new nb(n=e.h.transaction([t],n),t);return e.g.push(r),r.promise().then((function(){cn(e.g,r)}),(function(){cn(e.g,r)})),r}function sb(e,t,n){this.h=new ib(e),this.i=t,this.g=n}function ub(e){return Promise.reject(new Le(2,9,9011,"Cannot add new value to "+e))}function lb(e,t,n,r){t=(e=ab(e.h,t)).store();for(var i=(n=c(n)).next(),a={};!i.done;a={Qf:void 0},i=n.next())a.Qf=i.value,t.delete(a.Qf).onsuccess=function(e){return function(){return r(e.Qf)}}(a);return e.promise()}function cb(e,t,n){var r,i,a,o,s,u,l;return R((function(d){if(1==d.g){for(r=ob(e.h,t,"readonly"),i=r.store(),a={},o=[],s=c(n),u=s.next(),l={};!u.done;l={xe:void 0,ge:void 0},u=s.next())l.ge=u.value,l.xe=i.get(l.ge),l.xe.onsuccess=function(e){return function(){void 0==e.xe.result&&o.push(e.ge),a[e.ge]=e.xe.result}}(l);return S(d,r.promise(),2)}if(o.length)throw new Le(2,9,9012,"Could not find values for "+o);return d.return(n.map((function(e){return a[e]})))}))}function db(e){this.g=new ib(e)}function fb(){this.g=new Map}function pb(e){var t=null;if(e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{zb:n,Qa:r},Qa:e})}))})),t)return t;throw new Le(2,9,9013,"Could not find a cell that supports add-operations")}function hb(e,t,n){if(!(e=e.g.get(t)))throw new Le(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new Le(2,9,9013,"Could not find cell with name "+n);return t}function gb(e,t){mb.set(e,t)}ca("http",zy,1,!0),ca("https",zy,1,!0),ca("blob",zy,1,!0),Yy.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}},Jy.prototype.destroy=function(){return this.h.destroy()},nb.prototype.abort=function(){var e=this;return R((function(t){if(1==t.g){try{e.i.abort()}catch(n){}return T(t,2),S(t,e.g,4)}if(2!=t.g)return A(t,0);E(t),x(t)}))},nb.prototype.store=function(){return this.h},nb.prototype.promise=function(){return this.g},ib.prototype.destroy=function(){return Promise.all(this.g.map((function(e){return e.abort()})))},(r=sb.prototype).destroy=function(){return this.h.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return ub(this.i)},r.removeSegments=function(e,t){return lb(this,this.i,e,t)},r.getSegments=function(e){var t,n=this;return R((function(r){return 1==r.g?S(r,cb(n,n.i,e),2):(t=r.h,r.return(t.map((function(e){return n.Ig(e)}))))}))},r.addManifests=function(){return ub(this.g)},r.updateManifest=function(){return Promise.reject(new Le(2,9,9016,"Cannot modify values in "+this.g))},r.updateManifestExpiration=function(e,t){var n=ab(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},r.removeManifests=function(e,t){return lb(this,this.g,e,t)},r.getManifests=function(e){var t,n=this;return R((function(r){return 1==r.g?S(r,cb(n,n.g,e),2):(t=r.h,r.return(Promise.all(t.map((function(e){return n.gd(e)})))))}))},r.getAllManifests=function(){var e,t,n=this;return R((function(r){return 1==r.g?(e=ob(n.h,n.g,"readonly"),t=new Map,S(r,rb(e,(function(e,r){var i;return R((function(a){if(1==a.g)return S(a,n.gd(r),2);i=a.h,t.set(e,i),x(a)}))})),2)):3!=r.g?S(r,e.promise(),3):r.return(t)}))},r.Ig=function(e){return e},r.gd=function(e){return Promise.resolve(e)},r.add=function(e,t){var n,r,i,a,o,s,u,l=this;return R((function(d){if(1==d.g){for(n=ab(l.h,e),r=n.store(),i=[],a=c(t),o=a.next(),s={};!o.done;s={cg:void 0},o=a.next())u=o.value,s.cg=r.add(u),s.cg.onsuccess=function(e){return function(){i.push(e.cg.result)}}(s);return S(d,n.promise(),2)}return d.return(i)}))},db.prototype.destroy=function(){return this.g.destroy()},db.prototype.getAll=function(){var e,t,n=this;return R((function(r){return 1==r.g?(e=ob(n.g,"session-ids","readonly"),t=[],S(r,rb(e,(function(e,n){t.push(n)})),2)):3!=r.g?S(r,e.promise(),3):r.return(t)}))},db.prototype.add=function(e){for(var t=ab(this.g,"session-ids"),n=t.store(),r=(e=c(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},db.prototype.remove=function(e){var t,n=this;return R((function(r){return 1==r.g?S(r,rb(t=ab(n.g,"session-ids"),(function(t,n,r){e.includes(n.sessionId)&&r.delete()})),2):S(r,t.promise(),0)}))},fb.prototype.destroy=function(){for(var e=[],t=c(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},fb.prototype.init=function(){var e=this;mb.forEach((function(t,n){(t=t())&&e.g.set(n,t)}));for(var t=[],n=c(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},V("shaka.offline.StorageMuxer",fb),fb.unregister=function(e){mb.delete(e)},fb.register=gb,fb.prototype.destroy=fb.prototype.destroy;var mb=new Map;function vb(){sb.apply(this,arguments)}function yb(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=c(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(r=(n=c(e)).next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=c(e),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,a=(i=c(t)).next();!a.done;a=i.next())a.value.variantIds.push(r);if(e.length&&t.length)for(r=(t=c(t)).next();!r.done;r=t.next())for(r=r.value,a=(i=c(e)).next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=c(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map((function(n){return function(e,t,n){var r=e.initSegmentUri?bb(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=bb(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}(n,e.startTime,t)}))}function bb(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new Le(2,9,9004,"Could not parse uri "+e)}function wb(){sb.apply(this,arguments)}function Sb(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function xb(){sb.apply(this,arguments)}function Tb(){this.m=this.j=this.i=this.h=this.g=this.l=null}function kb(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}function Ab(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new kb(t,n,r,Number(e[4])):null}function Eb(e,t){this.h=e,this.g=t}function Ib(e,t){var n=new Au(null,0);n.$a(t.duration);var r=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));r=function(e,t,n,r){for(var i=new Set,a=c(t),o=a.next();!o.done;o=a.next())for(var s=(o=c(o.value.variantIds)).next();!s.done;s=o.next())i.add(s.value);for(a=c(n),o=a.next();!o.done;o=a.next())for(o=c(o.value.variantIds),s=o.next();!s.done;s=o.next())i.add(s.value);for(a=new Map,i=c(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=c(t),i=t.next();!i.done;i=t.next())for(o=i.value,i=Cb(e,o,r),o=c(o.variantIds),s=o.next();!s.done;s=o.next())(s=a.get(s.value)).language=i.language,s.primary=s.primary||i.primary,s.audio=i;for(n=c(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=Cb(e,i,r),i=c(i.variantIds),o=i.next();!o.done;o=i.next())(o=a.get(o.value)).primary=o.primary||t.primary,o.video=t;return a}(e,r,i,n),i=t.streams.filter((function(e){return e.type==Ft})).map((function(t){return Cb(e,t,n)}));var a=t.streams.filter((function(e){return"image"==e.type})).map((function(t){return Cb(e,t,n)})),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=c(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=o),u.video&&u.video.encrypted&&(u.video.drmInfos=o);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Cb(e,t,n){var r=t.segments.map((function(n){return function(e,t,n){var r=new kb("segment",e.h,e.g,t.dataKey);return e=new gs(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new kb("segment",e.h,e.g,t);return new ps((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.Ee(t.thumbnailSprite),e}(e,n,t)}));return n.Cd(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ku(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([jr(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function Mb(){this.g=null}function Db(){}function Pb(e,t){var n=Ab(e);return n&&"manifest"==n.g?e=ea(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t}):e=n&&"segment"==n.g?function(e,t,n){var r=new fb;return ea(void 0).Ga((function(){return r.init()})).Ga((function(){return hb(r,t.zb(),t.Qa())})).Ga((function(e){return e.getSegments([t.key()])})).Ga((function(e){return{uri:t,data:e[0].data,headers:{},originalRequest:n}})).finally((function(){return r.destroy()}))}(n.key(),n,t):Ji(new Le(2,1,9004,e)),e}function Lb(e,t,n){var r,i,a,o,s,u;return R((function(l){switch(l.g){case 1:r=[];for(var d=[],f=c(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var h=!1,g=c(d),m=g.next();!m.done;m=g.next())if(Rb((m=m.value).info,p)){m.sessionIds.push(p.sessionId),h=!0;break}h||d.push({info:p,sessionIds:[p.sessionId]})}i=c(d),a=i.next();case 2:if(a.done){l.s(4);break}return o=a.value,s=function(e,t,n){var r,i;return R((function(a){switch(a.g){case 1:return r=new Va({Vb:t,onError:function(){},re:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),T(a,2),r.configure(e),S(a,function(e,t,n,r,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],o.set(t,i),Xa(e,o,[])}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:A(a,3);break;case 2:return E(a),S(a,r.destroy(),5);case 5:return a.return([]);case 3:return i=[],S(a,Promise.all(n.sessionIds.map((function(e){return R((function(t){return 1==t.g?(T(t,2),S(t,function(e,t){var n,r,i;return R((function(a){return 1==a.g?S(a,Qa(e,t,{initData:null,initDataType:null}),2):3!=a.g?(n=a.h)?(r=[],(i=e.i.get(n))&&(i.rb=new $i,r.push(i.rb)),r.push(n.remove()),S(a,Promise.all(r),3)):a.return():(e.i.delete(n),void x(a))}))}(r,e),4)):2!=t.g?(i.push(e),A(t,0)):(E(t),void x(t))}))}))),6);case 6:return S(a,r.destroy(),7);case 7:return a.return(i)}}))}(e,t,o),S(l,s,5);case 5:u=l.h,r=r.concat(u),a=i.next(),l.s(2);break;case 4:return l.return(r)}}))}function Rb(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&dn(e.audioCapabilities,t.audioCapabilities,n)&&dn(e.videoCapabilities,t.videoCapabilities,n)}function Nb(e,t){var n=Ib(new Eb(e.zb(),e.Qa()),t),r=t.appMetadata||{};return n=_b(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function _b(e){for(var t=[],n=Ni(e.variants),r=(n=c(n)).next();!r.done;r=n.next())t.push(Ii(r.value));for(n=(e=c(e.textStreams)).next();!n.done;n=e.next())t.push(Ci(n.value));return t}function jb(){this.g=new Map}function Ob(e,t){var n=t.audio,r=t.video;if(n&&!r&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&r&&e.g.set(r.id,r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),e.g.set(n.id,i),e.g.set(r.id,a)}}function Ub(e,t){e.g.set(t.id,t.bandwidth||2048)}function Fb(e,t){return null==(e=e.g.get(t))&&(e=0),e}function Bb(e){var t=this;if(e&&e.constructor!=pd)throw new Le(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.xb()):(this.h=tc(),this.g=new la),this.i=[],this.l=[];var n=!e;this.j=new wa((function(){var e,r,i,a,o;return R((function(s){switch(s.g){case 1:return S(s,Promise.all(t.l.map((function(e){return Zy(e)}))),2);case 2:for(e=function(){},r=[],i=c(t.i),a=i.next();!a.done;a=i.next())o=a.value,r.push(o.then(e,e));return S(s,Promise.all(r),3);case 3:if(!n){s.s(4);break}return S(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,x(s)}}))})),this.m=1e9}function Vb(){if(ze())e:{for(var e=c(mb.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Hb(e){var t,n,r;return R((function(i){switch(i.g){case 1:return S(i,(t=new fb).init(),2);case 2:return S(i,pb(t),3);case 3:return n=i.h,r=new kb("manifest",n.path.zb,n.path.Qa,e),S(i,t.destroy(),4);case 4:return S(i,(new Bb).remove(r.toString()),0)}}))}function zb(e,t,n,r,i,a){var o,s,u,l,d,f,p,h,g,m,v;return R((function(y){switch(y.g){case 1:for(o=!1,T(y,2),s=!0,u=c(n.streams),l=u.next();!l.done;l=u.next())for(d=l.value,f=c(d.segments),p=f.next();!p.done;p=f.next())h=p.value,null!=(g=h.pendingSegmentRefId?r[h.pendingSegmentRefId]:null)&&(h.dataKey=g,h.pendingSegmentRefId=void 0),null!=(g=h.pendingInitSegmentRefId?r[h.pendingInitSegmentRefId]:null)&&(h.initSegmentKey=g,h.pendingInitSegmentRefId=void 0),h.pendingSegmentRefId&&(s=!1),h.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),S(y,e.updateManifest(t,n),4);case 4:o=!0,a(),A(y,0);break;case 2:return m=E(y),S(y,Hb(t),5);case 5:if(o){y.s(6);break}return v=Object.values(r),S(y,e.removeSegments(v,(function(){})),6);case 6:throw m}}))}function Gb(e){return e.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t}))}function Kb(e){return e.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))}))}function qb(e,t,n,r){if(t.expiration=n.nd(),n=Wa(n),t.sessionIds=r?n:[],Gb(e)&&r&&!n.length)throw new Le(2,9,9007)}function Wb(e,t){for(var n=[],r=c(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&"video"==i.type?n.push({contentType:jr(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||n.push({contentType:jr(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function Xb(e,t,n){return R((function(r){return S(r,function(e,t,n,r){var i,a,o;return R((function(s){return 1==s.g?r.drmInfo?(i=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new Le(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Wb(r,!1),videoCapabilities:Wb(r,!0)}})),S(s,Lb(t,e,a),2)):s.return():3!=s.g?(o=s.h,S(s,i.remove(o),3)):S(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.g,e.h.drm,n,t),0)}))}function Yb(e,t,n){function r(){}var i=function(e){for(var t=new Set,n=(e=c(e.streams)).next();!n.done;n=e.next())for(var r=(n=c(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&t.add(r.initSegmentKey),t.add(r.dataKey);return Array.from(t)}(n);return Nb(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}function $b(e,t){var n;return R((function(r){switch(r.g){case 1:return T(r,2),S(r,Tc(t,e.g,e.h.streaming.retryParameters),4);case 4:n=r.h,A(r,3);break;case 2:E(r);case 3:if(n)return r.return(n);throw new Le(1,2,2011,t)}}))}function Qb(e,t,n,r,i,a){var o={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,mssPrivateData:r.mssPrivateData,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},s=i.offline.numberOfParallelDownloads,u=0===s?r.id:0;return function(e,t,n){if(t=e.segmentIndex.find(t),null!=t)for(var r=e.segmentIndex.get(t);r;)n(r,t),r=e.segmentIndex.get(++t)}(r,n.presentationTimeline.nb(),(function(n,i){var l=Wy(n),c=void 0;if(!a.has(l)){var d=n.endTime-n.startTime;d=Fb(t,r.id)*d,d=$y(e.g,d),a.set(l,new qy(n,d,u,!1,i))}n.Y&&(c=Wy(n.Y),a.has(c)||(d=.5*Fb(t,r.id),d=$y(e.g,d),a.set(c,new qy(n.Y,d,u,!0,i)))),o.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:l,dataKey:0,mimeType:n.mimeType,codecs:n.codecs,thumbnailSprite:n.thumbnailSprite}),0!==s&&(u=(u+1)%s)})),o}function Jb(e){if(e.j.g)throw new Le(2,9,7001)}function Zb(){if(!Vb())throw new Le(2,9,9e3)}function ew(e,t){return R((function(n){return 1==n.g?(e.i.push(t),k(n,2),S(n,t,4)):2!=n.g?n.return(n.h):(I(n),cn(e.i,t),C(n,0))}))}function tw(e){for(var t=new Set,n=c(e.variants),r=n.next();!r.done;r=n.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);for(r=(n=c(e.textStreams)).next();!r.done;r=n.next())t.add(r.value);for(n=(e=c(e.imageStreams)).next();!n.done;n=e.next())t.add(n.value);return t}v(vb,sb),vb.prototype.updateManifestExpiration=function(e,t){var n,r,i,a=this;return R((function(o){return n=ab(a.h,a.g),r=n.store(),i=new $i,r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new Le(2,9,9012,"Could not find values for "+e))},S(o,Promise.all([n.promise(),i]),0)}))},vb.prototype.gd=function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,a=yb(e.periods[n],i),t.push(a);return S(s,Xg(t),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})}))},vb.prototype.Ig=function(e){return{data:e.data}},v(wb,sb),wb.prototype.gd=function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var u=e.periods[n],l=[],d=c(u.streams),f=d.next();!f.done;f=d.next())0!=(f=f.value).variantIds.length&&l.push(Sb(f,u.startTime,u.startTime+i));a=l,t.push(a)}return S(s,Xg(t),2)}return o=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o,sequenceMode:!1})}))},v(xb,sb),(r=xb.prototype).hasFixedKeySpace=function(){return!1},r.addSegments=function(e){return this.add(this.i,e)},r.addManifests=function(e){return this.add(this.g,e)},r.updateManifest=function(e,t){return function(e,t,n){var r=(e=ab(e.h,e.g)).store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}(this,e,t)},r.gd=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(r=Tb.prototype).init=function(){var t=this,n=new $i,r=!1,i=new He((function(){r=!0,n.reject(new Le(2,9,9017))}));i.da(5);var a=e.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!r){var e=a.result;t.l=e;var o=e.objectStoreNames;o=o.contains("manifest")&&o.contains("segment")?new vb(e,"segment","manifest"):null,t.g=o,o=(o=e.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new wb(e,"segment-v2","manifest-v2"):null,t.h=o,o=(o=e.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new wb(e,"segment-v3","manifest-v3"):null,t.i=o,o=(o=e.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new xb(e,"segment-v5","manifest-v5"):null,t.j=o,e=e.objectStoreNames.contains("session-ids")?new db(e):null,t.m=e,i.stop(),n.resolve()}},a.onupgradeneeded=function(){for(var e=a.result,t=c(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(e){r||(n.reject(new Le(2,9,9001,a.error)),i.stop(),e.preventDefault())},n},r.destroy=function(){var e=this;return R((function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return S(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return S(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return S(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return S(t,e.j.destroy(),8);case 8:if(!e.m){t.s(10);break}return S(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),x(t)}}))},r.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},r.getEmeSessionCell=function(){return this.m},r.erase=function(){var t=this;return R((function(n){switch(n.g){case 1:if(!t.g){n.s(2);break}return S(n,t.g.destroy(),2);case 2:if(!t.h){n.s(4);break}return S(n,t.h.destroy(),4);case 4:if(!t.i){n.s(6);break}return S(n,t.i.destroy(),6);case 6:if(!t.j){n.s(8);break}return S(n,t.j.destroy(),8);case 8:return t.l&&t.l.close(),S(n,function(){var t=new $i,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new Le(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,S(n,t.init(),0)}}))},gb("idb",(function(){return(!Qe()||Qe()&&ot())&&!qe()&&e.indexedDB?new Tb:null})),kb.prototype.zb=function(){return this.i},kb.prototype.Qa=function(){return this.h},kb.prototype.key=function(){return this.l},kb.prototype.toString=function(){return this.j},(r=Mb.prototype).configure=function(){},r.start=function(e,t){var n,r,i,a,o,s,u=this;return R((function(l){switch(l.g){case 1:if(n=Ab(e),u.g=n,null==n||"manifest"!=n.g)throw new Le(2,1,9004,e);return r=new fb,k(l,2),S(l,r.init(),4);case 4:return S(l,hb(r,n.zb(),n.Qa()),5);case 5:return S(l,l.h.getManifests([n.key()]),6);case 6:return i=l.h,a=i[0],o=new Eb(n.zb(),n.Qa()),s=Ib(o,a),t.makeTextStreamsForClosedCaptions(s),l.return(s);case 2:return I(l),S(l,r.destroy(),7);case 7:C(l,0)}}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(e,t){var n,r,i,a,o,s,u,l=this;return R((function(c){switch(c.g){case 1:return n=l.g,r=new fb,T(c,2,3),S(c,r.init(),5);case 5:return S(c,hb(r,n.zb(),n.Qa()),6);case 6:return S(c,(i=c.h).getManifests([n.key()]),7);case 7:if(a=c.h,o=a[0],s=o.sessionIds.includes(e),u=void 0==o.expiration||o.expiration>t,!s||!u){c.s(3);break}return S(c,i.updateManifestExpiration(n.key(),t),3);case 3:return I(c),S(c,r.destroy(),10);case 10:C(c,0);break;case 2:E(c),c.s(3)}}))},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},Eo("application/x-offline-manifest",(function(){return new Mb})),V("shaka.offline.OfflineScheme",Db),Db.plugin=Pb,ca("offline",Pb),(r=Bb.prototype).destroy=function(){return this.j.destroy()},r.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Kl(e,t)),rc(this.h,e)},r.getConfiguration=function(){var e=tc();return rc(e,this.h,tc()),e},r.xb=function(){return this.g},r.store=function(e,t,n,r,i){var a=this,o=this.getConfiguration(),s=new Jy(this.g);return this.l.push(s),t=function(e,t,n,r,i,a,o,s){var u,l,d,f,p,h,g,m,v,y,b,w,k,M,D,P,L,N,_,j,O,U,F;return R((function(B){switch(B.g){case 1:return Zb(),l=u=null,d=new fb,h=p=f=null,T(B,2,3),S(B,a(),5);case 5:return u=B.h,S(B,function(e,t,n,r){var i,a,o,s,u;return R((function(l){if(1==l.g)return i=null,a=e.g,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),Jb(e),S(l,n.start(t,o),2);if(3!=l.g)return s=l.h,Jb(e),u=tw(s),S(l,Promise.all(xa(u,(function(e){return e.createSegmentIndex()}))),3);if(Jb(e),i)throw i;return l.return(s)}))}(e,t,u,o),6);case 6:if(g=B.h,Jb(e),!(!g.presentationTimeline.U()&&!g.presentationTimeline.wc()))throw new Le(2,9,9005,t);m=c(r),v=m.next();case 7:if(v.done){B.s(9);break}return y=v.value,S(B,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y;return R((function(b){switch(b.g){case 1:return S(b,$b(e,t),2);case 2:if("text/vtt"!=(r=b.h))throw new Le(1,2,2017,t);return S(b,function(e,t,n){var r,i,a;return R((function(o){return 1==o.g?(r=va,(i=fa([e],n)).method="GET",S(o,t.request(r,i).promise,2)):(a=o.h,o.return(a.data))}))}(t,e.g,e.h.streaming.retryParameters),3);case 3:if(i=b.h,!(a=Qr(r)))throw new Le(2,2,2014,r);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},u=Ce(i),l=o.parseMedia(u,s,t,[]),d=[],f=c(l),p=f.next(),h={};!p.done;h={Ne:void 0,Lc:void 0},p=f.next())h.Lc=p.value,h.Ne=null,g=function(e){return function(){return null==e.Ne&&(e.Ne=Rt([t],[e.Lc.payload])),e.Ne||[]}}(h),m=new gs(h.Lc.startTime,h.Lc.endTime,g,0,null,null,0,0,1/0),h.Lc.payload.includes("#xywh")&&(4===(v=h.Lc.payload.split("#xywh=")[1].split(",")).length&&m.Ee({height:parseInt(v[3],10),positionX:parseInt(v[0],10),positionY:parseInt(v[1],10),width:parseInt(v[2],10)})),d.push(m);if(y=r,!d.length){b.s(4);break}return S(b,Tc(d[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:y=b.h;case 4:return b.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ku(d),mimeType:y||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([jr(y||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}}))}(e,y,g),10);case 10:b=B.h,g.imageStreams.push(b),Jb(e),v=m.next(),B.s(7);break;case 9:w=c(i),k=w.next();case 11:return k.done?(oo(o.drm.clearKeys,g.variants),P=g.variants.some((function(e){if(e.audio)for(var t=c(e.audio.drmInfos),n=t.next();!n.done;n=t.next())if(n.value.licenseServerUri.startsWith("data:"))return!0;if(e.video)for(t=(e=c(e.video.drmInfos)).next();!t.done;t=e.next())if(t.value.licenseServerUri.startsWith("data:"))return!0;return!1})),L=o.offline.usePersistentLicense,P&&(L=!1),S(B,e.Jc(g,(function(e){h=h||e}),o,L),15)):(M=k.value,S(B,function(e,t,n,r,i,a,o){var s,u;return R((function(l){if(1==l.g)return a?l.s(2):S(l,$b(e,n),3);if(2!=l.g&&(a=l.h),s={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Wu(0,t.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:o||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:Ft,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([jr(a||"",o||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},u=jr(s.mimeType,s.codecs),!Jr(u))throw new Le(2,2,2014,a);return l.return(s)}))}(e,g,M.uri,M.language,M.kind,M.mime,M.codecs),14));case 14:D=B.h,g.textStreams.push(D),Jb(e),k=w.next(),B.s(11);break;case 15:if(l=B.h,Jb(e),h)throw h;return S(B,function(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,k,I,C,M,D,P,L,N,_,j,O,U,F;return R((function(R){switch(R.g){case 1:return i={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return yi(e,t,n)}))}(e,n.restrictions,i),S(R,wi(t,e,r,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(a=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,u=n.preferredAudioCodecs,l=n.preferredTextFormats,vi(e,s,u,o,l),d=c(e.variants),f=d.next();!f.done;f=d.next())p=f.value,a.push(Ii(p));for(h=c(e.textStreams),g=h.next();!g.done;g=h.next())m=g.value,a.push(Ci(m));for(v=c(e.imageStreams),y=v.next();!y.done;y=v.next())b=y.value,a.push(Mi(b));return S(R,n.offline.trackSelectionCallback(a),3);case 3:for(w=R.h,k=e.presentationTimeline.getDuration(),I=0,C=c(w),M=C.next();!M.done;M=C.next())D=M.value,P=D.bandwidth*k/8,I+=P;return T(R,4),S(R,n.offline.downloadSizeCallback(I),6);case 6:if(!R.h)throw new Le(2,9,9014);A(R,5);break;case 4:if((L=E(R))instanceof Le)throw L;throw new Le(2,9,9015);case 5:for(N=new Set,_=new Set,j=new Set,O=c(w),U=O.next();!U.done;U=O.next())"variant"==(F=U.value).type&&N.add(F.id),"text"==F.type&&_.add(F.id),"image"==F.type&&j.add(F.id);e.variants=e.variants.filter((function(e){return N.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return _.has(e.id)})),e.imageStreams=e.imageStreams.filter((function(e){return j.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=c(t),r=n.next();!r.done;r=n.next())for(var i=(r=c(t)).next();!i.done;i=r.next());for(t=c(e),n=t.next();!n.done;n=t.next())for(n=c(e),r=n.next();!r.done;r=n.next());}(e),x(R)}}))}(g,l,o,L),16);case 16:return S(B,d.init(),17);case 17:return Jb(e),S(B,pb(d),18);case 18:return f=B.h,Jb(e),N=function(e,t,n,r,i,a,o){var s=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=_b(t),appMetadata:n,isIncomplete:!1}}(n,t,r),u=i.offline.progressCallback;!function(e,t,n){e.o=t,e.m=n}(a,(function(e,t){s.size=t,u(s,e)}),(function(t,n){l&&o&&d==n&&qa(e,"cenc",t)}));var l=Gb(t)&&!Kb(t),d=null;l&&(d=nw.get(e.h.keySystem));for(var f=new jb,p=c(t.textStreams),h=p.next();!h.done;h=p.next())f.g.set(h.value.id,52);for(p=c(t.imageStreams),h=p.next();!h.done;h=p.next())Ub(f,h.value);for(p=c(t.variants),h=p.next();!h.done;h=p.next())Ob(f,h.value);return a=function(e,t,n,r){for(var i=new Map,a=tw(n),o=new Map,s=(a=c(a)).next();!s.done;s=a.next()){var u=Qb(e,t,n,s=s.value,r,i);o.set(s.id,u)}for(e=c(n.variants),t=e.next();!t.done;t=e.next())(t=t.value).audio&&o.get(t.audio.id).variantIds.push(t.id),t.video&&o.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(o.values()),tg:Array.from(i.values())}}(a,f,t,i),i=a.streams,a=a.tg,(f=e.h)&&o&&(f.initData=[]),{Yi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.nd(),streams:i,sessionIds:o?Wa(e):[],drmInfo:f,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},tg:a}}(l,g,t,n,o,s,L),_=N.Yi,j=N.tg,S(B,f.Qa.addManifests([_]),19);case 19:if(O=B.h,Jb(e),p=O[0],Jb(e),h)throw h;return S(B,function(e,t,n,r,i,a,o,s,u,l){var d,f,p,h,g,m,v,y,b,w,k;return R((function(I){switch(I.g){case 1:if(d={},f=0,p=function(){if(e.j.g||i.l)throw new Le(2,9,7001)},h=function(e,t){var h,g,m,v,y,b,w,T,k;return R((function(A){if(1==A.g){for(h=c(e),g=h.next(),m={};!g.done;m={Lb:void 0},g=h.next())m.Lb=g.value,p(),v=Xy(m.Lb,a),y=m.Lb.i,b=m.Lb.h,w=function(e){return function(t){var n,r,i,a;return R((function(s){switch(s.g){case 1:if(n=e.Lb.g,r=n.Gb(!1),!n.aesKey||r){s.s(2);break}return S(s,bl(t,n.aesKey,e.Lb.j),3);case 3:t=s.h;case 2:return i=Wy(n),S(s,o.addSegments([{data:t}]),4);case 4:a=s.h,p(),d[i]=a[0],f+=t.byteLength,x(s)}}))}}(m),T=m.Lb.g,(k=T.Gb(!1))?tb(i,m.Lb.groupId,k,y,b,w):eb(i,m.Lb.groupId,v,y,b,w);return S(A,function(e){return R((function(t){return 1==t.g?S(t,Promise.all(e.i.values()),2):t.return(e.g.g)}))}(i),2)}return p(),!t||i.l?A.s(0):(qb(s,r,u,l),S(A,o.updateManifest(n,r),0))}))},g=!1,T(I,2),!Gb(s)||!g||Kb(s)){I.s(4);break}return S(I,h(t.filter((function(e){return e.h})),!0),5);case 5:return p(),t=t.filter((function(e){return!e.h})),m=d,v=f,d={},f=0,S(I,zb(o,n,r,m,v,(function(){return Jb(e)})),6);case 6:p();case 4:if(g){I.s(7);break}return S(I,h(t,!1),8);case 8:return p(),y=d,b=f,d={},f=0,S(I,zb(o,n,r,y,b,(function(){return p()})),9);case 9:p();case 7:A(I,0);break;case 2:return w=E(I),k=Object.values(d),S(I,o.removeSegments(k,(function(){})),10);case 10:throw w}}))}(e,j,p,_,s,o,f.Qa,g,l,L),20);case 20:return Jb(e),qb(g,_,l,L),S(B,f.Qa.updateManifest(p,_),21);case 21:return Jb(e),U=new kb("manifest",f.path.zb,f.path.Qa,p),B.return(Nb(U,_));case 3:return I(B),S(B,d.destroy(),22);case 22:if(!u){B.s(23);break}return S(B,u.stop(),23);case 23:if(!l){B.s(25);break}return S(B,l.destroy(),25);case 25:C(B,0);break;case 2:if(F=E(B),null==p){B.s(27);break}return S(B,Hb(p),27);case 27:throw h||F}}))}(this,e,t||{},r||[],i||[],(function(){var t;return R((function(r){return 1==r.g?n?r.s(2):S(r,Tc(e,a.g,o.manifest.retryParameters),3):(2!=r.g&&(n=r.h),t=Io(e,n||null),r.return(t()))}))}),o,s),(t=new Qi(t,(function(){return Zy(s)}))).finally((function(){cn(a.l,s)})),function(e,t){var n=t.promise;return e.i.push(n),t.finally((function(){cn(e.i,n)}))}(this,t)},r.remove=function(e){return ew(this,function(e,t){var n,r,i,a,o,s;return R((function(u){switch(u.g){case 1:if(Zb(),null==(n=Ab(t))||"manifest"!=n.g)throw new Le(2,9,9004,t);return r=n,i=new fb,k(u,2),S(u,i.init(),4);case 4:return S(u,hb(i,r.zb(),r.Qa()),5);case 5:return S(u,(a=u.h).getManifests([r.key()]),6);case 6:return o=u.h,s=o[0],S(u,Promise.all([Xb(e,s,i),Yb(a,r,s)]),2);case 2:return I(u),S(u,i.destroy(),8);case 8:C(u,0)}}))}(this,e))},r.qj=function(){return ew(this,function(e){var t,n,r,i,a,o,s,u,l,d;return R((function(f){switch(f.g){case 1:return Zb(),t=e.g,n=e.h.drm,r=new fb,i=!1,k(f,2),S(f,r.init(),4);case 4:a=[],function(e,t){e.g.forEach((function(e){t(e.getEmeSessionCell())}))}(r,(function(e){return a.push(e)})),o=c(a),s=o.next();case 5:if(s.done){f.s(2);break}return S(f,(u=s.value).getAll(),8);case 8:return l=f.h,S(f,Lb(n,t,l),9);case 9:return d=f.h,S(f,u.remove(d),10);case 10:d.length!=l.length&&(i=!0),s=o.next(),f.s(5);break;case 2:return I(f),S(f,r.destroy(),11);case 11:C(f,3);break;case 3:return f.return(!i)}}))}(this))},r.list=function(){return ew(this,function(){var e,t,n;return R((function(r){switch(r.g){case 1:return Zb(),e=[],t=new fb,k(r,2),S(r,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){t({zb:n,Qa:r},e)}))}))}(t,(function(t,r){n=n.then((function(){return R((function(n){if(1==n.g)return S(n,r.getAllManifests(),2);n.h.forEach((function(n,r){n=Nb(new kb("manifest",t.zb,t.Qa,r),n),e.push(n)})),x(n)}))}))})),S(r,n,2);case 2:return I(r),S(r,t.destroy(),6);case 6:C(r,3);break;case 3:return r.return(e)}}))}())},r.Jc=function(e,t,n,r){var i,a=this;return R((function(o){return 1==o.g?((i=new Va({Vb:a.g,onError:t,re:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),S(o,function(e,t,n){return e.ka=!0,e.B=new Map,e.O=n,za(e,t,!1)}(i,e.variants,r),2)):3!=o.g?S(o,Ka(i),3):o.return(i)}))},V("shaka.offline.Storage",Bb),Bb.deleteAll=function(){var e;return R((function(t){return 1==t.g?(e=new fb,k(t,2),S(t,function(e){var t,n;return R((function(r){return 1==r.g?(t=Array.from(e.g.values()),(n=0<t.length)||mb.forEach((function(e){(e=e())&&t.push(e)})),S(r,Promise.all(t.map((function(e){return e.erase()}))),2)):n?r.s(0):S(r,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.g?(I(t),S(t,e.destroy(),5)):C(t,0)}))},Bb.prototype.list=Bb.prototype.list,Bb.prototype.removeEmeSessions=Bb.prototype.qj,Bb.prototype.remove=Bb.prototype.remove,Bb.prototype.store=Bb.prototype.store,Bb.prototype.getNetworkingEngine=Bb.prototype.xb,Bb.prototype.getConfiguration=Bb.prototype.getConfiguration,Bb.prototype.configure=Bb.prototype.configure,Bb.prototype.destroy=Bb.prototype.destroy,Bb.support=Vb;var nw=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");function rw(){}function iw(e,t){for(e={priority:t||0,callback:e},t=0;t<aw.length;t++)if(aw[t].priority<e.priority)return void aw.splice(t,0,e);aw.push(e)}md("offline",Vb),V("shaka.polyfill",rw),rw.register=iw,rw.installAll=function(){for(var e=c(aw),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){Y("Error installing polyfill!",n)}}};var aw=[];function ow(){}function sw(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=c(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())uw(t.value)}function uw(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||void 0==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function lw(){}function cw(){tt()||lt("Sky_STB")||mT()}function dw(){}function fw(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",pw),document.addEventListener("webkitfullscreenerror",pw),document.addEventListener("mozfullscreenchange",pw),document.addEventListener("mozfullscreenerror",pw),document.addEventListener("MSFullscreenChange",pw),document.addEventListener("MSFullscreenError",pw)}}function pw(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function hw(){}function gw(){var e=!0;(Qe()&&!ot()&&!st()||Ze()||et()||tt()||Ye()||We()||nt()||rt()||ct()&&!Ze())&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),vw=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=mw)}function mw(t){var n,r,i,a,o,s,u;return R((function(l){switch(l.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},r=t.video,i=t.audio,"media-source"!=t.type){if("file"!=t.type)return l.return(n);if(r&&(a=r.contentType,!Ge(a))||i&&(o=i.contentType,!Ge(o)))return l.return(n);l.s(2);break}if(!ze())return l.return(n);if(!r){l.s(3);break}return S(l,function(t){var n;return R((function(r){return 1==r.g?Qe()?S(r,function(t){var n,r,i,a;return R((function(o){if(1==o.g){if(!(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return o.return(Wt(t.contentType));switch(n=t.contentType,t.width&&t.height&&1280<t.width&&720<t.height&&(n+="; width="+t.width+"; height="+t.height),t.framerate&&(24>(r=Math.round(t.framerate))||30<r)&&(n+="; framerate="+t.framerate),t.transferFunction||""){case"":case"srgb":break;case"pq":n+="; eotf=smpte2084";break;case"hlg":n+="; eotf=arib-std-b67";break;default:return o.return(!1)}return i=!1,(a=kw).has(n)?(i=a.get(n),o.s(2)):S(o,cast.__platform__.canDisplayType(n),3)}return 2!=o.g&&(i=o.h,a.set(n,i)),o.return(i)}))}(t),3):r.s(2):2!=r.g?(n=r.h,r.return(n)):r.return(Wt(t.contentType))}))}(r),4);case 4:if(!l.h)return l.return(n);case 3:if(i){var c=i.contentType;if(Qe()&&i.spatialRendering&&(c+="; spatialRendering=true"),!Wt(c))return l.return(n)}case 2:return t.keySystemConfiguration?(s=t.keySystemConfiguration,S(l,function(e,t,n){var r,i,a,o,s,u,l,c,d,f,p;return R((function(h){switch(h.g){case 1:if(r=[],i=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:t.contentType},We()&&t.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),r.push(a)),n.video&&(o={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(o.encryptionScheme=n.video.encryptionScheme),i.push(o)),s={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(s.audioCapabilities=r),i.length&&(s.videoCapabilities=i),u=e?e.contentType:"",l=t?t.contentType:"",c=zr(u)+";"+Hr(u),d=zr(l)+";"+Hr(l),f=n.keySystem,p=null,T(h,2),Be.has(c+"#"+d+"#"+f)){p=Be.get(c+"#"+d+"#"+f)||null,h.s(4);break}return S(h,navigator.requestMediaKeySystemAccess(n.keySystem,[s]),5);case 5:p=h.h,Be.set(c+"#"+d+"#"+f,p);case 4:A(h,3);break;case 2:E(h);case 3:return h.return(p)}}))}(r,i,s),6)):(n.supported=!0,l.return(n));case 6:(u=l.h)&&(n.supported=!0,n.keySystemAccess=u);case 5:return l.return(n)}}))}rw.Aria=ow,ow.install=sw,iw(sw),rw.EncryptionScheme=lw,lw.install=cw,iw(cw,-2),rw.Fullscreen=dw,dw.install=fw,iw(fw),rw.MediaCapabilities=hw,hw.install=gw;var vw=null;hw.originalMcap=vw;var yw,bw,ww,Sw,xw,Tw,kw=new Map;function Aw(){}function Ew(){var t=it();(e.MediaSource||e.ManagedMediaSource)&&(t&&e.MediaSource?12>=t?(Iw(),Cw()):15>=t&&Iw():lt("DT_STB_BCM")?(Iw(),Cw()):(lt("Tizen 2")||Xe()||lt("Tizen 4"))&&function(){var t=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(e){return"opus"!=Hr(e)&&t(e)},e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"opus"!=Hr(e)&&n(e)}}}()),(e.MediaSource||e.ManagedMediaSource)&&function(){if(e.MediaSource){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(e){return"mp2t"!=Br(e)&&t(e)}}if(e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"mp2t"!=Br(e)&&n(e)}}}(),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Ye()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}()}function Iw(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,N.apply(0,arguments));return t.abort=function(){},t}}function Cw(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Mw(){}function Dw(){screen.orientation&&screen.orientation.unlock||(void 0!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):void 0!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Pw;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new ra("change");n.dispatchEvent(e)}))}())}function Pw(){oa.call(this),this.type="",this.angle=0}function Lw(){}function Rw(t){e.HTMLVideoElement&&e.WebKitMediaKeys&&e.shakaMediaKeysPolyfill!=zw&&(void 0!==t&&t&&(yw=!0,bw=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),ww=HTMLMediaElement.prototype.setMediaKeys,Sw=e.MediaKeys,xw=e.MediaKeySystemAccess,Tw=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=_w,e.MediaKeys=Uw,e.MediaKeySystemAccess=Ow,navigator.requestMediaKeySystemAccess=Nw,e.shakaMediaKeysPolyfill=zw,Bi.clear(),Be.clear())}function Nw(e,t){try{var n=new Ow(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function _w(e){var t=this.mediaKeys;return t&&t!=e&&Fw(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Fw(e,this):Promise.resolve()}function jw(e){if(De(e=Ce(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=St(e=bt(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=Ie(e),this.dispatchEvent(t)}function Ow(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(t=(e=c(t)).next();!t.done;t=e.next()){var n=t.value;if("required"==n.persistentState)t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=c(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.audioCapabilities.push(o),i=!0));if(n.videoCapabilities)for(a=(n=c(n.videoCapabilities)).next();!a.done;a=n.next())(a=a.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t)return void(this.g=t)}throw(e=Error("Unsupported keySystem")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Uw(e){this.h=new WebKitMediaKeys(e),this.g=new ee}function Fw(e,t){if(e.g.Pa(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",jw);try{return Pu(t,HTMLMediaElement.HAVE_METADATA,e.g,(function(){t.webkitSetMediaKeys(e.h)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function Bw(e){oa.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new ee,this.sessionId="",this.expiration=NaN,this.closed=new $i,this.keyStatuses=new Hw}function Vw(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.g=t,t=new ra("keystatuseschange"),e.dispatchEvent(t)}function Hw(){this.size=0,this.g=void 0}iw(gw,-1),rw.MediaSource=Aw,Aw.install=Ew,iw(Ew),rw.Orientation=Mw,Mw.install=Dw,v(Pw,oa),Pw.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Pw.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},iw(Dw),rw.PatchedMediaKeysApple=Lw,Lw.uninstall=function(){e.shakaMediaKeysPolyfill==zw&&yw&&(yw=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",bw),HTMLMediaElement.prototype.setMediaKeys=ww,e.MediaKeys=Sw,e.MediaKeySystemAccess=xw,navigator.requestMediaKeySystemAccess=Tw,bw=Tw=ww=xw=Sw=null,e.shakaMediaKeysPolyfill="",Bi.clear(),Be.clear())},Lw.install=Rw,Ow.prototype.createMediaKeys=function(){var e=new Uw(this.keySystem);return Promise.resolve(e)},Ow.prototype.getConfiguration=function(){return this.g},Uw.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Bw(this.h,e)},Uw.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Uw.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v(Bw,oa),(r=Bw.prototype).generateRequest=function(e,t){var n=this;this.h=new $i;try{var r=this.l.createSession("video/mp4",Ce(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",(function(e){n.h&&(n.h.resolve(),n.h=null),e=new ra("message",e=(new Map).set("messageType",void 0==n.keyStatuses.dc()?"license-request":"license-renewal").set("message",Ie(e.message))),n.dispatchEvent(e)})),this.j.D(r,"webkitkeyadded",(function(){n.g&&(Vw(n,"usable"),n.g.resolve(),n.g=null)})),this.j.D(r,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.i.error,null!=n.h)n.h.reject(e),n.h=null;else if(null!=n.g)n.g.reject(e),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Vw(n,"output-not-allowed");break;default:Vw(n,"internal-error")}})),Vw(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(e){this.g=new $i;try{this.i.update(Ce(e))}catch(t){this.g.reject(t)}return this.g},r.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Pa()}catch(TT){this.closed.reject(TT)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Hw.prototype).dc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Fe.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Fe.value();return!(!this.g||!Ee(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var zw="apple";function Gw(){}function Kw(){e.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||Xe()||lt("Tizen 4")||lt("Tizen 5.0")||$e())&&(MediaKeys.prototype.setServerCertificate=qw)}function qw(){return Promise.resolve(!1)}function Ww(){}function Xw(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)sS="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=$w,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Qw,e.MediaKeys=Zw,e.MediaKeySystemAccess=Jw,e.shakaMediaKeysPolyfill=uS}}function Yw(e){return sS?sS+e.charAt(0).toUpperCase()+e.slice(1):e}function $w(e,t){try{var n=new Jw(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Qw(e){var t=this.mediaKeys;return t&&t!=e&&eS(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&eS(e,this),Promise.resolve()}function Jw(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=(t=c(t)).next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=c(a.audioCapabilities),l=u.next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(l),r=!0));if(a.videoCapabilities)for(l=(u=c(a.videoCapabilities)).next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType,this.g)&&(o.videoCapabilities.push(l),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Zw(e){this.l=e,this.h=null,this.g=new ee,this.i=[],this.j=new Map}function eS(e,t){e.h=t,e.g.Pa();var n=sS;t&&(e.g.D(t,n+"needkey",(function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=Ie(t.initData),e.h.dispatchEvent(n)})),e.g.D(t,n+"keymessage",(function(t){var n=tS(e,t.sessionId);n&&(t=new ra("message",t=(new Map).set("messageType",void 0==n.keyStatuses.dc()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))})),e.g.D(t,n+"keyadded",(function(t){(t=tS(e,t.sessionId))&&t.ready()})),e.g.D(t,n+"keyerror",(function(t){var n=tS(e,t.sessionId);if(n){var r=Error("EME v0.1b key error"),i=t.errorCode;i.systemCode=t.systemCode,r.errorCode=i,!t.sessionId&&n.h?(45==t.systemCode&&(r.message="Unsupported session type."),n.h.reject(r),n.h=null):t.sessionId&&n.g?(n.g.reject(r),n.g=null):(r=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?aS(n,"output-restricted"):aS(n,1==r?"expired":"internal-error"))}})))}function tS(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function nS(e,t,n){oa.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new $i,this.keyStatuses=new oS}function rS(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=Ce(St("LOAD_SESSION|"+n));else{var i=St("PERSISTENT|");r=Lt(i,t)}else r=Ce(t)}catch(o){return Promise.reject(o)}e.h=new $i;var a=Yw("generateKeyRequest");try{e.j[a](e.i,r)}catch(o){if("InvalidStateError"!=o.name)return e.h=null,Promise.reject(o);new He((function(){try{e.j[a](e.i,r)}catch(t){e.h.reject(t),e.h=null}})).da(.01)}return e.h}function iS(e,t,n){if(e.g)e.g.then((function(){return iS(e,t,n)})).catch((function(){return iS(e,t,n)}));else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var r=yt(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=Mt(i.keys[0].k),i=Mt(i.keys[0].kid)}else r=Ce(n),i=null;var a=Yw("addKey");try{e.j[a](e.i,r,i,e.sessionId)}catch(o){e.g.reject(o),e.g=null}}}function aS(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.g=t,t=new ra("keystatuseschange"),e.dispatchEvent(t)}function oS(){this.size=0,this.g=void 0}iw((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||Rw())})),rw.PatchedMediaKeysCert=Gw,Gw.install=Kw,iw(Kw),rw.PatchedMediaKeysWebkit=Ww,Ww.install=Xw,Jw.prototype.createMediaKeys=function(){var e=new Zw(this.g);return Promise.resolve(e)},Jw.prototype.getConfiguration=function(){return this.h},Zw.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new nS(t,this.l,e),this.i.push(e),e},Zw.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Zw.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v(nS,oa),(r=nS.prototype).ready=function(){aS(this,"usable"),this.g&&this.g.resolve(),this.g=null},r.generateRequest=function(e,t){return rS(this,t,null)},r.load=function(e){return"persistent-license"==this.l?rS(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new $i;return iS(this,t,e),t},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Yw("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=oS.prototype).dc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Fe.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Fe.value();return!(!this.g||!Ee(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var sS="",uS="webkit";function lS(){}function cS(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=fS,Object.defineProperty(t,"disablePictureInPicture",{get:hS,set:gS,enumerable:!0,configurable:!0}),document.exitPictureInPicture=pS,document.addEventListener("webkitpresentationmodechanged",dS,!0))}}function dS(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function fS(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function pS(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function hS(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function gS(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function mS(){}function vS(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=yS))}function yS(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function bS(){}function wS(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:SS})}function SS(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function xS(){}function TS(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}function kS(){}function AS(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||$e())&&(t.getVideoPlaybackQuality=ES)}}function ES(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function IS(){}function CS(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=MS;else if(6==n)t=DS;else{try{var r=!!MS(1,2,"")}catch(i){r=!1}r&&(t=MS)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function MS(t,n,r){return new e.TextTrackCue(t,n,r)}function DS(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function PS(){}iw(Xw),rw.PiPWebkit=lS,lS.install=cS,iw(cS),rw.RandomUUID=mS,mS.install=vS,iw(vS),rw.Symbol=bS,bS.install=wS,iw(wS),rw.VideoPlayPromise=xS,xS.install=TS,iw(TS),rw.VideoPlaybackQuality=kS,kS.install=AS,iw(AS),rw.VTTCue=IS,IS.install=CS,iw(CS),PS.prototype.parseInit=function(){},PS.prototype.setSequenceMode=function(){},PS.prototype.setManifestType=function(){},PS.prototype.parseMedia=function(e,t){for(var n=null,r=[],i=(e=c(e=yt(e).split(/\r?\n/))).next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=LS.exec(i))){var a=RS.exec(i[1]);i=new tr(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),t.segmentEnd?t.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},V("shaka.text.LrcTextParser",PS),PS.prototype.parseMedia=PS.prototype.parseMedia,PS.prototype.setManifestType=PS.prototype.setManifestType,PS.prototype.setSequenceMode=PS.prototype.setSequenceMode,PS.prototype.parseInit=PS.prototype.parseInit;var LS=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,RS=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function NS(){}function _S(e,t,n,r,i,a,o,s,u,l,d,f,p){var h=l;if(En(e)){if(!d)return null;var g={tagName:"span",children:[Mn(e)],attributes:{},parent:null}}else g=e;for(var m=null,v=c(lx),y=v.next();!y.done&&!(m=zS(g,"backgroundImage",r,"#",y.value)[0]);y=v.next());v=null;var b=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if((y=On(g,lx,"backgroundImage"))&&b.test(y)){if((v=parseInt(y.split(":").pop(),10)-1)>=p.length)return null;v=p[v]}else f&&y&&!y.startsWith("#")&&(b=new le(f),y=new le(y),(y=b.resolve(y).toString())&&(v=y));if(("p"==e.tagName||m||v)&&(d=!0),e=d,y="default"==(g.attributes["xml:space"]||(s?"default":"preserve")),s=[],!(b=g.children.every(En)))for(var w=c(g.children),S=w.next();!S.done;S=w.next())(S=_S(S.value,t,n,r,i,a,o,y,u,g,d,f,p))&&s.push(S);if(r=null!=l,f=Mn(g),f=g.children.length&&f&&/\S/.test(f),!((w=g.attributes.begin||g.attributes.end||g.attributes.dur)||f||"br"==g.tagName||0!=s.length||r&&!y))return null;for(f=(p=KS(g,n)).start,p=p.end;h&&h.tagName&&"tt"!=h.tagName;)f=(p=GS(h,n,f,p)).start,p=p.end,h=h.parent;if(null==f&&(f=0),f+=t.periodStart,p=null==p?1/0:p+t.periodStart,f=Math.max(f,t.segmentStart),p=Math.min(p,t.segmentEnd),!w&&0<s.length)for(f=1/0,p=0,n=(t=c(s)).next();!n.done;n=t.next())n=n.value,f=Math.min(f,n.startTime),p=Math.max(p,n.endTime);if("br"==g.tagName)return(i=new tr(f,p,"")).lineBreak=!0,i;if(t="",b&&(t=kt(Mn(g)||""),y&&(t=t.replace(/\s+/g," "))),(t=new tr(f,p,t)).nestedCues=s,d||(t.isContainer=!0),u&&(t.cellResolution=u),u=zS(g,"region",a,"")[0],g.attributes.region&&u&&u.attributes["xml:id"]){var x=u.attributes["xml:id"];t.region=o.filter((function(e){return e.id==x}))[0]}return o=u,l&&r&&!g.attributes.region&&!g.attributes.style&&(o=zS(l,"region",a,"")[0]),function(e,t,n,r,i,a,o,s){o=o||s,"rtl"==FS(t,n,a,"direction",o)&&(e.direction="rtl"),s=FS(t,n,a,"writingMode",o),"tb"==s||"tblr"==s?e.writingMode="vertical-lr":"tbrl"==s?e.writingMode="vertical-rl":"rltb"==s||"rl"==s?e.direction="rtl":s&&(e.direction=pr),(s=FS(t,n,a,"textAlign",!0))?(e.positionAlign=ox.get(s),e.lineAlign=ax.get(s),e.textAlign=cr[s.toUpperCase()]):e.textAlign=lr,(s=FS(t,n,a,"displayAlign",!0))&&(e.displayAlign=fr[s.toUpperCase()]);(s=FS(t,n,a,"color",o))&&(e.color=OS(s));(s=FS(t,n,a,"backgroundColor",o))&&(e.backgroundColor=OS(s));(s=FS(t,n,a,"border",o))&&(e.border=s);if(s=FS(t,n,a,"fontFamily",o))switch(s){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=s.split(",").filter((function(e){return"default"!=e})).join(",")}(s=FS(t,n,a,"fontWeight",o))&&"bold"==s&&(e.fontWeight=Sr),s=FS(t,n,a,"wrapOption",o),e.wrapLine=!s||"noWrap"!=s,(s=FS(t,n,a,"lineHeight",o))&&s.match(QS)&&(e.lineHeight=s),(s=FS(t,n,a,"fontSize",o))&&(s.match(QS)||s.match($S))&&(e.fontSize=s),(s=FS(t,n,a,"fontStyle",o))&&(e.fontStyle=kr[s.toUpperCase()]);r?(i=r.attributes.imageType||r.attributes.imagetype,s=r.attributes.encoding,r=Mn(r).trim(),"PNG"==i&&"Base64"==s&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=FS(t,n,a,"textOutline",o))&&(r=r.split(" "),r[0].match(QS)?e.textStrokeColor=e.color:(e.textStrokeColor=OS(r[0]),r.shift()),r[0]&&r[0].match(QS)?e.textStrokeWidth=r[0]:e.textStrokeColor="");(r=FS(t,n,a,"letterSpacing",o))&&r.match(QS)&&(e.letterSpacing=r),(r=FS(t,n,a,"linePadding",o))&&r.match(QS)&&(e.linePadding=r),(r=FS(t,n,a,"opacity",o))&&(e.opacity=parseFloat(r));(r=BS(n,a,"textDecoration"))&&US(e,r),(r=VS(t,a,"textDecoration"))&&US(e,r),(r=FS(t,n,a,"textCombine",o))&&(e.textCombineUpright=r);switch(FS(t,n,a,"ruby",o)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}(t,g,o,m,v,i,e,0==s.length),t}function jS(e,t,n){var r=new on,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=YS.exec(n)||JS.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var a,o=BS(e,t,"extent");if(o){var s=(a=YS.exec(o))||JS.exec(o);null!=s&&(r.width=Number(s[1]),r.height=Number(s[2]),a||(null!=n&&(r.width=100*r.width/n),null!=i&&(r.height=100*r.height/i)),r.widthUnits=a||null!=n?sn:0,r.heightUnits=a||null!=i?sn:0)}return(e=BS(e,t,"origin"))&&(null!=(s=(a=YS.exec(e))||JS.exec(e))&&(r.viewportAnchorX=Number(s[1]),r.viewportAnchorY=Number(s[2]),a?o||(r.width=100-r.viewportAnchorX,r.widthUnits=sn,r.height=100-r.viewportAnchorY,r.heightUnits=sn):(null!=i&&(r.viewportAnchorY=100*r.viewportAnchorY/i),null!=n&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=a||null!=n?sn:0)),r}function OS(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&4==(t=t[1].split(",")).length?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function US(e,t){for(var n=(t=c(t.split(" "))).next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(Ar)||e.textDecoration.push(Ar);break;case"noUnderline":e.textDecoration.includes(Ar)&&cn(e.textDecoration,Ar);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&cn(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&cn(e.textDecoration,"overline")}}function FS(e,t,n,r,i){return i=void 0===i||i,(e=VS(e,n,r))?e:i?BS(t,n,r):null}function BS(e,t,n){if(!e)return null;var r=On(e,ux,n);return r||HS(e,t,n)}function VS(e,t,n){var r=On(e,ux,n);return r||HS(e,t,n)}function HS(e,t,n){e=zS(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=_n(e[i],"urn:ebu:tt:style",n);a||(a=On(e[i],ux,n)),a||(a=VS(e[i],t,n)),a&&(r=a)}return r}function zS(e,t,n,r,i){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;!e&&!(e=i?_n(o,i,t):o.attributes[t])&&(o=o.parent););if(t=e)for(i=(t=c(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=c(n)).next();!o.done;o=e.next())if(r+(o=o.value).attributes["xml:id"]==i){a.push(o);break}return a}function GS(e,t,n,r){return e=KS(e,t),null==n?n=e.start:null!=e.start&&(n+=e.start),null==r?r=e.end:null!=e.start&&(r+=e.start),{start:n,end:r}}function KS(e,t){var n=qS(e.attributes.begin,t),r=qS(e.attributes.end,t);return e=qS(e.attributes.dur,t),null==r&&null!=e&&(r=n+e),{start:n,end:r}}function qS(e,t){var n=null;if(ZS.test(e)){e=ZS.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);n=(i+=(a+=(Number(e[5])||0)/t.h)/t.frameRate)+60*r+3600*n}else if(ex.test(e))n=WS(ex,e);else if(tx.test(e))n=WS(tx,e);else if(nx.test(e))e=nx.exec(e),n=Number(e[1])/t.frameRate;else if(rx.test(e))e=rx.exec(e),n=Number(e[1])/t.g;else if(ix.test(e))n=WS(ix,e);else if(e)throw new Le(2,2,2001,"Could not parse cue time range in TTML");return n}function WS(e,t){return null==(e=e.exec(t))||""==e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function XS(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),0==this.g&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}$r("application/x-subtitle-lrc",(function(){return new PS})),NS.prototype.parseInit=function(){},NS.prototype.setSequenceMode=function(){},NS.prototype.setManifestType=function(){},NS.prototype.parseMedia=function(e,t,n,r){var i=yt(e);if(e=[],""==i)return e;var a=kn(i,"tt",!0);if(!a)throw new Le(2,2,2005,"Failed to parse TTML.");if(!(i=Pn(a,"body")[0]))return[];var o=On(a,sx,"frameRate"),s=On(a,sx,"subFrameRate"),u=On(a,sx,"frameRateMultiplier"),l=On(a,sx,"tickRate"),d=On(a,sx,"cellResolution"),f=a.attributes["xml:space"]||"default",p=On(a,ux,"extent");if("default"!=f&&"preserve"!=f)throw new Le(2,2,2005,"Invalid xml:space value: "+f);f="default"==f,o=new XS(o,s,u,l),d=function(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}(d),s=((s=Pn(a,"metadata")[0])?s.children:[]).filter((function(e){return"\n"!=e})),u=Pn(a,"style"),l=[];for(var h=c(a=Pn(a,"region")),g=h.next();!g.done;g=h.next())(g=jS(g.value,u,p))&&l.push(g);if(Cn(i,"p").length)throw new Le(2,2,2001,"<p> can only be inside <div> in TTML");for(h=(p=c(Cn(i,"div"))).next();!h.done;h=p.next())if(Cn(h.value,"span").length)throw new Le(2,2,2001,"<span> can only be inside <p> in TTML");return(t=_S(i,t,o,s,u,a,l,f,d,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e},V("shaka.text.TtmlTextParser",NS),NS.prototype.parseMedia=NS.prototype.parseMedia,NS.prototype.setManifestType=NS.prototype.setManifestType,NS.prototype.setSequenceMode=NS.prototype.setSequenceMode,NS.prototype.parseInit=NS.prototype.parseInit;var YS=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,$S=/^(\d{1,4}(?:\.\d+)?|100)%$/,QS=/^(\d+px|\d+em|\d*\.?\d+c)$/,JS=/^(\d+)px (\d+)px$/,ZS=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ex=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,tx=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,nx=/^(\d*(?:\.\d*)?)f$/,rx=/^(\d*(?:\.\d*)?)t$/,ix=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),ax=(new Map).set("left",mr).set("center","center").set("right","end").set("start",mr).set("end","end"),ox=(new Map).set("left","line-left").set("center","center").set("right","line-right"),sx=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],ux=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],lx=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function cx(){this.g=new NS}function dx(){this.g="UNKNOWN"}function fx(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?lr:cr[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center"==t||"middle"==t?"center":ur)):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){return e=e.filter((function(e){return e.id==t})),e.length?e[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=vr[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=gr,e.line=Number(n[1]),n[2]&&(e.lineAlign=vr[n[2].toUpperCase()]))}function px(){this.g=null}function hx(e,t,n){var r,i,a;return(new Ca).box("payl",Ra((function(e){r=yt(e)}))).box("iden",Ra((function(e){i=yt(e)}))).box("sttg",Ra((function(e){a=yt(e)}))).parse(e),r?function(e,t,n,r,i){if(e=new tr(r,i,e),ir(e),t&&(e.id=t),n)for(t=new pn(n),n=mn(t);n;)fx(e,n,[]),hn(t),n=mn(t);return e}(r,i,a,t,n):null}function gx(){}function mx(){this.g=new dx}function vx(e){var t="WEBVTT\n\n";if(""==e)return t;for(var n=(e=c((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}function yx(){}function bx(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=wx(n))&&(e.color=n),(n=t.BackColour)&&(n=wx(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=Sr),t.Italic&&(e.fontStyle=Tr),t.Underline&&e.textDecoration.push(Ar),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=dr,e.textAlign="start";break;case 2:e.displayAlign=dr,e.textAlign=lr;break;case 3:e.displayAlign=dr,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=lr;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=lr;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function wx(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function Sx(e){return 3600*((e=Ax.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}$r("application/ttml+xml",(function(){return new NS})),cx.prototype.parseInit=function(e){var t=!1;if((new Ca).box("moov",Ma).box("trak",Ma).box("mdia",Ma).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new Le(2,2,2007)},cx.prototype.setSequenceMode=function(){},cx.prototype.setManifestType=function(){},cx.prototype.parseMedia=function(e,t,n){var r=[],i=null,a=[],o=new Map,s=[];if((new Ca).box("moof",Ma).box("traf",Ma).R("tfhd",(function(e){i=Mo(e.reader,e.flags).kd})).R("trun",(function(e){for(var t=(e=c((e=Lo(e.reader,e.version,e.flags)).fg)).next();!t.done;t=e.next())s.push(t.value.sampleSize||i||0)})).R("subs",(function(e){for(var t=e.reader,n=t.S(),r=-1,i=0;i<n;i++){var a=t.S();r+=a,a=t.ma();for(var s=[],u=0;u<a;u++)1==e.version?s.push(t.S()):s.push(t.ma()),t.X(),t.X(),t.S();o.set(r,s)}})).box("mdat",Ra((function(e){a.push(e)}))).parse(e,!1),0==a.length)throw new Le(2,2,2007);for(var u=Lt.apply(Et,d(a)),l=0,f=0;f<s.length;f++){var p=Ce(u,l,s[f]);l+=s[f];var h=o.get(f);if(h&&h.length){p=Ce(p,0,h[0]);for(var g=[],m=h[0],v=1;v<h.length;v++){var y=Ce(e,m,h[v]);y=It(y),g.push("data:image/png;base64,"+y),m+=h[v]}r=r.concat(this.g.parseMedia(p,t,n,g))}else r=r.concat(this.g.parseMedia(p,t,n,[]))}return r},V("shaka.text.Mp4TtmlParser",cx),cx.prototype.parseMedia=cx.prototype.parseMedia,cx.prototype.setManifestType=cx.prototype.setManifestType,cx.prototype.setSequenceMode=cx.prototype.setSequenceMode,cx.prototype.parseInit=cx.prototype.parseInit,$r('application/mp4; codecs="stpp"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.im1i"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.im1t"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.im2i"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.im2t"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.etd1"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.etd1|im1t"',(function(){return new cx})),$r('application/mp4; codecs="stpp.ttml.im1t|etd1"',(function(){return new cx})),$r('application/mp4; codecs="stpp.TTML.im1t"',(function(){return new cx})),dx.prototype.parseInit=function(){},dx.prototype.setSequenceMode=function(){},dx.prototype.setManifestType=function(e){this.g=e},dx.prototype.parseMedia=function(e,t){var n=(e=(e=yt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new Le(2,2,2e3);if(e=t.vttOffset,"HLS"==this.g)if(n[0].includes("X-TIMESTAMP-MAP")){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new Le(2,2,2e3);if(null==(e=yn(e[1])))throw new Le(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],i=(r=c(n[0].split("\n"))).next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new pn(i);var a=new on;mn(i),hn(i);for(var o=mn(i);o;){var s=a,u=o;(o=/^id=(.*)$/.exec(u))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(u))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(u))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(u)&&(s.scroll="up"),hn(i),o=mn(i)}t.push(a)}for(ar(r=new Map),i=[],a=(n=c(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(s=[],o=-1,u=1;u<a.length;u++)a[u].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[u]),a[u].includes("}")&&(o=-1));for(o=(s=c(s)).next();!o.done;o=s.next()){var l=o.value;o="global",(u=l[0].match(/\((.*)\)/))&&(o=u.pop()),u=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(u=l[1].split(";")),(l=r.get(o))||(l=new tr(0,0,""));for(var d=!1,f=0;f<u.length;f++){var p=/^\s*([^:]+):\s*(.*)/.exec(u[f]);if(p){var h=p[2].trim().replace(";","");switch(p[1].trim()){case"background-color":case"background":d=!0,l.backgroundColor=h;break;case"color":d=!0,l.color=h;break;case"font-family":d=!0,l.fontFamily=h;break;case"font-size":d=!0,l.fontSize=h;break;case"font-weight":(700<=parseInt(h,10)||"bold"==h)&&(d=!0,l.fontWeight=Sr);break;case"font-style":switch(h){case"normal":d=!0,l.fontStyle=xr;break;case"italic":d=!0,l.fontStyle=Tr;break;case"oblique":d=!0,l.fontStyle="oblique"}break;case"opacity":d=!0,l.opacity=parseFloat(h);break;case"text-combine-upright":d=!0,l.textCombineUpright=h;break;case"text-shadow":d=!0,l.textShadow=h;break;case"white-space":d=!0,l.wrapLine="noWrap"!=h}}}d&&r.set(o,l)}}if(d=e,1==(l=a).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0]||"REGION"==l[0])a=null;else if(a=null,l[0].includes("--\x3e")||(a=l[0],l.splice(0,1)),o=vn(s=new pn(l[0])),f=gn(s,/[ \t]+--\x3e[ \t]+/g),u=vn(s),null==o||null==f||null==u)Y("Failed to parse VTT time code. Cue skipped:",a,l),a=null;else{for(o+=d,u+=d,d=l.slice(1).join("\n").trim(),r.has("global")?((l=r.get("global").clone()).startTime=o,l.endTime=u,l.payload=d):l=new tr(o,u,d),hn(s),o=mn(s);o;)fx(l,o,t),hn(s),o=mn(s);ir(l,r),null!=a&&(l.id=a),a=l}a&&i.push(a)}return i},V("shaka.text.VttTextParser",dx),dx.prototype.parseMedia=dx.prototype.parseMedia,dx.prototype.setManifestType=dx.prototype.setManifestType,dx.prototype.setSequenceMode=dx.prototype.setSequenceMode,dx.prototype.parseInit=dx.prototype.parseInit,$r("text/vtt",(function(){return new dx})),$r('text/vtt; codecs="vtt"',(function(){return new dx})),$r('text/vtt; codecs="wvtt"',(function(){return new dx})),px.prototype.parseInit=function(e){var t=this,n=!1;if((new Ca).box("moov",Ma).box("trak",Ma).box("mdia",Ma).R("mdhd",(function(e){e=Po(e.reader,e.version),t.g=e.timescale})).box("minf",Ma).box("stbl",Ma).R("stsd",Da).box("wvtt",(function(){n=!0})).parse(e),!this.g)throw new Le(2,2,2008);if(!n)throw new Le(2,2,2008)},px.prototype.setSequenceMode=function(){},px.prototype.setManifestType=function(){},px.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new Le(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,u=!1,l=null;if((new Ca).box("moof",Ma).box("traf",Ma).R("tfdt",(function(e){o=!0,r=Do(e.reader,e.version).baseMediaDecodeTime})).R("tfhd",(function(e){l=Mo(e.reader,e.flags).jd})).R("trun",(function(e){s=!0,i=Lo(e.reader,e.version,e.flags).fg})).box("mdat",Ra((function(e){u=!0,n=e}))).parse(e,!1),!u&&!o&&!s)throw new Le(2,2,2008);e=r;for(var d=new Aa(n,0),f=c(i),p=f.next();!p.done;p=f.next()){var h=(p=p.value).gg||l,g=p.ze?r+p.ze:e;e=g+(h||0);var m=0;do{var v=d.S();m+=v;var y=null;"vttc"==_a(d.S())?8<v&&(y=d.Cb(v-8)):d.skip(v-8),h&&y&&(v=hx(y,t.periodStart+g/this.g,t.periodStart+e/this.g),a.push(v))}while(p.sampleSize&&m<p.sampleSize)}return a.filter(ii)},V("shaka.text.Mp4VttParser",px),px.prototype.parseMedia=px.prototype.parseMedia,px.prototype.setManifestType=px.prototype.setManifestType,px.prototype.setSequenceMode=px.prototype.setSequenceMode,px.prototype.parseInit=px.prototype.parseInit,$r('application/mp4; codecs="wvtt"',(function(){return new px})),gx.prototype.parseInit=function(){},gx.prototype.setSequenceMode=function(){},gx.prototype.setManifestType=function(){},gx.prototype.parseMedia=function(e){var t=yt(e).replace(/\r+/g,"");if(e=[],""==(t=t.trim()))return e;for(var n=(t=c(t.split("\n\n"))).next();!n.done;n=t.next()){var r=new pn((n=n.value.split("\n"))[0]),i=vn(r),a=gn(r,/,/g);if(r=vn(r),null==i||null==a||null==r)throw new Le(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new tr(i,r,n.slice(1).join("\n").trim()))}return e},V("shaka.text.SbvTextParser",gx),gx.prototype.parseMedia=gx.prototype.parseMedia,gx.prototype.setManifestType=gx.prototype.setManifestType,gx.prototype.setSequenceMode=gx.prototype.setSequenceMode,gx.prototype.parseInit=gx.prototype.parseInit,$r("text/x-subviewer",(function(){return new gx})),mx.prototype.parseInit=function(){},mx.prototype.setSequenceMode=function(){},mx.prototype.setManifestType=function(){},mx.prototype.parseMedia=function(e,t,n){return e=Ce(St(e=vx(e=yt(e)))),this.g.parseMedia(e,t,n,[])},V("shaka.text.SrtTextParser",mx),mx.srt2webvtt=vx,mx.prototype.parseMedia=mx.prototype.parseMedia,mx.prototype.setManifestType=mx.prototype.setManifestType,mx.prototype.setSequenceMode=mx.prototype.setSequenceMode,mx.prototype.parseInit=mx.prototype.parseInit,$r("text/srt",(function(){return new mx})),yx.prototype.parseInit=function(){},yx.prototype.setSequenceMode=function(){},yx.prototype.setManifestType=function(){},yx.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=(e=c(i=yt(e).split(/\r?\n\s*\r?\n/))).next();!i.done;i=e.next()){var a=i.value;i=a,(a=xx.exec(a))&&(r=a[1],i=a[2]),"V4 Styles"==r||"V4+ Styles"==r?(t=i,t=n?t+"\n"+i:i):"Events"==r&&(n=n?n+"\n"+i:i)}for(r=[],i=null,e=(t=c(t.split(/\r?\n/))).next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(a=Tx.exec(e)))if(e=a[1].trim(),a=a[2].trim(),"Format"==e)i=a.split(kx);else if("Style"==e){e=a.split(kx),a={};for(var o=0;o<i.length&&o<e.length;o++)a[i[o]]=e[o];r.push(a)}for(i=[],t=null,a=(n=c(n.split(/\r?\n/))).next(),e={};!a.done;e={Ch:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=Tx.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(kx);else if("Dialogue"==a){o=o.split(kx),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new tr(s=Sx(a.Start),Sx(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),e.Ch=a.Style,(e=r.find(function(e){return function(t){return t.Name==e.Ch}}(e)))&&bx(o,e),i.push(o)}return i},V("shaka.text.SsaTextParser",yx),yx.prototype.parseMedia=yx.prototype.parseMedia,yx.prototype.setManifestType=yx.prototype.setManifestType,yx.prototype.setSequenceMode=yx.prototype.setSequenceMode,yx.prototype.parseInit=yx.prototype.parseInit;var xx=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,Tx=/^\s*([^:]+):\s*(.*)/,kx=/\s*,\s*/,Ax=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function Ex(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&0<(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)?{sd:n,ia:e}:null}function Ix(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&e[t+2])>>>2;if(r>n.length-1)return null;var i=((192&e[t+2])>>>6)+1,a=(1&e[t+2])<<2;return a|=(192&e[t+3])>>>6,{sampleRate:n[r],channelCount:a,codec:"mp4a.40."+i}}function Cx(e,t){if(t+1<e.length&&255===e[t]&&240===(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var r=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(r<=n)&&((t+=r)===e.length||t+1<e.length&&255===e[t]&&240===(246&e[t+1]))}return!1}function Mx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Dx(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(3<=n)return null;var r=63&e[t+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var a=e[t+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(e[t+6]<<8|e[t+7])>>12-o&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,ra:e,ia:i}}function Px(e,t){if(11===e[t]&&119===e[t+1]){var n,r,i=0,a=5;for(t+=a;0<a;){r=e[t];var o=Math.min(a,8),s=8-o;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<o|n:n,t+=1,a-=o}if(16>i)return!0}return!1}function Lx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Rx(e,t){if(t+8>e.length||2935!==(e[t]<<8|e[t+1]))return null;var n=new Ns(e.subarray(t+2));js(n,2),js(n,3);var r=Os(n,11)+1<<1,i=Os(n,2);if(3==i){i=[24e3,22060,16e3][i=Os(n,2)];var a=3}else i=[48e3,44100,32e3][i],a=Os(n,2);var o=Os(n,3),s=Os(n,1);return n=Os(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][a])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,i<<6|n<<1,o<<1|s,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][o]+s,ra:e,ia:r})}function Nx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}$r("text/x-ssa",(function(){return new yx})),(r=Mx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&Wt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(Gr(t)||"mp4a.40.2")+'"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Ce(e),a=Rs(i),o=a.length;o<i.length&&!Cx(i,o);o++);if(e=1e3*n.endTime,(a=Ls(a)).length&&n&&(a=a.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(e=a.data),!(a=Ix(i,o)))return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=a.sampleRate,t.channelsCount=a.channelCount;for(var s=[];o<i.length;){var u=Ex(i,o);if(!u)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));var l=u.sd+u.ia;o+l<=i.length&&s.push({data:i.subarray(o+u.sd,o+l),size:u.ia,duration:1024,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),o+=l}return i=a.sampleRate,e=Math.floor(e*i/1e3),r=new Oo([r={id:t.id,type:"audio",codecs:a.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,jb:[],ra:new Uint8Array([]),Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.h,baseMediaDecodeTime:e,hb:s},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Uo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Lt(t,r),Promise.resolve(t)):Promise.resolve(r)},V("shaka.transmuxer.AacTransmuxer",Mx),Mx.prototype.transmux=Mx.prototype.transmux,Mx.prototype.getOriginalMimeType=Mx.prototype.getOriginalMimeType,Mx.prototype.convertCodecs=Mx.prototype.convertCodecs,Mx.prototype.isSupported=Mx.prototype.isSupported,Mx.prototype.destroy=Mx.prototype.destroy,Cr("audio/aac",(function(){return new Mx("audio/aac")}),Pr),(r=Lx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&Wt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?Xe()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Rs(e=Ce(e)),a=i.length;a<e.length&&!Px(e,a);a++);var o=1e3*n.endTime;(i=Ls(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var l=Dx(e,a);if(!l)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,i=l.sampleRate,s=l.ra,u.push({data:e.subarray(a,a+l.ia),size:l.ia,duration:1536,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),a+=l.ia}return e=Math.floor(o*i/1e3),r=new Oo([r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,jb:[],ra:s,Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.h,baseMediaDecodeTime:e,hb:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Uo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Lt(t,r),Promise.resolve(t)):Promise.resolve(r)},V("shaka.transmuxer.Ac3Transmuxer",Lx),Lx.prototype.transmux=Lx.prototype.transmux,Lx.prototype.getOriginalMimeType=Lx.prototype.getOriginalMimeType,Lx.prototype.convertCodecs=Lx.prototype.convertCodecs,Lx.prototype.isSupported=Lx.prototype.isSupported,Lx.prototype.destroy=Lx.prototype.destroy,Cr("audio/ac3",(function(){return new Lx("audio/ac3")}),Pr),(r=Nx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&Wt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Rs(e=Ce(e)),a=i.length;a<e.length&&2935!==(e[a]<<8|e[a+1]);a++);var o=1e3*n.endTime;(i=Ls(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var l=Rx(e,a);if(!l)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,i=l.sampleRate,s=l.ra,u.push({data:e.subarray(a,a+l.ia),size:l.ia,duration:1536,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),a+=l.ia}return e=Math.floor(o*i/1e3),r=new Oo([r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,jb:[],ra:s,Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.h,baseMediaDecodeTime:e,hb:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Uo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Lt(t,r),Promise.resolve(t)):Promise.resolve(r)},V("shaka.transmuxer.Ec3Transmuxer",Nx),Nx.prototype.transmux=Nx.prototype.transmux,Nx.prototype.getOriginalMimeType=Nx.prototype.getOriginalMimeType,Nx.prototype.convertCodecs=Nx.prototype.convertCodecs,Nx.prototype.isSupported=Nx.prototype.isSupported,Nx.prototype.destroy=Nx.prototype.destroy,Cr("audio/ec3",(function(){return new Nx("audio/ec3")}),Pr);var _x=[100,110,122,244,44,83,86,118,128,138,139,134];function jx(e){if(!e.length)return null;var t=e.find((function(e){return 32==e.type})),n=e.find((function(e){return 33==e.type})),r=e.find((function(e){return 34==e.type}));if(!t||!n||!r)return null;var i=function(e){var t=new Ns(e,!0);return zs(t),zs(t),Os(t,4),Os(t,2),Os(t,6),e=Os(t,3),t=Hs(t),{Uf:e+1,rg:t}}(t.fullData);e=function(e){e=new Ns(e,!0),zs(e),zs(e);var t=0,n=0,r=0,i=0;Os(e,4);var a=Os(e,3);Hs(e);for(var o=Os(e,2),s=Os(e,1),u=Os(e,5),l=zs(e),c=zs(e),d=zs(e),f=zs(e),p=zs(e),h=zs(e),g=zs(e),m=zs(e),v=zs(e),y=zs(e),b=zs(e),w=[],S=[],x=0;x<a;x++)w.push(Hs(e)),S.push(Hs(e));if(0<a)for(x=a;8>x;x++)Os(e,2);for(x=0;x<a;x++)w[x]&&Os(e,88),S[x]&&zs(e);Bs(e),w=Bs(e),3==w&&Os(e,1),S=Bs(e),x=Bs(e),Hs(e)&&(t+=Bs(e),n+=Bs(e),r+=Bs(e),i+=Bs(e));var T=Bs(e),k=Bs(e),A=Bs(e);if(Hs(e))for(var E=0;E<=a;E++)Bs(e),Bs(e),Bs(e);else Bs(e),Bs(e),Bs(e);if(Bs(e),Bs(e),Bs(e),Bs(e),Bs(e),Bs(e),Hs(e)&&Hs(e))for(E=0;4>E;E++)for(var I=0;I<(3===E?2:6);I++)if(Hs(e)){var C=Math.min(64,1<<4+(E<<1));1<E&&Vs(e);for(var M=0;M<C;M++)Vs(e)}else Bs(e);for(Hs(e),Hs(e),Hs(e)&&(zs(e),Bs(e),Bs(e),Hs(e)),E=Bs(e),C=I=0;C<E;C++)if(M=!1,0!==C&&(M=Hs(e)),M){C===E&&Bs(e),Hs(e),Bs(e);for(var D=M=0;D<=I;D++){var P=Hs(e),L=!1;P||(L=Hs(e)),(P||L)&&M++}I=M}else{for(I=(D=Bs(e))+(M=Bs(e)),P=0;P<D;P++)Bs(e),Hs(e);for(D=0;D<M;D++)Bs(e),Hs(e)}if(Hs(e))for(E=Bs(e),I=0;I<E;I++){for(C=0;C<A+4;C++)Os(e,1);Os(e,1)}if(E=A=1,I=0,Hs(e),Hs(e),Hs(e)){if(Hs(e)&&(M=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],D=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<(C=zs(e))&&16>=C?(A=M[C-1],E=D[C-1]):255===C&&(A=Os(e,16),E=Os(e,16))),Hs(e)&&Hs(e),Hs(e)&&(Os(e,3),Hs(e),Hs(e)&&(zs(e),zs(e),zs(e))),Hs(e)&&(Bs(e),Bs(e)),Hs(e),Hs(e),Hs(e),(C=Hs(e))&&(Bs(e),Bs(e),Bs(e),Bs(e)),Hs(e)&&(Os(e,32),Os(e,32),Hs(e)&&Bs(e),Hs(e)))for(D=!1,C=Hs(e),M=Hs(e),(C||M)&&((D=Hs(e))&&(zs(e),Os(e,5),Hs(e),Os(e,5)),Os(e,4),Os(e,4),D&&Os(e,4),Os(e,5),Os(e,5),Os(e,5)),P=0;P<=a;P++){var R=!0;L=1,Hs(e)||(R=Hs(e));var N=!1;if(R?Bs(e):N=Hs(e),N||(L=Bs(e)+1),C){for(R=0;R<L;R++)Bs(e),Bs(e),D&&(Bs(e),Bs(e));Hs(e)}if(M){for(R=0;R<L;R++)Bs(e),Bs(e),D&&(Bs(e),Bs(e));Hs(e)}}Hs(e)&&(Hs(e),Hs(e),Hs(e),I=Bs(e),Bs(e),Bs(e),Bs(e),Bs(e))}return{yf:b,Ef:o,Ff:s,Df:u,zf:l,Af:c,Bf:d,Cf:f,rf:p,tf:h,uf:g,vf:m,wf:v,xf:y,ne:I,hf:0,ff:w,ef:T,df:k,width:S-(t+n)*(1===w||2===w?2:1),height:x-(r+i)*(1===w?2:1),vj:A,uj:E}}(n.fullData);var a=function(e){var t=new Ns(e,!0);zs(t),zs(t),Bs(t),Bs(t),Hs(t),Hs(t),Os(t,3),Hs(t),Hs(t),Bs(t),Bs(t),Vs(t),Hs(t),Hs(t),Hs(t)&&Bs(t),Vs(t),Vs(t),Hs(t),Hs(t),Hs(t),Hs(t),e=Hs(t),t=Hs(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Wf:n}}(r.fullData);return t=function(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(3&r.Ef)<<6|(r.Ff?1:0)<<5|31&r.Df,i[2]=r.zf,i[3]=r.Af,i[4]=r.Bf,i[5]=r.Cf,i[6]=r.rf,i[7]=r.tf,i[8]=r.uf,i[9]=r.vf,i[10]=r.wf,i[11]=r.xf,i[12]=r.yf,i[13]=240|(3840&r.ne)>>8,i[14]=255&r.ne,i[15]=252|3&r.Wf,i[16]=252|3&r.ff,i[17]=248|7&r.ef,i[18]=248|7&r.df,i[19]=0,i[20]=0,i[21]=(3&r.hf)<<6|(7&r.Uf)<<3|(r.rg?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(65280&e.byteLength)>>8,i[27]=255&e.byteLength,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(65280&t.byteLength)>>8,i[e.byteLength+32]=255&t.byteLength,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(65280&n.byteLength)>>8,i[e.byteLength+10+t.byteLength+27]=255&n.byteLength,i.set(n,e.byteLength+10+t.byteLength+28),i}(t.fullData,n.fullData,r.fullData,{Uf:i.Uf,rg:i.rg,Ef:e.Ef,Ff:e.Ff,yf:e.yf,Df:e.Df,zf:e.zf,Af:e.Af,Bf:e.Bf,Cf:e.Cf,rf:e.rf,tf:e.tf,uf:e.uf,vf:e.vf,wf:e.wf,xf:e.xf,hf:e.hf,ne:e.ne,ff:e.ff,ef:e.ef,df:e.df,Wf:a.Wf}),{height:e.height,width:e.width,Ba:t,Ha:e.vj,Ja:e.uj}}function Ox(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+3]>>6;i=1e3*Bx[14*(3===n?3-r:3===r?3:4)+i-1],a=Vx[3*(3===n?0:2===n?1:2)+a],n=Hx[n][r];var s=zx[r],u=Math.floor(n*i/a+(e[t+2]>>1&1))*s,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&87>=l&&2===r&&224e3<=i&&0===o&&(e[t+3]|=128),{sampleRate:a,channelCount:3===o?1:2,ia:u,tj:8*n*s}}return null}function Ux(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function Fx(e,t){if(t+1<e.length&&Ux(e,t)){var n=Ox(e,t),r=4;return n&&n.ia&&(r=n.ia),(t+=r)===e.length||t+1<e.length&&Ux(e,t)}return!1}var Bx=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Vx=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Hx=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zx=[0,1,1,4];function Gx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Kx(e){this.h=e,this.g=null}function qx(e){this.h=e,(this.g=tv.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,(function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)})))}))}e.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),e.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",(function(){for(var e=!0,n=0;16>n;n++)this.usertype[n]!==Xx[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))}))}(this)}function Wx(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}(r=Gx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&Wt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Ce(e),a=Rs(i).length;a<i.length&&!Fx(i,a);a++);var o;for(e=[];a<i.length;){var s=Ox(i,a);if(!s)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));o||(o=s),a+s.ia<=i.length&&e.push({data:i.subarray(a,a+s.ia),size:s.ia,duration:1152,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),a+=s.ia}return o?(i=9e4*o.tj/o.sampleRate*this.h,r=new Oo([r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:o.sampleRate,duration:r,jb:[],ra:new Uint8Array([]),Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.h,baseMediaDecodeTime:i,hb:e},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Uo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Lt(t,r),Promise.resolve(t)):Promise.resolve(r)):Promise.reject(new Le(2,3,3018,n?n.N()[0]:null))},V("shaka.transmuxer.Mp3Transmuxer",Gx),Gx.prototype.transmux=Gx.prototype.transmux,Gx.prototype.getOriginalMimeType=Gx.prototype.getOriginalMimeType,Gx.prototype.convertCodecs=Gx.prototype.convertCodecs,Gx.prototype.isSupported=Gx.prototype.isSupported,Gx.prototype.destroy=Gx.prototype.destroy,Cr("audio/mpeg",(function(){return new Gx("audio/mpeg")}),Pr),(r=Kx.prototype).destroy=function(){},r.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=Gr(e).split(","),n=Ot("audio",t);return t=Ot("video",t),!(!n||t||"mp3"!=Vr(n))&&Wt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new qs,e=Ce(e),"mp3"!=(e=this.g.parse(e)).md().audio||"audio"!=i)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=c(e.cb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=Ox(e,t))?(t+r.ia<=e.length&&(n=Lt(n,e.subarray(t,t+r.ia))),t+=r.ia):t++;return Promise.resolve(n)},V("shaka.transmuxer.MpegTsTransmuxer",Kx),Kx.prototype.transmux=Kx.prototype.transmux,Kx.prototype.getOriginalMimeType=Kx.prototype.getOriginalMimeType,Kx.prototype.convertCodecs=Kx.prototype.convertCodecs,Kx.prototype.isSupported=Kx.prototype.isSupported,Kx.prototype.destroy=Kx.prototype.destroy,Cr("video/mp2t",(function(){return new Kx("video/mp2t")}),Lr),(r=qx.prototype).destroy=function(){},r.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?Wt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Wt(t)||Wt(e)))},r.convertCodecs=function(e,t){return t.replace("mss/","")},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n){if(!n)return Promise.resolve(Ce(e));if(!t.mssPrivateData)return Promise.reject(new Le(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),a=i.fetch("tfhd");a.track_ID=t.id+1;var o=i.fetch("tfdt"),s=i.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=i.fetch("trun"),l=i.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var c=i.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var d=i.fetch("sepiff");if(null!==d){d.type="senc",d.usertype=void 0;var f=i.fetch("saio");if(null===f){(f=this.g.createFullBox("saio",s)).version=0,f.flags=0,f.entry_count=1,f.offset=[0];var p=this.g.createFullBox("saiz",s);if(p.version=0,p.flags=0,p.sample_count=d.sample_count,p.default_sample_info_size=0,p.sample_info_size=[],2&d.flags)for(r=0;r<d.sample_count;r+=1)p.sample_info_size[r]=10+6*d.entry[r].NumberOfEntries;else p.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,u.flags|=1;var h=i.fetch("moof");u.data_offset=h.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=Wx(h,"traf")+Wx(s,"senc")+16);var m=Ce(i.write());return Promise.resolve(m)}catch(v){return v instanceof Le?Promise.reject(v):Promise.reject(new Le(2,3,3022,n?n.N()[0]:null))}},V("shaka.transmuxer.MssTransmuxer",qx),qx.prototype.transmux=qx.prototype.transmux,qx.prototype.getOriginalMimeType=qx.prototype.getOriginalMimeType,qx.prototype.convertCodecs=qx.prototype.convertCodecs,qx.prototype.isSupported=qx.prototype.isSupported,qx.prototype.destroy=qx.prototype.destroy;var Xx=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function Yx(e){this.m=e,this.g=0,this.i=new Map,this.l=this.h=this.j=null}Cr("mss/audio/mp4",(function(){return new qx("mss/audio/mp4")}),Pr),Cr("mss/video/mp4",(function(){return new qx("mss/video/mp4")}),Pr),(r=Yx.prototype).destroy=function(){this.i.clear(),this.h&&this.h.destroy()},r.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=Gr(n).split(",");return n=Ot("audio",r),r=Ot("video",r),!(n&&(n=Vr(n),!Jx.includes(n))||r&&(n=Vr(r),!Zx.includes(n)))&&(t?Wt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Wt(t)||Wt(e)))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=Gr(t).replace("mp4a.40.34","mp3").split(",").map((function(e){return Ai(e,"audio/mp4")})).map(Ei).join(","),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},r.getOriginalMimeType=function(){return this.m},r.transmux=function(e,t,n,r,i){var a=Ce(e);if("audio"==i&&!$s(a)){for(var o=Rs(a),s=o.length;s<a.length;s++)if(Fx(a,s))return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));for(s=o.length;s<a.length;s++)if(Cx(a,s))return this.h||(this.h=new Mx("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new qs;var u=this.j.parse(a),l=[],f=u.md();try{var p=null;if("video"==i){switch(f.video){case"avc":var h=[],g=null,m=u.uc(),v=function(e){function t(e){i={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:e.pts,dts:e.dts,nalus:[]}}function n(){if(i&&i.nalus.length&&i.frame){for(var e=[],t=c(i.nalus),n=t.next();!n.done;n=t.next()){var a=(n=n.value).fullData.byteLength,o=new Uint8Array(4);o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,e.push(o),e.push(n.fullData)}i.data=Lt.apply(Et,d(e)),r.push(i)}}for(var r=[],i=null,a=!1,o=0;o<e.length;o++){var s=e[o],u=s.nalus,l=!1;i&&u.length&&!a&&(n(),t(s));for(var f=(u=c(s.nalus)).next();!f.done;f=u.next()){var p=!1;switch((f=f.value).type){case 1:var h=!1;p=!0;var g=f.data;l&&4<g.length&&(2===(g=Ks(new Ns(g)))||4===g||7===g||9===g)&&(h=!0),h&&i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(s),i.frame=!0,i.isKeyframe=h;break;case 5:p=!0,i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(s),i.frame=!0,i.isKeyframe=!0;break;case 6:case 8:case 12:p=!0;break;case 7:l=p=!0;break;case 9:a=p=!0,i&&i.frame&&(n(),i=null),i||t(s);break;default:p=!1}i&&p&&i.nalus.push(f)}}return n(),r}(m);if(!v.length)throw new Le(2,3,3023,n?n.N()[0]:null);for(var y=0;y<v.length;y++){var b=v[y];null==g&&(g=b.dts);var w;w=y+1<v.length?(v[y+1].dts||0)-(b.dts||0):1<v.length?(b.dts||0)-(v[y-1].dts||0):9e4*(n.endTime-n.startTime),h.push({data:b.data,size:b.data.byteLength,duration:w,bb:Math.round((b.pts||0)-(b.dts||0)),flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:b.isKeyframe?2:1,gb:b.isKeyframe?0:1}})}for(var S=[],x=c(m),T=x.next();!T.done;T=x.next())S.push.apply(S,d(T.value.nalus));var k=function(e){if(!e.length)return null;var t=e.find((function(e){return 7==e.type}));if(e=e.find((function(e){return 8==e.type})),!t||!e)return null;var n=new Ns(t.data),r=zs(n);if(zs(n),zs(n),Fs(n),_x.includes(r)&&(3===(r=Bs(n))&&js(n,1),Fs(n),Fs(n),js(n,1),Hs(n))){r=3!==r?8:12;for(var i=0;i<r;i++)Hs(n)&&Gs(n,6>i?16:64)}if(Fs(n),0===(r=Bs(n)))Bs(n);else if(1===r)for(js(n,1),Fs(n),Fs(n),r=Bs(n),i=0;i<r;i++)Fs(n);Fs(n),js(n,1);var a=Bs(n),o=Bs(n),s=Os(n,1);0===s&&js(n,1),js(n,1);var u=0,l=0,c=0,f=0;if(Hs(n)&&(u=Bs(n),l=Bs(n),c=Bs(n),f=Bs(n)),i=r=1,Hs(n)&&Hs(n)){var p=zs(n);0<p&&16>=p?(r=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][p-1],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][p-1]):255===p&&(r=Os(n,16),i=Os(n,16))}return n=(2-s)*(o+1)*16-2*c-2*f,a=16*(a+1)-2*u-2*l,u=[],t=t.fullData,u.push(t.byteLength>>>8&255),u.push(255&t.byteLength),u=u.concat.apply(u,d(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,d(e)),{height:n,width:a,Ba:e=new Uint8Array([1,u[3],u[4],u[5],255,225].concat(u,[1],t)),Ha:r,Ja:i}}(S);if(!k||null==g)throw new Le(2,3,3018,n?n.N()[0]:null);t.height=k.height,t.width=k.width,p={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,jb:[],ra:new Uint8Array([]),Ba:k.Ba,Ha:k.Ha,Ja:k.Ja,data:{Db:this.g,baseMediaDecodeTime:g,hb:h},stream:t};break;case"hvc":var A=[],E=null,I=[],C=u.uc();if(!C.length)throw new Le(2,3,3023,n?n.N()[0]:null);for(var M=0;M<C.length;M++){var D=C[M],P=D.nalus;I.push.apply(I,d(P));for(var L=!1,R=[],N=!1,_=c(P),j=_.next();!j.done;j=_.next()){var O=j.value;switch(O.type){case 1:case 0:var U=N=!0;break;case 19:case 20:case 21:L=U=N=!0;break;case 32:case 33:case 34:case 39:case 40:U=!0;break;case 35:N=U=!0;break;default:U=!1}if(N&&U){var F=O.fullData.byteLength,B=new Uint8Array(4);B[0]=F>>24&255,B[1]=F>>16&255,B[2]=F>>8&255,B[3]=255&F,R.push(B),R.push(O.fullData)}}var V=R.length?{data:Lt.apply(Et,d(R)),isKeyframe:L}:null;if(V){null==E&&null!=D.dts&&(E=D.dts);var H;H=M+1<C.length?(C[M+1].dts||0)-(D.dts||0):1<C.length?(D.dts||0)-(C[M-1].dts||0):9e4*(n.endTime-n.startTime),A.push({data:V.data,size:V.data.byteLength,duration:H,bb:Math.round((D.pts||0)-(D.dts||0)),flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:V.isKeyframe?2:1,gb:V.isKeyframe?0:1}})}}var z=jx(I);if(!z||null==E)throw new Le(2,3,3018,n?n.N()[0]:null);t.height=z.height,t.width=z.width,p={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,jb:[],ra:new Uint8Array([]),Ba:z.Ba,Ha:z.Ha,Ja:z.Ja,data:{Db:this.g,baseMediaDecodeTime:E,hb:A},stream:t}}p&&(l.push(p),p=null)}if("audio"==i){switch(f.audio){case"aac":for(var G,K=[],q=null,W=null,X=null,Y=c(u.cb()),$=Y.next();!$.done;$=Y.next()){var Q=$.value,J=Q.data;if(J){var Z=0;if(-1==W&&X)J=Lt(X,Q.data),W=null;else if(null!=W&&X){Z=Math.max(0,W);var ee=Lt(X,J.subarray(0,Z));K.push({data:ee,size:ee.byteLength,duration:1024,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),W=X=null}if(!(G=Ix(J,Z)))throw new Le(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=G.sampleRate,t.channelsCount=G.channelCount,null==q&&null!==Q.pts&&(q=Q.pts);Z<J.length;){var te=Ex(J,Z);if(!te){X=J.subarray(Z,J.length),W=-1;break}var ne=te.sd+te.ia;0!=(W=Math.max(0,Z+ne-J.length))?X=J.subarray(Z+te.sd,Z+ne):Z+ne<=J.length&&K.push({data:J.subarray(Z+te.sd,Z+ne),size:te.ia,duration:1024,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),Z+=ne}}}if(!G||null==q){if(!u.uc().length)throw new Le(2,3,3018,n?n.N()[0]:null);q=9e4*n.startTime;var re=Ot("audio",t.codecs.split(","));if(!re||!t.channelsCount||!t.audioSamplingRate)throw new Le(2,3,3018,n?n.N()[0]:null);G={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:re};var ie=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}(re,t.channelsCount);if(!ie)throw new Le(2,3,3018,n?n.N()[0]:null);for(var ae=q+9e4*(n.endTime-n.startTime),oe=q;oe<ae;)K.push({data:ie,size:ie.byteLength,duration:1024,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),oe+=1024/G.sampleRate*9e4}var se=G.sampleRate,ue=q/9e4*se;p={id:t.id,type:"audio",codecs:G.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:se,duration:r,jb:[],ra:new Uint8Array([]),Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.g,baseMediaDecodeTime:ue,hb:K},stream:t};break;case"ac3":for(var le=[],ce=0,de=new Uint8Array([]),fe=null,pe=c(u.cb()),he=pe.next();!he.done;he=pe.next()){var ge=he.value,me=ge.data;null==fe&&null!==ge.pts&&(fe=ge.pts);for(var ve=0;ve<me.length;){var ye=Dx(me,ve);ye?(t.audioSamplingRate=ye.sampleRate,t.channelsCount=ye.channelCount,ce=ye.sampleRate,de=ye.ra,le.push({data:me.subarray(ve,ve+ye.ia),size:ye.ia,duration:1536,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),ve+=ye.ia):ve++}}if(0==ce||0==de.byteLength||null==fe)throw new Le(2,3,3018,n?n.N()[0]:null);var be=fe/9e4*ce;p={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:ce,duration:r,jb:[],ra:de,Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.g,baseMediaDecodeTime:be,hb:le},stream:t};break;case"ec3":for(var we=[],Se=0,xe=new Uint8Array([]),Te=null,ke=c(u.cb()),Ae=ke.next();!Ae.done;Ae=ke.next()){var Ee=Ae.value,Ie=Ee.data;null==Te&&null!==Ee.pts&&(Te=Ee.pts);for(var Me=0;Me<Ie.length;){var De=Rx(Ie,Me);De?(t.audioSamplingRate=De.sampleRate,t.channelsCount=De.channelCount,Se=De.sampleRate,xe=De.ra,we.push({data:Ie.subarray(Me,Me+De.ia),size:De.ia,duration:1536,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),Me+=De.ia):Me++}}if(0==Se||0==xe.byteLength||null==Te)throw new Le(2,3,3018,n?n.N()[0]:null);var Pe=Te/9e4*Se;p={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Se,duration:r,jb:[],ra:xe,Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.g,baseMediaDecodeTime:Pe,hb:we},stream:t};break;case"mp3":for(var Re,Ne=[],_e=null,je=c(u.cb()),Oe=je.next();!Oe.done;Oe=je.next()){var Ue=Oe.value,Fe=Ue.data;if(Fe){null==_e&&null!==Ue.pts&&(_e=Ue.pts);for(var Be=0;Be<Fe.length;){var Ve=Ox(Fe,Be);Ve?(Re||(Re=Ve),Be+Ve.ia<=Fe.length&&Ne.push({data:Fe.subarray(Be,Be+Ve.ia),size:Ve.ia,duration:1152,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),Be+=Ve.ia):Be++}}}if(!Re||null==_e)throw new Le(2,3,3018,n?n.N()[0]:null);var He=Re.sampleRate,ze=_e/9e4*He;p={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:He,duration:r,jb:[],ra:new Uint8Array([]),Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.g,baseMediaDecodeTime:ze,hb:Ne},stream:t};break;case"opus":var Ge=[],Ke=null,qe=u.F;if(!qe)throw new Le(2,3,3018,n?n.N()[0]:null);var We=[];switch(qe.Yh){case 1:case 2:We=[0];break;case 0:We=[255,1,1,0,1];break;case 128:We=[255,2,0,0,1];break;case 3:We=[1,2,1,0,2,1];break;case 4:We=[1,2,2,0,1,2,3];break;case 5:We=[1,3,2,0,4,1,2,3];break;case 6:We=[1,4,2,0,4,1,2,3,5];break;case 7:We=[1,4,2,0,4,1,2,3,5,6];break;case 8:We=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:We=[1,1,2,0,1];break;case 131:We=[1,1,3,0,1,2];break;case 132:We=[1,1,4,0,1,2,3];break;case 133:We=[1,1,5,0,1,2,3,4];break;case 134:We=[1,1,6,0,1,2,3,4,5];break;case 135:We=[1,1,7,0,1,2,3,4,5,6];break;case 136:We=[1,1,8,0,1,2,3,4,5,6,7]}for(var Xe=new Uint8Array([0,qe.channelCount,0,0,qe.sampleRate>>>24&255,qe.sampleRate>>>17&255,qe.sampleRate>>>8&255,qe.sampleRate>>>0&255,0,0].concat(d(We))),Ye=qe.sampleRate,$e=c(u.cb()),Qe=$e.next();!Qe.done;Qe=$e.next()){var Je=Qe.value,Ze=Je.data;null==Ke&&null!==Je.pts&&(Ke=Je.pts);for(var et=0;et<Ze.length;){for(var tt=0!==(16&Ze[et+1]),nt=0!==(8&Ze[et+1]),rt=et+2,it=0;255===Ze[rt];)it+=255,rt+=1;it+=Ze[rt],rt+=1,rt+=tt?2:0,rt+=nt?2:0;var at=Ze.slice(rt,rt+it);Ge.push({data:at,size:at.byteLength,duration:960,bb:0,flags:{fb:0,Ya:0,Xa:0,Va:0,Wa:2,gb:0}}),et=rt+it}}if(0==Xe.byteLength||null==Ke)throw new Le(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=qe.sampleRate,t.channelsCount=qe.channelCount;var ot=Ke/9e4*Ye;p={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ye,duration:r,jb:[],ra:Xe,Ba:new Uint8Array([]),Ha:0,Ja:0,data:{Db:this.g,baseMediaDecodeTime:ot,hb:Ge},stream:t}}p&&(l.push(p),p=null)}}catch(pt){return pt&&3023==pt.code?Promise.resolve(new Uint8Array([])):Promise.reject(pt)}if(!l.length)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));var st=new Oo(l),ut=t.id+"_"+n.i;if(this.i.has(ut))var lt=this.i.get(ut);else lt=Uo(st),this.i.set(ut,lt);var ct=this.l!==lt,dt=zo(st);if(this.l=lt,this.g++,ct){var ft=Lt(lt,dt);return Promise.resolve(ft)}return Promise.resolve(dt)},V("shaka.transmuxer.TsTransmuxer",Yx),Yx.prototype.transmux=Yx.prototype.transmux,Yx.prototype.getOriginalMimeType=Yx.prototype.getOriginalMimeType,Yx.prototype.convertCodecs=Yx.prototype.convertCodecs,Yx.prototype.isSupported=Yx.prototype.isSupported,Yx.prototype.destroy=Yx.prototype.destroy;var $x,Qx,Jx=["aac","ac-3","ec-3","mp3","opus"],Zx=["avc","hevc"];function eT(){}function tT(){}function nT(){$x||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?($x=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=rT,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function rT(e,t){var n,r=this;return R((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),S(i,$x.call(r,e,t),2)):pT(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=$x,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=iT,i.return(iT.call(r,e,t)))}))}function iT(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g=this;return R((function(m){if(1==m.g){for(console.assert(g==navigator,'bad "this" for requestMediaKeySystemAccess'),n=fT(e),r=[],i=c(t),a=i.next();!a.done;a=i.next())o=a.value,s=aT(o.videoCapabilities,n),u=aT(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((l=Object.assign({},o)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return S(m,$x.call(g,e,r),2)}return f=m.h,h=p=null,r[0]&&(r[0].videoCapabilities&&(p=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(h=r[0].audioCapabilities[0].encryptionScheme)),m.return(new dT(f,p,h))}))}function aT(e,t){return e?e.filter((function(e){return hT(e.encryptionScheme,t)})):e}function oT(){}function sT(){Qx||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Qx=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=uT,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function uT(e){var t,n,r=this;return R((function(i){switch(i.g){case 1:return console.assert(r==navigator.mediaCapabilities,'bad "this" for decodingInfo'),S(i,Qx.call(r,e),2);case 2:if(!(t=i.h).supported||!e.keySystemConfiguration)return i.return(t);if((n=t.keySystemAccess)&&pT(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Qx,i.return(t);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=lT,n){i.s(3);break}return S(i,cT(e),4);case 4:return t.keySystemAccess=i.h,i.return(t);case 3:return i.return(lT.call(r,e))}}))}function lT(e){var t,n,r,i,a,o,s,u=this;return R((function(l){switch(l.g){case 1:return console.assert(u==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=t=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,i=r.keySystem,n=r.audio&&r.audio.encryptionScheme,t=r.video&&r.video.encryptionScheme,a=fT(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},hT(n,a)&&hT(t,a))?S(l,Qx.call(u,e),2):l.return(o);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new dT(s.keySystemAccess,t,n),l.s(3);break}if(!e.keySystemConfiguration){l.s(3);break}return S(l,cT(e),5);case 5:s.keySystemAccess=l.h;case 3:return l.return(s)}}))}function cT(e){var t,n;return R((function(r){if(1==r.g){var i=e.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&o.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),t=i,S(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)}))}function dT(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}function fT(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":e.startsWith("com.huawei")?"cenc":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function pT(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function hT(e,t){return!e||e==t||!("cbcs"!=e&&"cbcs-1-9"!=e||!(bT||xT||yT))}function gT(){}function mT(){nT(),sT()}Cr("video/mp2t",(function(){return new Yx("video/mp2t")}),Rr),v(eT,Xl),V("shaka.util.FairPlayUtils",eT),V("EmeEncryptionSchemePolyfill",tT),tT.install=nT,V("McEncryptionSchemePolyfill",oT),oT.install=sT,dT.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(n=(t=c(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},dT.prototype.createMediaKeys=function(){return this.g.createMediaKeys()},V("EncryptionSchemePolyfills",gT),gT.install=mT;var vT,yT=navigator.userAgent.includes("CrKey"),bT=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),wT=navigator.userAgent||"";if(wT.includes("Web0S")){var ST=wT.match(/Chrome\/(\d+)/);vT=!!ST&&79<=parseInt(ST[1],10)}else vT=!1;var xT=vT;"undefined"!==typeof n&&n.exports&&(n.exports=gT)}.call(r,e,e,void 0),r.shaka)t[i]=r.shaka[i]}()},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var j,O=Object.assign;function U(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case x:return"Portal";case A:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Te=null,ke=null;function Ae(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=Si(t),xe(e.stateNode,e.type,t))}}function Ee(e){Te?ke?ke.push(e):ke=[e]:Te=e}function Ie(){if(Te){var e=Te,t=ke;if(ke=Te=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function Me(){}var De=!1;function Pe(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==Te||null!==ke)&&(Me(),Ie())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Re=!1}function _e(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var je=!1,Oe=null,Ue=!1,Fe=null,Be={onError:function(e){je=!0,Oe=e}};function Ve(e,t,n,r,i,a,o,s,u){je=!1,Oe=null,_e.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,xt,Tt,kt,At,Et=!1,It=[],Ct=null,Mt=null,Dt=null,Pt=new Map,Lt=new Map,Rt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void At(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Mt&&Ut(Mt)&&(Mt=null),null!==Dt&&Ut(Dt)&&(Dt=null),Pt.forEach(Ft),Lt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Mt&&Vt(Mt,e),null!==Dt&&Vt(Dt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Rt.shift()}var zt=w.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,zt.transition=a}}function qt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Xt,n),_t(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return Mt=jt(Mt,e,t,n,r,i),!0;case"mouseover":return Dt=jt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,jt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,jt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(_t(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&St(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=yi(e=Se(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=O({},ln,{view:0,detail:0}),fn=an(dn),pn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),gn=an(O({},pn,{dataTransfer:0})),mn=an(O({},dn,{relatedTarget:0})),vn=an(O({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(O({},ln,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function An(){return kn}var En=O({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),Cn=an(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Dn=an(O({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Pn),Rn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,_n=null;c&&"documentMode"in document&&(_n=document.documentMode);var jn=c&&"TextEvent"in window&&!_n,On=c&&(!Nn||_n&&8<_n&&11>=_n),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Wn=null;function Xn(e){Ur(e,0)}function Yn(e){if(W(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Wn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,Se(e)),Pe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Tr={},kr={};function Ar(e){if(Tr[e])return Tr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Tr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ar("animationend"),Ir=Ar("animationiteration"),Cr=Ar("animationstart"),Mr=Ar("transitionend"),Dr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Dr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Nr=Pr[Rr];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(Er,"onAnimationEnd"),Lr(Ir,"onAnimationIteration"),Lr(Cr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Mr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ve.apply(this,arguments),je){if(!je)throw Error(a(198));var c=Oe;je=!1,Oe=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Or(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Or(i,s,l),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=qt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=Se(n),o=[];e:{var s=Dr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Er:case Ir:case Cr:u=vn;break;case Mr:u=Dn;break;case"scroll":u=fn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=Le(h,f))&&c.push(Kr(h,g,p)))),d)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,g="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:wi(u),p=null==l?s:wi(l),(s=new c(g,h+"leave",u,n,i)).target=d,s.relatedTarget=p,g=null,yi(i)===r&&((c=new c(f,h+"enter",l,n,i)).target=p,c.relatedTarget=d,g=c),d=g,u&&l)e:{for(f=l,h=0,p=c=u;p;p=Wr(p))h++;for(p=0,g=f;g;g=Wr(g))p++;for(;0<h-p;)c=Wr(c),h--;for(;0<p-h;)f=Wr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Wr(c),f=Wr(f)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==d&&Xr(o,d,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Gn(s))if(Qn)m=or;else{m=ir;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Hn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),Zt=Jt=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Le(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Le(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Le(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Si(e){return e[pi]||null}var xi=[],Ti=-1;function ki(e){return{current:e}}function Ai(e){0>Ti||(e.current=xi[Ti],xi[Ti]=null,Ti--)}function Ei(e,t){Ti++,xi[Ti]=e.current,e.current=t}var Ii={},Ci=ki(Ii),Mi=ki(!1),Di=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ai(Mi),Ai(Ci)}function Ni(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ei(Ci,t),Ei(Mi,n)}function _i(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return O({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Di=Ci.current,Ei(Ci,e),Ei(Mi,Mi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ai(Mi),Ai(Ci),Ei(Ci,e)):Ai(Mi),Ei(Mi,n)}var Ui=null,Fi=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Hi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Hi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Gi=0,Ki=null,qi=0,Wi=[],Xi=0,Yi=null,$i=1,Qi="";function Ji(e,t){zi[Gi++]=qi,zi[Gi++]=Ki,Ki=e,qi=t}function Zi(e,t,n){Wi[Xi++]=$i,Wi[Xi++]=Qi,Wi[Xi++]=Yi,Yi=e;var r=$i;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else $i=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Gi],zi[Gi]=null,qi=zi[--Gi],zi[Gi]=null;for(;e===Yi;)Yi=Wi[--Xi],Wi[Xi]=null,Qi=Wi[--Xi],Wi[Xi]=null,$i=Wi[--Xi],Wi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var ga=w.ReactCurrentBatchConfig;function ma(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ol(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===T?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&ya(a)===t.type)?((r=i(t,n.props)).ref=ma(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=ma(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=_l(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=ma(e,null,t),n.return=e,n;case x:return(t=Ul(t,e.mode,n)).return=e,t;case L:return f(e,(0,t._init)(t._payload),n)}if(te(t)||_(t))return(t=_l(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case L:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||_(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||_(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(i,d,s[g],u);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(i,d),ia&&Ji(i,g),l;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],u))&&(a=o(d,a,g),null===c?l=d:c.sibling=d,c=d);return ia&&Ji(i,g),l}for(d=r(i,d);g<s.length;g++)null!==(m=h(d,i,g,s[g],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,g),l}function m(i,s,u,l){var c=_(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),ia&&Ji(i,m),c;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return ia&&Ji(i,m),c}for(g=r(i,g);!y.done;m++,y=u.next())null!==(y=h(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===T&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case S:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===T){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&ya(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=ma(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===T?((a=_l(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Nl(o.type,o.key,o.props,null,r.mode,u)).ref=ma(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return g(r,a,o,u);if(_(o))return m(r,a,o,u);va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ol(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var wa=ba(!0),Sa=ba(!1),xa=ki(null),Ta=null,ka=null,Aa=null;function Ea(){Aa=ka=Ta=null}function Ia(e){var t=xa.current;Ai(xa),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){Ta=e,Aa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Da(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Ta)throw Error(a(308));ka=e,Ta.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Pa=null;function La(e){null===Pa?Pa=[e]:Pa.push(e)}function Ra(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,La(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var _a=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,La(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;_a=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,g=s;switch(f=t,p=n,g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=g.payload)?h.call(p,d,f):h)||void 0===f)break e;d=O({},d,f);break e;case 2:_a=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=d):c=c.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ga={},Ka=ki(Ga),qa=ki(Ga),Wa=ki(Ga);function Xa(e){if(e===Ga)throw Error(a(174));return e}function Ya(e,t){switch(Ei(Wa,t),Ei(qa,e),Ei(Ka,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Ka),Ei(Ka,t)}function $a(){Ai(Ka),Ai(qa),Ai(Wa)}function Qa(e){Xa(Wa.current);var t=Xa(Ka.current),n=ue(t,e.type);t!==n&&(Ei(qa,e),Ei(Ka,n))}function Ja(e){qa.current===e&&(Ai(Ka),Ai(qa))}var Za=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,ao=0,oo=null,so=null,uo=null,lo=!1,co=!1,fo=0,po=0;function ho(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),co){o=0;do{if(co=!1,fo=0,25<=o)throw Error(a(301));o+=1,uo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==so&&null!==so.next,ao=0,uo=so=oo=null,lo=!1,t)throw Error(a(300));return e}function vo(){var e=0!==fo;return fo=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?oo.memoizedState=uo=e:uo=uo.next=e,uo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===uo?oo.memoizedState:uo.next;if(null!==t)uo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===uo?oo.memoizedState=uo=e:uo=uo.next=e}return uo}function wo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((ao&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,oo.lanes|=d,ju|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function ko(e,t){var n=oo,r=bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,jo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Po(9,Eo.bind(null,n,r,i,t),void 0,null),null===Mu)throw Error(a(349));0!==(30&ao)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Mo(e)}function Io(e,t,n){return n((function(){Co(t)&&Mo(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nl(t,e,1,-1)}function Do(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return bo().memoizedState}function Ro(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function No(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Po(t,n,a,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,a,r)}function _o(e,t){return Ro(8390656,8,e,t)}function jo(e,t){return No(2048,8,e,t)}function Oo(e,t){return No(4,2,e,t)}function Uo(e,t){return No(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4,4,Fo.bind(null,t,e),n)}function Vo(){}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),oo.lanes|=n,ju|=n,e.baseState=!0),t)}function Ko(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function qo(){return bo().memoizedState}function Wo(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))$o(t,n);else if(null!==(n=Ra(e,t,n,r))){nl(n,e,r,el()),Qo(n,t,r)}}function Xo(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))$o(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,La(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ra(e,t,i,r))&&(nl(n,e,r,i=el()),Qo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function $o(e,t){co=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Da,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useInsertionEffect:ho,useLayoutEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useMutableSource:ho,useSyncExternalStore:ho,useId:ho,unstable_isNewReconciler:!1},Zo={readContext:Da,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Da,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Do,useDebugValue:Vo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Ko.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Mu)throw Error(a(349));0!==(30&ao)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,_o(Io.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Mu.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Da,useCallback:Ho,useContext:Da,useEffect:jo,useImperativeHandle:Bo,useInsertionEffect:Oo,useLayoutEffect:Uo,useMemo:zo,useReducer:So,useRef:Lo,useState:function(){return So(wo)},useDebugValue:Vo,useDeferredValue:function(e){return Go(bo(),so.memoizedState,e)},useTransition:function(){return[So(wo)[0],bo().memoizedState]},useMutableSource:To,useSyncExternalStore:ko,useId:qo,unstable_isNewReconciler:!1},ts={readContext:Da,useCallback:Ho,useContext:Da,useEffect:jo,useImperativeHandle:Bo,useInsertionEffect:Oo,useLayoutEffect:Uo,useMemo:zo,useReducer:xo,useRef:Lo,useState:function(){return xo(wo)},useDebugValue:Vo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Go(t,so.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:To,useSyncExternalStore:ko,useId:qo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nl(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nl(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(nl(t,e,r,n),Ba(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function os(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Da(a):(i=Li(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Da(a):(a=Li(t)?Di:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Ku=r),ds(0,t)},n}function hs(e,t,n){(n=Ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Al.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ua(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Sa(t,null,n,r):wa(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return Ma(t,i),r=mo(e,t,n,r,a,i),n=vo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ll(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ru,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ru,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ru,Lu),Lu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ru,Lu),Lu|=r;return ws(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Li(n)?Di:Ci.current;return a=Pi(t,a),Ma(t,i),n=mo(e,t,n,r,a,i),r=vo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Is(e,t,n,r,i){if(Li(n)){var a=!0;ji(t)}else a=!1;if(Ma(t,i),null===t.stateNode)zs(e,t),os(t,n,r),us(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Da(l):l=Pi(t,l=Li(n)?Di:Ci.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ss(t,o,r,l),_a=!1;var f=t.memoizedState;o.state=f,Ha(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Mi.current||_a?("function"===typeof c&&(rs(t,n,c,r),u=t.memoizedState),(s=_a||as(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Da(u):u=Pi(t,u=Li(n)?Di:Ci.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&ss(t,o,r,u),_a=!1,f=t.memoizedState,o.state=f,Ha(t,r,o,i);var h=t.memoizedState;s!==d||f!==h||Mi.current||_a?("function"===typeof p&&(rs(t,n,p,r),h=t.memoizedState),(l=_a||as(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){As(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Gs(e,t,a);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ya(e,t.containerInfo)}function Ds(e,t,n,r,i){return pa(),ha(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ls,Rs,Ns,_s={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var r,i=t.pendingProps,o=Za.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(Za,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jl(u,i,0,null),e=_l(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=_s,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=_l(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=_s,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=cs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Mu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nl(r,e,i,-1))}return gl(),Fs(e,t,s,r=cs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Xi++]=$i,Wi[Xi++]=Qi,Wi[Xi++]=Yi,$i=e.id,Qi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rl(r,s):(s=_l(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=_s,i}return e=(s=e.child).sibling,i=Rl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ha(r),wa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Li(t.type)&&Ri(),qs(t),null;case 3:return r=t.stateNode,$a(),Ai(Mi),Ai(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ls(e,t),qs(t),null;case 5:Ja(t);var i=Xa(Wa.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Xa(Ka.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<_r.length;i++)Fr(_r[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[pi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<_r.length;i++)Fr(_r[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Wa.current),Xa(Ka.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ai(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Nu&&(Nu=3):gl())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return $a(),Ls(e,t),null===e&&Hr(t.stateNode.containerInfo),qs(t),null;case 10:return Ia(t.type._context),qs(t),null;case 19:if(Ai(Za),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Nu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=eo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Hu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return qs(t),null}else 2*Qe()-o.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=Za.current,Ei(Za,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),Ai(Mi),Ai(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Ai(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Za),null;case 4:return $a(),null;case 10:return Ia(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Ka.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=du;cu=null,fu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ht(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,fu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(e,t,n),$s=r):fu(e,t,n);break;default:fu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(a(160));pu(o,s,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),vu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){kl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:gu(t,e),vu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gu(t,e),vu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){kl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Q(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(m){kl(e,e.return,m)}}break;case 6:if(gu(t,e),vu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){kl(e,e.return,m)}}break;case 3:if(gu(t,e),vu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:gu(t,e),vu(e);break;case 13:gu(t,e),vu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Qe())),4&r&&hu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||d,gu(t,e),$s=c):gu(t,e),vu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(h=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kl(r,n,m)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){Su(f);continue}}null!==h?(h.return=p,Js=h):Su(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ge("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(t,e),vu(e),4&r&&hu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var l=$s;if(Ys=o,($s=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,Ys=s,$s=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(p){kl(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){kl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Tu,ku=Math.ceil,Au=w.ReactCurrentDispatcher,Eu=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Cu=0,Mu=null,Du=null,Pu=0,Lu=0,Ru=ki(0),Nu=0,_u=null,ju=0,Ou=0,Uu=0,Fu=null,Bu=null,Vu=0,Hu=1/0,zu=null,Gu=!1,Ku=null,qu=null,Wu=!1,Xu=null,Yu=0,$u=0,Qu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Cu)?Qe():-1!==Ju?Ju:Ju=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Pu?Pu&-Pu:null!==ga.transition?(0===Zu&&(Zu=gt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Qu=null,Error(a(185));vt(e,n,r),0!==(2&Cu)&&e===Mu||(e===Mu&&(0===(2&Cu)&&(Ou|=n),4===Nu&&sl(e,Pu)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Hu=Qe()+500,Fi&&Hi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Mu?Pu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(ul.bind(null,e)):Vi(ul.bind(null,e)),oi((function(){0===(6&Cu)&&Hi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ml(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ft(e,e===Mu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Cu;Cu|=2;var o=hl();for(Mu===e&&Pu===t||(zu=null,Hu=Qe()+500,fl(e,t));;)try{yl();break}catch(u){pl(e,u)}Ea(),Au.current=o,Cu=i,null!==Du?t=0:(Mu=null,Pu=0,t=Nu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=al(e,i))),1===t)throw n=_u,fl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=ht(e))&&(r=o,t=al(e,o))),1===t))throw n=_u,fl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sl(e,Bu,zu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vu+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sl.bind(null,e,Bu,zu),t);break}Sl(e,Bu,zu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(Sl.bind(null,e,Bu,zu),r);break}Sl(e,Bu,zu);break;default:throw Error(a(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~Uu,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(a(327));xl();var t=ft(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=_u,fl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,Bu,zu),rl(e,Qe()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Hu=Qe()+500,Fi&&Hi())}}function cl(e){null!==Xu&&0===Xu.tag&&0===(6&Cu)&&xl();var t=Cu;Cu|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Cu=t))&&Hi()}}function dl(){Lu=Ru.current,Ai(Ru)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:$a(),Ai(Mi),Ai(Ci),no();break;case 5:Ja(r);break;case 4:$a();break;case 13:case 19:Ai(Za);break;case 10:Ia(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Mu=e,Du=e=Rl(e.current,null),Pu=Lu=t,Nu=0,_u=null,Uu=Ou=ju=0,Bu=Fu=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(r=(n=Pa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Pa=null}return e}function pl(e,t){for(;;){var n=Du;try{if(Ea(),ro.current=Jo,lo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(ao=0,uo=so=oo=null,co=!1,fo=0,Eu.current=null,null===n||null===n.return){Nu=1,_u=t,Du=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Pu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,vs(h,s,u,0,t),1&h.mode&&gs(o,c,t),l=c;var g=(t=h).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){gs(o,c,t),gl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,u,0,t),ha(ls(l,u));break e}}o=l=ls(l,u),4!==Nu&&(Nu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Va(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Va(o,hs(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(w){t=w,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function hl(){var e=Au.current;return Au.current=Jo,null===e?Jo:e}function gl(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Mu||0===(268435455&ju)&&0===(268435455&Ou)||sl(Mu,Pu)}function ml(e,t){var n=Cu;Cu|=2;var r=hl();for(Mu===e&&Pu===t||(zu=null,fl(e,t));;)try{vl();break}catch(i){pl(e,i)}if(Ea(),Cu=n,Au.current=r,null!==Du)throw Error(a(261));return Mu=null,Pu=0,Nu}function vl(){for(;null!==Du;)bl(Du)}function yl(){for(;null!==Du&&!Ye();)bl(Du)}function bl(e){var t=Tu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?wl(e):Du=t,Eu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Lu)))return void(Du=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Nu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Nu&&(Nu=5)}function Sl(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{xl()}while(null!==Xu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Mu&&(Du=Mu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Ml(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Eu.current=null,function(e,t){if(ei=Gt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(S){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===i&&(u=s),p===o&&++d===r&&(l=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(S){kl(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tu,tu=!1}(e,n),mu(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),$e(),Cu=u,bt=s,Iu.transition=o}else e.current=n;if(Wu&&(Wu=!1,Xu=e,Yu=i),o=e.pendingLanes,0===o&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&xl(),o=e.pendingLanes,0!==(1&o)?e===Qu?$u++:($u=0,Qu=e):$u=0,Hi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function xl(){if(null!==Xu){var e=wt(Yu),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Yu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nu(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var p=(d=Js).sibling,h=d.return;if(au(d),d===c){Js=null;break}if(null!==p){p.return=h,Js=p;break}Js=h}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){kl(u,u.return,x)}if(u===s){Js=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,Js=S;break e}Js=u.return}}if(Cu=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Tl(e,t,n){e=Fa(e,t=ps(0,t=ls(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)Tl(e,e,n);else for(;null!==t;){if(3===t.tag){Tl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=Fa(t,e=hs(t,e=ls(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Mu===e&&(Pu&n)===n&&(4===Nu||3===Nu&&(130023424&Pu)===Pu&&500>Qe()-Vu?fl(e,0):Uu|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Na(e,t))&&(vt(e,t,n),rl(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),El(e,n)}function Ml(e,t){return We(e,t)}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Dl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return _l(n.children,i,o,t);case k:s=8,i|=8;break;case A:return(e=Pl(12,n,t,2|i)).elementType=A,e.lanes=o,e;case M:return(e=Pl(13,n,t,i)).elementType=M,e.lanes=o,e;case D:return(e=Pl(19,n,t,i)).elementType=D,e.lanes=o,e;case R:return jl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function _l(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function Vl(e){if(!e)return Ii;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return _i(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Ua(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function zl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ua(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,o))&&(nl(e,i,o,a),Ba(e,i,o)),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Tu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),pa();break;case 5:Qa(t);break;case 1:Li(t.type)&&ji(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(xa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Ei(Za,1&Za.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ei(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ma(t,n),i=mo(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=is,t.stateNode=i,i._reactInternals=t,us(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ms(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ha(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Qa(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),As(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Os(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(xa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Mi.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ua(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ca(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ca(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ma(t,n),r=r(i=Da(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),xs(e,t,r,i=ns(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),zs(e,t),t.tag=1,Li(r)?(e=!0,ji(t)):e=!1,Ma(t,n),os(t,r,i),us(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Wl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gl(o);s.call(e)}}zl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[hi]=o.current,Hr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[hi]=u.current,Hr(8===e.nodeType?e.parentNode:e),cl((function(){zl(t,u,n,r)})),u}(n,t,e,i,r);return Gl(o)}Yl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zl(e,t,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){zl(null,e,null,null)})),t[hi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ot(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Qe()),0===(6&Cu)&&(Hu=Qe()+500,Hi()))}break;case 13:cl((function(){var t=Na(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),ql(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nl(t,e,134217728,el());ql(e,134217728)}},Tt=function(e){if(13===e.tag){var t=tl(e),n=Na(e,t);if(null!==n)nl(n,e,t,el());ql(e,t)}},kt=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Me=cl;var ec={usingClientEntryPoint:!1,Events:[bi,wi,Si,Ee,Ie,ll]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(a(299));var n=!1,r="",i=Wl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(a(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Wl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(a(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391),r=n(579);const i=t=>{let{onSearch:n}=t;const[i,a]=(0,e.useState)(!1),[o,s]=(0,e.useState)(""),[u,l]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=()=>{window.scrollY>100?a(!0):a(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);return(0,r.jsxs)("nav",{className:"navigation ".concat(i?"scrolled":""),children:[(0,r.jsxs)("div",{className:"nav-left",children:[(0,r.jsxs)("div",{className:"sap-logo",children:[(0,r.jsxs)("span",{className:"sap-text",children:[(0,r.jsx)("span",{className:"letter",children:"S"}),(0,r.jsx)("span",{className:"letter",children:"A"}),(0,r.jsx)("span",{className:"letter",children:"P"})]}),(0,r.jsxs)("span",{className:"streaming-text",children:[(0,r.jsx)("span",{className:"letter",children:"S"}),(0,r.jsx)("span",{className:"letter",children:"t"}),(0,r.jsx)("span",{className:"letter",children:"r"}),(0,r.jsx)("span",{className:"letter",children:"e"}),(0,r.jsx)("span",{className:"letter",children:"a"}),(0,r.jsx)("span",{className:"letter",children:"m"}),(0,r.jsx)("span",{className:"letter",children:"i"}),(0,r.jsx)("span",{className:"letter",children:"n"}),(0,r.jsx)("span",{className:"letter",children:"g"})]})]}),(0,r.jsxs)("ul",{className:"nav-links",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#accueil",children:"Accueil"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#series",children:"S\xe9ries"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#films",children:"Films"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#nouveautes",children:"Nouveaut\xe9s"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#mylist",children:"Ma Liste"})})]})]}),(0,r.jsxs)("div",{className:"nav-right",children:[(0,r.jsxs)("div",{className:"search-box ".concat(u?"active":""),children:[(0,r.jsx)("input",{type:"text",placeholder:"Rechercher...",value:o,onChange:e=>{const t=e.target.value;s(t),n(t)},onFocus:()=>{l(!0)},onBlur:()=>{o||l(!1)}}),(0,r.jsx)("button",{className:"search-button",children:"\ud83d\udd0d"})]}),(0,r.jsxs)("div",{className:"profile-menu",children:[(0,r.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png",alt:"Profile",className:"profile-icon"}),(0,r.jsx)("div",{className:"profile-dropdown",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#profile",children:"Profil"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#account",children:"Compte"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#help",children:"Aide"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#logout",children:"D\xe9connexion"})})]})})]})]})]})};var a=n(552),o=n.n(a);function s(t){let{titre:n,sousTitre:i,onBack:a}=t;const[o,s]=(0,e.useState)(!0),[u,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=setTimeout((()=>{s(!1)}),3e3);return()=>clearTimeout(e)}),[]),(0,e.useEffect)((()=>{const e=()=>{s(!0),u&&clearTimeout(u);const e=setTimeout((()=>{s(!1)}),3e3);l(e)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e),u&&clearTimeout(u)}}),[u]),(0,r.jsxs)("div",{className:"lecteur-header ".concat(o?"visible":"hidden"),children:[(0,r.jsxs)("button",{className:"lecteur-retour",onClick:a,"aria-label":"Retour \xe0 l'accueil",children:[(0,r.jsx)("span",{children:"\u2190"}),"Retour \xe0 l'accueil"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"lecteur-titre",children:n}),(0,r.jsx)("div",{className:"lecteur-sous-titre",children:i})]})]})}const u=e=>{let{children:t,onClick:n,variant:i="default",className:a="",disabled:o=!1,type:s="button"}=e;return(0,r.jsx)("button",{type:s,onClick:n,disabled:o,className:"lecteur-button lecteur-button-".concat(i," ").concat(a),children:t})};function l(e){let{isLive:t,isAtLiveEdge:n,goToLiveEdge:i}=e;return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"lecteur-live"+(n?"":" lecteur-live-retard"),children:n?"EN DIRECT":"EN RETARD"}),!n&&(0,r.jsx)(u,{onClick:i,variant:"live",children:"Revenir au direct"})]}):null}function c(e){let{avancer:t,reculer:n,handleGoLiveOrVod:i,isCurrentlyLive:a,selectedQuality:o,handleQualityChange:s,qualities:l,selectedAudio:c,handleAudioChange:d,audioTracks:f,selectedText:p,handleTextChange:h,textTracks:g,handleOpenPlaylist:m}=e;return(0,r.jsxs)("div",{className:"lecteur-boutons",children:[(0,r.jsx)(u,{onClick:n,children:"\u23ea 10s"}),(0,r.jsx)(u,{onClick:t,children:"10s \u23e9"}),(0,r.jsx)(u,{onClick:i,variant:"live",children:a?"Retour VOD":"Passer en direct"}),(0,r.jsxs)("select",{value:o,onChange:s,className:"lecteur-select-qualite","aria-label":"S\xe9lectionner la qualit\xe9",children:[(0,r.jsx)("option",{value:"auto",children:"Qualit\xe9 : Auto"}),l.filter(((e,t,n)=>n.findIndex((t=>t.height===e.height))===t)).sort(((e,t)=>t.height-e.height)).map((e=>(0,r.jsx)("option",{value:e.id,children:e.height?e.height+"p":e.bandwidth+"bps"},e.id)))]}),(0,r.jsxs)("select",{value:c,onChange:d,className:"lecteur-select-qualite","aria-label":"S\xe9lectionner la piste audio",children:[(0,r.jsx)("option",{value:"auto",children:"Audio : Auto"}),f.filter(((e,t,n)=>n.findIndex((t=>t.language===e.language))===t)).map((e=>(0,r.jsxs)("option",{value:e.language,children:["Audio : ",e.language]},e.language)))]}),(0,r.jsxs)("select",{value:p,onChange:h,className:"lecteur-select-qualite","aria-label":"S\xe9lectionner les sous-titres",children:[(0,r.jsx)("option",{value:"off",children:"Sous-titres : Aucun"}),g.filter(((e,t,n)=>n.findIndex((t=>t.language===e.language))===t)).map((e=>(0,r.jsxs)("option",{value:e.language,children:["Sous-titres : ",e.language]},e.language)))]}),(0,r.jsx)(u,{onClick:m,variant:"playlist",children:"Playlist"})]})}function d(e){let{show:t,onClose:n,playlist:i,currentIndex:a,onSelect:o}=e;return t?(0,r.jsxs)("div",{className:"lecteur-playlist-popup",children:[(0,r.jsx)(u,{onClick:n,className:"lecteur-playlist-close",children:"X"}),(0,r.jsx)("div",{className:"lecteur-playlist-list",children:i.map(((e,t)=>(0,r.jsxs)(u,{className:"lecteur-playlist-item".concat(t===a?" active":""),onClick:()=>{o(t),n()},children:[e.titre," ",(0,r.jsxs)("span",{style:{fontSize:"0.9em",color:"#bdbdbd"},children:["(",e.sousTitre,")"]})]},e.url)))})]}):null}const f=[{titre:"Live Test (DASH-IF)",sousTitre:"Flux en direct de test DASH-IF",url:"https://livesim.dashif.org/livesim/testpic_2s/Manifest.mpd",live:!0},{titre:"Captain Luck (Angel One)",sousTitre:"Bande-annonce",url:"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd",live:!1},{titre:"Big Buck Bunny",sousTitre:"D\xe9monstration DASH",url:"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd",live:!1},{titre:"sintel",sousTitre:"Film Tears of Steel",url:"https://storage.googleapis.com/shaka-demo-assets/sintel/dash.mpd",live:!1},{titre:"Tears of Steel",sousTitre:"Film de d\xe9mo DASH",url:"https://example.com/new-stream.mpd",live:!1},{titre:"Drama (HLS)",sousTitre:"Demo HLS - ShakaPlayer",url:"https://storage.googleapis.com/shaka-demo-assets/angel-one-hls/hls.m3u8",live:!1,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Clap_cinema_film.svg/320px-Clap_cinema_film.svg.png"}],p=t=>{let{initialVideo:n}=t;const i=(0,e.useRef)(null),a=(0,e.useRef)(null),[u,p]=(0,e.useState)(!1),[h,g]=(0,e.useState)([]),[m,v]=(0,e.useState)("auto"),[y,b]=(0,e.useState)([]),[w,S]=(0,e.useState)("off"),[x,T]=(0,e.useState)([]),[k,A]=(0,e.useState)("auto"),[E,I]=(0,e.useState)(!0),[C,M]=(0,e.useState)(!1),[D,P]=(0,e.useState)((()=>{if(n){const e=f.findIndex((e=>e.url===n.url));return-1!==e?e:0}const e=f.findIndex((e=>!e.live));return-1!==e?e:0})),L=f[D],R=L.live,N=f.filter((e=>!e.live));(0,e.useEffect)((()=>{a.current&&(a.current.destroy(),a.current=null),i.current&&i.current.removeEventListener("timeupdate",_);return async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.url,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.live;if(!i.current)return;const n=new(o().Player)(i.current);a.current=n;n.configure("drm",{servers:{"com.widevine.alpha":"https://license.widevine.com/getlicense"}});n.configure("ad",{adTagUrl:"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator="}),"function"===typeof n.addEventListener&&n.addEventListener("adaptation",(()=>{const e=n.getVariantTracks();g(e),T(n.getVariantTracks().filter(((e,t,n)=>n.findIndex((t=>t.language===e.language))===t))),b(n.getTextTracks())}));try{await n.load(e),p(t);const r=n.getVariantTracks();g(r),T(n.getVariantTracks().filter(((e,t,n)=>n.findIndex((t=>t.language===e.language))===t))),b(n.getTextTracks()),i.current&&i.current.play().catch((()=>{})),t&&(I(!0),i.current.addEventListener("timeupdate",_))}catch(r){console.error("Erreur lors du chargement de la vid\xe9o:",r)}i.current&&(i.current.onended=()=>{D<f.length-1&&P(D+1)})}(),()=>{a.current&&(a.current.destroy(),a.current=null),i.current&&i.current.removeEventListener("timeupdate",_)}}),[D]);const _=()=>{if(!i.current||!a.current||!a.current.isLive())return;const e=a.current.seekRange().end,t=i.current.currentTime;I(e-t<2)};(0,e.useEffect)((()=>{if(R&&i.current)return i.current.addEventListener("seeking",j),()=>{i.current&&i.current.removeEventListener("seeking",j)}}),[R]);const j=e=>{if(!a.current||!a.current.isLive())return;const t=a.current.seekRange().end;i.current.currentTime<t-2&&(i.current.currentTime=t)};return(0,r.jsxs)("div",{className:"lecteur-container",children:[(0,r.jsx)(s,{titre:L.titre,sousTitre:L.sousTitre,onBack:()=>{a.current&&a.current.destroy(),window.location.href="/"}}),(0,r.jsxs)("div",{className:"lecteur-video-wrapper",children:[(0,r.jsx)("video",{ref:i,controls:!0,className:"lecteur-video","data-testid":"video-player"},D),(0,r.jsx)(l,{isLive:u,isAtLiveEdge:E,goToLiveEdge:()=>{if(a.current&&i.current&&a.current.isLive()){const e=a.current.seekRange().end;i.current.currentTime=e,I(!0)}}})]}),(0,r.jsx)(c,{avancer:()=>{i.current&&(i.current.currentTime+=10)},reculer:()=>{i.current&&(i.current.currentTime-=10)},handleGoLiveOrVod:()=>{if(R){const e=f.findIndex((e=>!e.live));-1!==e&&P(e)}else{const e=f.findIndex((e=>e.live));-1!==e&&(P(e),e===D&&i.current&&a.current&&a.current.load(f[e].url).then((()=>{p(!0),i.current.play().catch((()=>{}))})))}},isCurrentlyLive:R,selectedQuality:m,handleQualityChange:e=>{const t=e.target.value;if(v(t),a.current)if("auto"===t)a.current.configure({abr:{enabled:!0}});else{a.current.configure({abr:{enabled:!1}});const e=h.find((e=>e.id.toString()===t));e&&a.current.selectVariantTrack(e,!0)}},qualities:h,selectedAudio:k,handleAudioChange:e=>{const t=e.target.value;if(A(t),a.current)if("auto"===t)a.current.configure({abr:{enabled:!0}});else{a.current.configure({abr:{enabled:!1}});const e=x.find((e=>e.language===t));e&&a.current.selectAudioLanguage(e.language)}},audioTracks:x,selectedText:w,handleTextChange:e=>{const t=e.target.value;if(S(t),a.current)if("off"===t)a.current.setTextTrackVisibility(!1);else{a.current.setTextTrackVisibility(!0);const e=y.find((e=>e.language===t));e&&a.current.selectTextLanguage(e.language)}},textTracks:y,handleOpenPlaylist:()=>M(!0)}),(0,r.jsx)(d,{show:C,onClose:()=>M(!1),playlist:N,currentIndex:N.findIndex((e=>e.url===L.url)),onSelect:e=>{(e=>{P(e)})(f.findIndex((t=>t.url===N[e].url)))}})]})},h=[{titre:"Live Test (DASH-IF)",sousTitre:"Flux en direct de test DASH-IF",url:"https://livesim.dashif.org/livesim/testpic_2s/Manifest.mpd",live:!0,imageUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/images/ElephantsDream.jpg"},{titre:"Captain Luck (Angel One)",sousTitre:"Bande-annonce",url:"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd",live:!1,imageUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/images/TearsOfSteel.jpg"},{titre:"Big Buck Bunny",sousTitre:"D\xe9monstration DASH",url:"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd",live:!1,imageUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg"},{titre:"Sintel",sousTitre:"Film de d\xe9mo DASH",url:"https://storage.googleapis.com/shaka-demo-assets/sintel/dash.mpd",live:!1,imageUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/images/Sintel.jpg"},{titre:"Envivio Live",sousTitre:"Flux live multi-bitrate",url:"https://wowzaec2demo.streamlock.net/live/bigbuckbunny/manifest_mpm4sav_mvtime.mpd",live:!0,imageUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/images/ForBiggerBlazes.jpg"},{titre:"Tears of Steel",sousTitre:"Film d'animation DASH",url:"https://bitmovin-a.akamaihd.net/content/sintel/sintel.mpd",live:!1,imageUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/images/TearsOfSteel.jpg"},{titre:"Elephants Dream",sousTitre:"Premier film open source",url:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/ElephantsDream/elephants_dream_480p.mpd",live:!1,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Elephants_Dream_s1_proog.jpg/320px-Elephants_Dream_s1_proog.jpg"},{titre:"Art Demo",sousTitre:"D\xe9mo artistique en DASH",url:"https://bitmovin-a.akamaihd.net/content/art-of-motion_drm/mpds/11331.mpd",live:!1,imageUrl:"https://i.imgur.com/3fJ1P48.jpeg"},{titre:"NASA TV UHD",sousTitre:"Flux live UHD (si support\xe9)",url:"https://demo.unified-streaming.com/k8s/features/stable/video/nasa.mpd",live:!0,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/320px-NASA_logo.svg.png"},{titre:"BBB 60fps",sousTitre:"Version 60fps de Big Buck Bunny",url:"https://bitmovin-a.akamaihd.net/content/bbb/manifest.mpd",live:!1,imageUrl:"https://peach.blender.org/wp-content/uploads/title_anouncement.jpg?x11217"},{titre:"Live CMAF Test",sousTitre:"Flux live en format CMAF (DASH)",url:"https://livesim.dashif.org/livesim/segtimeline_1/testpic_2s/Manifest.mpd",live:!0,imageUrl:"https://i.imgur.com/MY1gEFg.jpeg"}],g=()=>{const[t,n]=(0,e.useState)(null),[a,o]=(0,e.useState)([]),[s,u]=(0,e.useState)(!1),[l,c]=(0,e.useState)(null),[d,f]=(0,e.useState)(null),[g,m]=(0,e.useState)(0),[v,y]=(0,e.useState)("accueil"),b=h.filter((e=>!e.live)).slice(0,5);(0,e.useEffect)((()=>{const e=setInterval((()=>{m((e=>e===b.length-1?0:e+1))}),2e4);return()=>clearInterval(e)}),[]),(0,e.useEffect)((()=>{const e=b[g];n({title:e.titre,description:e.sousTitre,imageUrl:e.imageUrl,videoUrl:e.url})}),[g]),(0,e.useEffect)((()=>{o([{title:"Contenu en Direct",items:h.filter((e=>e.live))},{title:"Films Populaires",items:h.filter((e=>!e.live))},{title:"Films d'Animation",items:h.filter((e=>!e.live&&(e.titre.includes("Bunny")||e.titre.includes("Sintel"))))},{title:"Bandes-annonces",items:h.filter((e=>!e.live&&e.titre.includes("Captain")))}])}),[]);const w=e=>{c(e),u(!0)};return s&&l?(0,r.jsx)("div",{className:"video-player-container",children:(0,r.jsx)(p,{initialVideo:{titre:l.titre,url:l.url,live:l.live}})}):(0,r.jsxs)("div",{className:"home-page",children:[(0,r.jsx)(i,{onSearch:e=>{if(!e.trim())return void f(null);const t=h.filter((t=>t.titre.toLowerCase().includes(e.toLowerCase())||t.sousTitre.toLowerCase().includes(e.toLowerCase())));f({title:"R\xe9sultats de recherche",items:t})},onCategoryChange:e=>{let t;switch(y(e),f(null),e){case"series":t=h.filter((e=>!e.live&&e.titre.includes("Saison")));break;case"films":t=h.filter((e=>!e.live&&!e.titre.includes("Saison")));break;case"nouveautes":t=h.slice(-5);break;case"mylist":t=h.filter((e=>e.titre.includes("Dream")||e.titre.includes("Art")));break;default:t=h}o([{title:"accueil"===e?"Contenu en Direct":"Contenu Populaire",items:t.filter((e=>e.live))},{title:"accueil"===e?"Films Populaires":"Recommandations",items:t.filter((e=>!e.live))}])}}),d?(0,r.jsx)("div",{className:"content-categories",children:(0,r.jsxs)("div",{className:"category",children:[(0,r.jsx)("h2",{className:"category-title",children:d.title}),(0,r.jsx)("div",{className:"category-items",children:d.items.map(((e,t)=>(0,r.jsxs)("div",{className:"content-item",onClick:()=>w(e),children:[(0,r.jsxs)("div",{className:"content-item-image",children:[(0,r.jsx)("img",{src:e.imageUrl,alt:e.titre}),e.live&&(0,r.jsx)("span",{className:"live-badge",children:"EN DIRECT"}),(0,r.jsx)("div",{className:"content-item-overlay",children:(0,r.jsx)("button",{className:"play-button-small",children:"\u25b6"})})]}),(0,r.jsx)("h3",{children:e.titre}),(0,r.jsx)("p",{className:"content-item-subtitle",children:e.sousTitre})]},t)))})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"featured-content",style:{backgroundImage:"linear-gradient(to bottom, rgba(0,0,0,0.4), rgba(0,0,0,0.8)), url(".concat(null===t||void 0===t?void 0:t.imageUrl,")")},children:[(0,r.jsxs)("div",{className:"featured-content-info",children:[(0,r.jsx)("h1",{children:null===t||void 0===t?void 0:t.title}),(0,r.jsx)("p",{children:null===t||void 0===t?void 0:t.description}),(0,r.jsxs)("div",{className:"featured-buttons",children:[(0,r.jsx)("button",{className:"play-button",onClick:()=>w({titre:t.title,sousTitre:t.description,url:t.videoUrl,live:!1}),children:"\u25b6 Lecture"}),(0,r.jsx)("button",{className:"more-info-button",children:"\u2139 Plus d'infos"})]})]}),(0,r.jsx)("div",{className:"banner-indicators",children:b.map(((e,t)=>(0,r.jsx)("div",{className:"banner-indicator ".concat(t===g?"active":""),onClick:()=>m(t)},t)))})]}),(0,r.jsx)("div",{className:"content-categories",children:a.map(((e,t)=>(0,r.jsxs)("div",{className:"category",children:[(0,r.jsx)("h2",{className:"category-title",children:e.title}),(0,r.jsx)("div",{className:"category-items",children:e.items.map(((e,t)=>(0,r.jsxs)("div",{className:"content-item",onClick:()=>w(e),children:[(0,r.jsxs)("div",{className:"content-item-image",children:[(0,r.jsx)("img",{src:e.imageUrl,alt:e.titre}),e.live&&(0,r.jsx)("span",{className:"live-badge",children:"EN DIRECT"}),(0,r.jsx)("div",{className:"content-item-overlay",children:(0,r.jsx)("button",{className:"play-button-small",children:"\u25b6"})})]}),(0,r.jsx)("h3",{children:e.titre}),(0,r.jsx)("p",{className:"content-item-subtitle",children:e.sousTitre})]},t)))})]},t)))})]})]})};const m=function(){return(0,r.jsxs)("div",{className:"app",children:[(0,r.jsx)(i,{}),(0,r.jsx)(g,{})]})};t.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(m,{})}))})()})();
//# sourceMappingURL=main.bf314401.js.map